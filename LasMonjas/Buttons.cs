using HarmonyLib;
using Hazel;
using System;
using UnityEngine;
using static LasMonjas.LasMonjas;
using LasMonjas.Objects;
using System.Linq;
using LasMonjas.Core;
using System.Collections.Generic;
using AmongUs.GameOptions;

namespace LasMonjas
{
    [HarmonyPatch(typeof(HudManager), nameof(HudManager.Start))]
    static class HudManagerStartPatch
    {
        // Impostor buttons
        private static CustomButton mimicTransformButton;
        private static CustomButton painterPaintButton;
        private static CustomButton demonKillButton;
        private static CustomButton nunButton;
        public static CustomButton janitorCleanButton;
        public static CustomButton janitorDragBodyButton;
        private static CustomButton placeHatButton;
        private static CustomButton illusionistLightsOutButton;
        public static CustomButton manipulatorManipulateButton;
        public static CustomButton manipulatedKillButton;
        public static CustomButton bombermanBombButton;
        private static CustomButton bombButton;
        public static CustomButton bombermanSelfBombButton;
        public static CustomButton chameleonInvisibleButton;
        public static CustomButton sorcererSpellButton;
        private static CustomButton medusaPetrifyButton;
        private static CustomButton unpetrifyButton;
        private static CustomButton hypnotistSpiralButton;
        public static CustomButton archerShowWeaponButton;
        public static CustomButton archerKillButton;
        public static CustomButton plumberMakeVentButton;
        public static CustomButton librarianSilenceButton;

        // Rebels buttons
        private static CustomButton renegadeKillButton;
        private static CustomButton renegadeMinionButton;
        private static CustomButton minionKillButton;
        private static CustomButton bountyHunterKillButton;
        private static CustomButton bountyHunterSetKillButton;
        private static CustomButton trapperMineButton;
        private static CustomButton trapperTrapButton;
        private static CustomButton trapperKillButton;
        private static CustomButton yinyangerYinButton;
        private static CustomButton yinyangerYangButton;
        private static CustomButton yinyangerKillButton;
        private static CustomButton yinyangerYinYangButton;
        private static CustomButton challengerChallengeButton;
        private static CustomButton challengerKillButton;
        public static CustomButton challengerRockButton;
        public static CustomButton challengerPaperButton;
        public static CustomButton challengerScissorsButton;
        public static CustomButton rivalplayerRockButton;
        public static CustomButton rivalplayerPaperButton;
        public static CustomButton rivalplayerScissorsButton;
        private static CustomButton ninjaKillButton;
        public static CustomButton ninjaMarkButton;
        private static CustomButton berserkerKillButton;
        private static CustomButton yandereStareButton;
        private static CustomButton yandereKillButton;
        private static CustomButton strandedFindBoxButton;
        private static CustomButton strandedKillButton;
        public static CustomButton strandedInvisibleButton;
        public static CustomButton monjaFindDeliverButton;
        private static CustomButton monjaKillButton;

        // Neutral buttons
        private static CustomButton roleThiefStealButton;
        public static CustomButton pyromaniacButton;
        private static CustomButton treasureHunterButton;
        private static CustomButton devourerButton;
        private static CustomButton devourerEatButton;
        public static CustomButton poisonerButton;
        public static CustomButton puppeteerTransformButton;
        public static CustomButton puppeteerSampleButton;
        private static CustomButton exilerSetTargetButton;
        private static CustomButton amnesiacReportAndTakeRoleButton;
        public static CustomButton seekerMinigameButton;
        public static CustomButton seekerPerformMinigameButton;
        public static CustomButton seekerHideOneButton;
        public static CustomButton seekerHideTwoButton;
        public static CustomButton seekerHideThreeButton;
        public static CustomButton hidedPlayerOneHideOneButton;
        public static CustomButton hidedPlayerOneHideTwoButton;
        public static CustomButton hidedPlayerOneHideThreeButton;
        public static CustomButton hidedPlayerTwoHideOneButton;
        public static CustomButton hidedPlayerTwoHideTwoButton;
        public static CustomButton hidedPlayerTwoHideThreeButton;
        public static CustomButton hidedPlayerThreeHideOneButton;
        public static CustomButton hidedPlayerThreeHideTwoButton;
        public static CustomButton hidedPlayerThreeHideThreeButton;

        // Crewmate buttons
        public static CustomButton captainCallButton;
        private static CustomButton mechanicRepairButton;
        private static CustomButton sheriffKillButton;
        private static CustomButton detectiveButton;
        private static CustomButton forensicButton;
        public static CustomButton timeTravelerShieldButton;
        public static CustomButton timeTravelerRewindTimeButton;
        private static CustomButton squireShieldButton;
        private static CustomButton fortuneTellerRevealButton;
        private static CustomButton hackerButton;
        private static CustomButton hackerVitalsButton;
        private static CustomButton hackerAdminTableButton;
        private static CustomButton sleuthLocatePlayerButton;
        private static CustomButton sleuthLocateCorpsesButton;
        private static CustomButton sleuthWhosThereButton;
        private static CustomButton finkButton;
        public static CustomButton welderSealButton;
        public static CustomButton welderBombVentButton;
        public static CustomButton spiritualistReviveButton;
        public static CustomButton vigilantButton;
        public static CustomButton vigilantCamButton;
        private static CustomButton hunterButton;
        public static CustomButton jinxButton;
        public static CustomButton cowardCallButton;
        private static CustomButton batButton;
        public static CustomButton necromancerDragBodyButton;
        public static CustomButton necromancerReviveButton;
        private static CustomButton engineerTrapButton;
        private static CustomButton locksmithOpenDoorButton;
        private static CustomButton taskMasterButton;
        public static CustomButton jailerJailButton;

        public static CustomButton zoomOutButton;
        public static CustomButton whoAmIButton;

        // Capture the flag buttons
        private static CustomButton redplayer01KillButton;
        private static CustomButton redplayer01TakeFlagButton;
        private static CustomButton redplayer02KillButton;
        private static CustomButton redplayer02TakeFlagButton;
        private static CustomButton redplayer03KillButton;
        private static CustomButton redplayer03TakeFlagButton;
        private static CustomButton redplayer04KillButton;
        private static CustomButton redplayer04TakeFlagButton;
        private static CustomButton redplayer05KillButton;
        private static CustomButton redplayer05TakeFlagButton;
        private static CustomButton redplayer06KillButton;
        private static CustomButton redplayer06TakeFlagButton;
        private static CustomButton redplayer07KillButton;
        private static CustomButton redplayer07TakeFlagButton;
        private static CustomButton blueplayer01KillButton;
        private static CustomButton blueplayer01TakeFlagButton;
        private static CustomButton blueplayer02KillButton;
        private static CustomButton blueplayer02TakeFlagButton;
        private static CustomButton blueplayer03KillButton;
        private static CustomButton blueplayer03TakeFlagButton;
        private static CustomButton blueplayer04KillButton;
        private static CustomButton blueplayer04TakeFlagButton;
        private static CustomButton blueplayer05KillButton;
        private static CustomButton blueplayer05TakeFlagButton;
        private static CustomButton blueplayer06KillButton;
        private static CustomButton blueplayer06TakeFlagButton;
        private static CustomButton blueplayer07KillButton;
        private static CustomButton blueplayer07TakeFlagButton;
        private static CustomButton stealerPlayerKillButton;

        // Police and Thief
        private static CustomButton policeplayer01JailButton;
        private static CustomButton policeplayer01KillButton;
        private static CustomButton policeplayer01LightButton;
        private static CustomButton policeplayer02KillButton;
        private static CustomButton policeplayer02TaseButton;
        private static CustomButton policeplayer02LightButton;
        private static CustomButton policeplayer03JailButton;
        private static CustomButton policeplayer03KillButton;
        private static CustomButton policeplayer03LightButton;
        private static CustomButton policeplayer04TaseButton;
        private static CustomButton policeplayer04KillButton;
        private static CustomButton policeplayer04LightButton;
        private static CustomButton policeplayer05JailButton;
        private static CustomButton policeplayer05KillButton;
        private static CustomButton policeplayer05LightButton;
        private static CustomButton policeplayer06JailButton;
        private static CustomButton policeplayer06KillButton;
        private static CustomButton policeplayer06LightButton;

        private static CustomButton thiefplayer01KillButton;
        private static CustomButton thiefplayer01FreeThiefButton;
        private static CustomButton thiefplayer01TakeDeliverJewelButton;
        private static CustomButton thiefplayer02KillButton;
        private static CustomButton thiefplayer02FreeThiefButton;
        private static CustomButton thiefplayer02TakeDeliverJewelButton;
        private static CustomButton thiefplayer03KillButton;
        private static CustomButton thiefplayer03FreeThiefButton;
        private static CustomButton thiefplayer03TakeDeliverJewelButton;
        private static CustomButton thiefplayer04KillButton;
        private static CustomButton thiefplayer04FreeThiefButton;
        private static CustomButton thiefplayer04TakeDeliverJewelButton;
        private static CustomButton thiefplayer05KillButton;
        private static CustomButton thiefplayer05FreeThiefButton;
        private static CustomButton thiefplayer05TakeDeliverJewelButton;
        private static CustomButton thiefplayer06KillButton;
        private static CustomButton thiefplayer06FreeThiefButton;
        private static CustomButton thiefplayer06TakeDeliverJewelButton;
        private static CustomButton thiefplayer07KillButton;
        private static CustomButton thiefplayer07FreeThiefButton;
        private static CustomButton thiefplayer07TakeDeliverJewelButton;
        private static CustomButton thiefplayer08KillButton;
        private static CustomButton thiefplayer08FreeThiefButton;
        private static CustomButton thiefplayer08TakeDeliverJewelButton;
        private static CustomButton thiefplayer09KillButton;
        private static CustomButton thiefplayer09FreeThiefButton;
        private static CustomButton thiefplayer09TakeDeliverJewelButton;

        // King of the hill buttons
        private static CustomButton greenKingplayerCaptureZoneButton;
        private static CustomButton greenplayer01KillButton;
        private static CustomButton greenplayer02KillButton;
        private static CustomButton greenplayer03KillButton;
        private static CustomButton greenplayer04KillButton;
        private static CustomButton greenplayer05KillButton;
        private static CustomButton greenplayer06KillButton;
        private static CustomButton yellowKingplayerCaptureZoneButton;
        private static CustomButton yellowplayer01KillButton;
        private static CustomButton yellowplayer02KillButton;
        private static CustomButton yellowplayer03KillButton;
        private static CustomButton yellowplayer04KillButton;
        private static CustomButton yellowplayer05KillButton;
        private static CustomButton yellowplayer06KillButton;
        private static CustomButton usurperPlayerKillButton;

        // Hot Potato button
        public static CustomButton hotPotatoButton;

        // ZombieLaboratory
        private static CustomButton zombie01InfectButton;
        private static CustomButton zombie01KillButton;
        private static CustomButton zombie02InfectButton;
        private static CustomButton zombie02KillButton;
        private static CustomButton zombie03InfectButton;
        private static CustomButton zombie03KillButton;
        private static CustomButton zombie04InfectButton;
        private static CustomButton zombie04KillButton;
        private static CustomButton zombie05InfectButton;
        private static CustomButton zombie05KillButton;
        private static CustomButton zombie06InfectButton;
        private static CustomButton zombie06KillButton;
        private static CustomButton zombie07InfectButton;
        private static CustomButton zombie07KillButton;
        private static CustomButton zombie08InfectButton;
        private static CustomButton zombie08KillButton;
        private static CustomButton zombie09InfectButton;
        private static CustomButton zombie09KillButton;
        private static CustomButton zombie10InfectButton;
        private static CustomButton zombie10KillButton;
        private static CustomButton zombie11InfectButton;
        private static CustomButton zombie11KillButton;
        private static CustomButton zombie12InfectButton;
        private static CustomButton zombie12KillButton;
        private static CustomButton zombie13InfectButton;
        private static CustomButton zombie13KillButton;
        private static CustomButton zombie14InfectButton;
        private static CustomButton zombie14KillButton;
        private static CustomButton survivor01KillButton;
        private static CustomButton survivor01FindDeliverButton;
        private static CustomButton survivor01EnterExitButton;
        private static CustomButton survivor02KillButton;
        private static CustomButton survivor02FindDeliverButton;
        private static CustomButton survivor02EnterExitButton;
        private static CustomButton survivor03KillButton;
        private static CustomButton survivor03FindDeliverButton;
        private static CustomButton survivor03EnterExitButton;
        private static CustomButton survivor04KillButton;
        private static CustomButton survivor04FindDeliverButton;
        private static CustomButton survivor04EnterExitButton;
        private static CustomButton survivor05KillButton;
        private static CustomButton survivor05FindDeliverButton;
        private static CustomButton survivor05EnterExitButton;
        private static CustomButton survivor06KillButton;
        private static CustomButton survivor06FindDeliverButton;
        private static CustomButton survivor06EnterExitButton;
        private static CustomButton survivor07KillButton;
        private static CustomButton survivor07FindDeliverButton;
        private static CustomButton survivor07EnterExitButton;
        private static CustomButton survivor08KillButton;
        private static CustomButton survivor08FindDeliverButton;
        private static CustomButton survivor08EnterExitButton;
        private static CustomButton survivor09KillButton;
        private static CustomButton survivor09FindDeliverButton;
        private static CustomButton survivor09EnterExitButton;
        private static CustomButton survivor10KillButton;
        private static CustomButton survivor10FindDeliverButton;
        private static CustomButton survivor10EnterExitButton;
        private static CustomButton survivor11KillButton;
        private static CustomButton survivor11FindDeliverButton;
        private static CustomButton survivor11EnterExitButton;
        private static CustomButton survivor12KillButton;
        private static CustomButton survivor12FindDeliverButton;
        private static CustomButton survivor12EnterExitButton;
        private static CustomButton survivor13KillButton;
        private static CustomButton survivor13FindDeliverButton;
        private static CustomButton survivor13EnterExitButton;
        private static CustomButton nurseEnterExitButton;
        private static CustomButton nurseMedKitButton;
        private static CustomButton nurseCreateCureButton;

        // Battle Royale
        private static CustomButton soloPlayer01KillButton;
        private static CustomButton soloPlayer02KillButton;
        private static CustomButton soloPlayer03KillButton;
        private static CustomButton soloPlayer04KillButton;
        private static CustomButton soloPlayer05KillButton;
        private static CustomButton soloPlayer06KillButton;
        private static CustomButton soloPlayer07KillButton;
        private static CustomButton soloPlayer08KillButton;
        private static CustomButton soloPlayer09KillButton;
        private static CustomButton soloPlayer10KillButton;
        private static CustomButton soloPlayer11KillButton;
        private static CustomButton soloPlayer12KillButton;
        private static CustomButton soloPlayer13KillButton;
        private static CustomButton soloPlayer14KillButton;
        private static CustomButton soloPlayer15KillButton;
        private static CustomButton limePlayer01KillButton;
        private static CustomButton limePlayer02KillButton;
        private static CustomButton limePlayer03KillButton;
        private static CustomButton limePlayer04KillButton;
        private static CustomButton limePlayer05KillButton;
        private static CustomButton limePlayer06KillButton;
        private static CustomButton limePlayer07KillButton;
        private static CustomButton pinkPlayer01KillButton;
        private static CustomButton pinkPlayer02KillButton;
        private static CustomButton pinkPlayer03KillButton;
        private static CustomButton pinkPlayer04KillButton;
        private static CustomButton pinkPlayer05KillButton;
        private static CustomButton pinkPlayer06KillButton;
        private static CustomButton pinkPlayer07KillButton;
        private static CustomButton serialKillerKillButton;

        // Monja Festival buttons
        private static CustomButton greenmonja01KillButton;
        public static CustomButton greenmonja01PickDeliverButton;
        private static CustomButton greenmonja02KillButton;
        private static CustomButton greenmonja02PickDeliverButton;
        private static CustomButton greenmonja03KillButton;
        private static CustomButton greenmonja03PickDeliverButton;
        private static CustomButton greenmonja04KillButton;
        private static CustomButton greenmonja04PickDeliverButton;
        private static CustomButton greenmonja05KillButton;
        private static CustomButton greenmonja05PickDeliverButton;
        private static CustomButton greenmonja06KillButton;
        private static CustomButton greenmonja06PickDeliverButton;
        private static CustomButton greenmonja07KillButton;
        private static CustomButton greenmonja07PickDeliverButton;
        private static CustomButton cyanmonja01KillButton;
        private static CustomButton cyanmonja01PickDeliverButton;
        private static CustomButton cyanmonja02KillButton;
        private static CustomButton cyanmonja02PickDeliverButton;
        private static CustomButton cyanmonja03KillButton;
        private static CustomButton cyanmonja03PickDeliverButton;
        private static CustomButton cyanmonja04KillButton;
        private static CustomButton cyanmonja04PickDeliverButton;
        private static CustomButton cyanmonja05KillButton;
        private static CustomButton cyanmonja05PickDeliverButton;
        private static CustomButton cyanmonja06KillButton;
        private static CustomButton cyanmonja06PickDeliverButton;
        private static CustomButton cyanmonja07KillButton;
        private static CustomButton cyanmonja07PickDeliverButton;
        private static CustomButton bigmonjaKillButton;
        private static CustomButton bigmonjaPickDeliverButton;
        public static CustomButton bigmonjaInvisibleButton;

        public static void setCustomButtonCooldowns() {
            // Impostor buttons
            mimicTransformButton.MaxTimer = Mimic.cooldown;
            mimicTransformButton.EffectDuration = Mimic.duration;
            painterPaintButton.MaxTimer = Painter.cooldown;
            painterPaintButton.EffectDuration = Painter.duration;
            demonKillButton.MaxTimer = Demon.cooldown;
            demonKillButton.EffectDuration = Demon.delay;
            nunButton.MaxTimer = 10f;
            janitorCleanButton.MaxTimer = Janitor.cooldown;
            janitorDragBodyButton.MaxTimer = 10;
            placeHatButton.MaxTimer = Illusionist.placeHatCooldown;
            illusionistLightsOutButton.MaxTimer = Illusionist.lightsOutCooldown;
            illusionistLightsOutButton.EffectDuration = Illusionist.lightsOutDuration;
            illusionistLightsOutButton.Timer = illusionistLightsOutButton.MaxTimer;
            manipulatorManipulateButton.MaxTimer = Manipulator.cooldown;
            manipulatedKillButton.MaxTimer = 15f;
            bombermanBombButton.MaxTimer = Bomberman.bombCooldown;
            bombermanBombButton.EffectDuration = Bomberman.bombDuration;
            bombButton.MaxTimer = 10f;
            bombermanSelfBombButton.MaxTimer = 20f;
            bombermanSelfBombButton.EffectDuration = Bomberman.selfbombDuration; 
            chameleonInvisibleButton.MaxTimer = Chameleon.cooldown;
            chameleonInvisibleButton.EffectDuration = Chameleon.duration;
            sorcererSpellButton.MaxTimer = Sorcerer.cooldown;
            sorcererSpellButton.EffectDuration = Sorcerer.spellDuration;
            medusaPetrifyButton.MaxTimer = Medusa.cooldown;
            medusaPetrifyButton.EffectDuration = Medusa.delay;
            unpetrifyButton.MaxTimer = 30f;
            hypnotistSpiralButton.MaxTimer = Hypnotist.cooldown;
            archerShowWeaponButton.MaxTimer = 10f;
            archerKillButton.MaxTimer = Archer.cooldown;
            plumberMakeVentButton.MaxTimer = Plumber.cooldown;
            librarianSilenceButton.MaxTimer = Librarian.cooldown;

            // Rebels buttons
            renegadeKillButton.MaxTimer = Renegade.cooldown;
            renegadeMinionButton.MaxTimer = 15f;
            minionKillButton.MaxTimer = Minion.cooldown;
            bountyHunterKillButton.MaxTimer = BountyHunter.killCooldown;
            bountyHunterSetKillButton.MaxTimer = 10f;
            trapperMineButton.MaxTimer = Trapper.cooldown;
            trapperTrapButton.MaxTimer = Trapper.cooldown;
            trapperKillButton.MaxTimer = GameOptionsManager.Instance.CurrentGameOptions.GetFloat(FloatOptionNames.KillCooldown);
            yinyangerYinButton.MaxTimer = Yinyanger.cooldown;
            yinyangerYangButton.MaxTimer = Yinyanger.cooldown;
            yinyangerKillButton.MaxTimer = GameOptionsManager.Instance.CurrentGameOptions.GetFloat(FloatOptionNames.KillCooldown);
            yinyangerYinYangButton.MaxTimer = Yinyanger.cooldown;
            challengerChallengeButton.MaxTimer = Challenger.cooldown;
            challengerChallengeButton.EffectDuration = Challenger.duration;
            challengerKillButton.MaxTimer = GameOptionsManager.Instance.CurrentGameOptions.GetFloat(FloatOptionNames.KillCooldown);
            challengerRockButton.MaxTimer = 10f;
            challengerPaperButton.MaxTimer = 10f;
            challengerScissorsButton.MaxTimer = 10f;
            rivalplayerRockButton.MaxTimer = 10f;
            rivalplayerPaperButton.MaxTimer = 10f;
            rivalplayerScissorsButton.MaxTimer = 10f;
            ninjaKillButton.MaxTimer = Ninja.cooldown;
            ninjaMarkButton.MaxTimer = Ninja.cooldown;
            berserkerKillButton.MaxTimer = Berserker.cooldown;
            yandereStareButton.MaxTimer = Yandere.stareCooldown;
            yandereStareButton.EffectDuration = Yandere.stareDuration;
            yandereKillButton.MaxTimer = Yandere.killCooldown;
            strandedFindBoxButton.MaxTimer = 3f;
            strandedFindBoxButton.EffectDuration = 3f;
            strandedKillButton.MaxTimer = Stranded.killCooldown;
            strandedInvisibleButton.MaxTimer = 10f;
            strandedInvisibleButton.EffectDuration = 60f;
            monjaKillButton.MaxTimer = 10f;
            monjaFindDeliverButton.MaxTimer = 10f;
            monjaFindDeliverButton.EffectDuration = 60f;

            // Neutral buttons
            roleThiefStealButton.MaxTimer = RoleThief.cooldown;
            pyromaniacButton.MaxTimer = Pyromaniac.cooldown;
            pyromaniacButton.EffectDuration = Pyromaniac.duration;
            treasureHunterButton.MaxTimer = 15f;
            devourerButton.MaxTimer = 15f;
            devourerEatButton.MaxTimer = 30f;
            poisonerButton.MaxTimer = 15f;
            poisonerButton.EffectDuration = Poisoner.duration;
            puppeteerTransformButton.MaxTimer = 20f;
            puppeteerSampleButton.MaxTimer = 10f;
            exilerSetTargetButton.MaxTimer = 10f;
            amnesiacReportAndTakeRoleButton.MaxTimer = 10f;
            seekerMinigameButton.MaxTimer = Seeker.cooldown;
            seekerPerformMinigameButton.MaxTimer = Seeker.cooldown;
            seekerHideOneButton.MaxTimer = 5f;
            seekerHideTwoButton.MaxTimer = 5f;
            seekerHideThreeButton.MaxTimer = 5f;
            hidedPlayerOneHideOneButton.MaxTimer = 5f;
            hidedPlayerOneHideTwoButton.MaxTimer = 5f;
            hidedPlayerOneHideThreeButton.MaxTimer = 5f;
            hidedPlayerTwoHideOneButton.MaxTimer = 5f;
            hidedPlayerTwoHideTwoButton.MaxTimer = 5f;
            hidedPlayerTwoHideThreeButton.MaxTimer = 5f;
            hidedPlayerThreeHideOneButton.MaxTimer = 5f;
            hidedPlayerThreeHideTwoButton.MaxTimer = 5f;
            hidedPlayerThreeHideThreeButton.MaxTimer = 5f;

            // Crewmate buttons
            captainCallButton.MaxTimer = 10f;
            mechanicRepairButton.MaxTimer = 10f;
            sheriffKillButton.MaxTimer = Sheriff.cooldown;
            detectiveButton.MaxTimer = Detective.cooldown;
            detectiveButton.EffectDuration = Detective.duration;
            forensicButton.MaxTimer = 20f;
            forensicButton.EffectDuration = Forensic.duration;
            timeTravelerShieldButton.MaxTimer = TimeTraveler.cooldown;
            timeTravelerRewindTimeButton.MaxTimer = TimeTraveler.cooldown;
            timeTravelerShieldButton.EffectDuration = TimeTraveler.shieldDuration;
            squireShieldButton.MaxTimer = 10f;
            fortuneTellerRevealButton.MaxTimer = FortuneTeller.cooldown;
            fortuneTellerRevealButton.EffectDuration = FortuneTeller.duration;
            hackerButton.MaxTimer = Hacker.cooldown;
            hackerButton.EffectDuration = Hacker.duration;
            hackerVitalsButton.MaxTimer = Hacker.cooldown;
            hackerAdminTableButton.MaxTimer = Hacker.cooldown;
            hackerVitalsButton.EffectDuration = Hacker.duration;
            hackerAdminTableButton.EffectDuration = Hacker.duration;
            sleuthLocatePlayerButton.MaxTimer = 10f;
            sleuthLocateCorpsesButton.MaxTimer = Sleuth.corpsesPathfindCooldown;
            sleuthLocateCorpsesButton.EffectDuration = Sleuth.corpsesPathfindDuration;
            sleuthWhosThereButton.MaxTimer = Sleuth.corpsesPathfindCooldown;
            sleuthWhosThereButton.EffectDuration = Sleuth.duration; 
            finkButton.MaxTimer = Fink.cooldown;
            finkButton.EffectDuration = Fink.duration;
            welderSealButton.MaxTimer = Welder.cooldown;
            welderBombVentButton.MaxTimer = Welder.cooldown;
            spiritualistReviveButton.MaxTimer = 20f;
            spiritualistReviveButton.EffectDuration = Spiritualist.spiritualistReviveTime;
            vigilantButton.MaxTimer = Vigilant.cooldown;
            vigilantCamButton.MaxTimer = Vigilant.cooldown;
            vigilantCamButton.EffectDuration = Vigilant.duration;
            hunterButton.MaxTimer = 10f;
            jinxButton.MaxTimer = Jinx.cooldown;
            cowardCallButton.MaxTimer = 10f;
            batButton.MaxTimer = Bat.cooldown;
            batButton.EffectDuration = Bat.duration;
            necromancerDragBodyButton.MaxTimer = 10f;
            necromancerReviveButton.MaxTimer = Necromancer.cooldown;
            necromancerReviveButton.EffectDuration = Necromancer.duration;
            engineerTrapButton.MaxTimer = Engineer.cooldown;
            locksmithOpenDoorButton.MaxTimer = Locksmith.cooldown;
            taskMasterButton.MaxTimer = TaskMaster.cooldown;
            taskMasterButton.EffectDuration = TaskMaster.duration;
            jailerJailButton.MaxTimer = Jailer.cooldown;

            zoomOutButton.MaxTimer = 0f;
            whoAmIButton.MaxTimer = 10f;

            // Remaining uses text
            Manipulator.manipulatedVictimTimerCountButtonText.text = $"{Manipulator.manipulatedVictimTimer.ToString("F0")}";
            Plumber.plumberVentButtonText.text = $"{Plumber.currentVents} / {Plumber.maxVents}";
            Hypnotist.trapsCounterButtonText.text = $"{Hypnotist.currentSpiralNumber} / {Hypnotist.numberOfSpirals}";
            Librarian.targetNameButtonText.text = $" ";
            BountyHunter.targetNameButtonText.text = $" ";
            Yinyanger.yinedButtonText.text = $" ";
            Yinyanger.yanedButtonText.text = $" ";
            Challenger.challengerDuelButtonText.text = $"{Challenger.duelKills} / {Challenger.neededKills}";
            Ninja.targetNameButtonText.text = $" ";
            Berserker.berserkerCountButtonText.text = $"{Berserker.timeToKill.ToString("F0")}";
            Yandere.yandereTargetButtonText.text = $" ";
            Yandere.yandereKillButtonText.text = $" ";
            Stranded.strandedSearchButtonText.text = $"{Stranded.storedAmmo} / 3";
            Stranded.strandedKillButtonText.text = $"{Stranded.howManyKills} / 3";
            Monja.objectCountButtonText.text = $"{Monja.deliveredItems} / 5";
            Monja.killTimerButtonText.text = $" ";
            TreasureHunter.treasureCounterButtonText.text = $"{TreasureHunter.treasureCollected} / {TreasureHunter.neededTreasure}";
            Devourer.devourCounterButtonText.text = $"{Devourer.devouredBodies} / {Devourer.neededBodies}";
            Devourer.devourEatCounterButtonText.text = $"{Devourer.eatenPlayers.Count}";
            Puppeteer.puppeteerText.text = $"{Puppeteer.counter}/{Puppeteer.numberOfKills}";
            Exiler.targetNameButtonText.text = $" ";
            Seeker.seekerPlayerPointsCount.text = $"{Seeker.currentPlayers} / 3";
            Seeker.seekerPerformMinigamePlayerPointsCount.text = $"{Seeker.currentPoints} / {Seeker.neededPoints}";
            Mechanic.mechanicRepairButtonText.text = $"{Mechanic.numberOfRepairs - Mechanic.timesUsedRepairs} / {Mechanic.numberOfRepairs}";
            FortuneTeller.fortuneTellerRevealButtonText.text = $"{FortuneTeller.numberOfFortunes - FortuneTeller.timesUsedFortune} / {FortuneTeller.numberOfFortunes}";
            Hacker.hackerAdminTableChargesText.text = $"{Hacker.chargesAdminTable} / {Hacker.toolsNumber}";
            Hacker.hackerVitalsChargesText.text = $"{Hacker.chargesVitals} / {Hacker.toolsNumber}";
            Welder.welderButtonText.text = $"{Welder.remainingWelds} / {Welder.totalWelds}";
            Vigilant.vigilantButtonCameraText.text = $"{Vigilant.remainingCameras} / {Vigilant.totalCameras}";
            Vigilant.vigilantButtonCameraUsesText.text = $"{Vigilant.charges} / {Vigilant.maxCharges}";
            Hunter.targetButtonText.text = $" ";
            Jinx.jinxButtonJinxsText.text = $"{Jinx.jinxNumber - Jinx.jinxs} / {Jinx.jinxNumber}";
            Coward.cowardCallButtonText.text = $"{Coward.numberOfCalls - Coward.timesUsedCalls} / {Coward.numberOfCalls}";
            Jailer.jailButtonText.text = $" ";

            // Capture the flag buttons
            redplayer01KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            redplayer01TakeFlagButton.MaxTimer = 0;
            redplayer02KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            redplayer02TakeFlagButton.MaxTimer = 0;
            redplayer03KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            redplayer03TakeFlagButton.MaxTimer = 0;
            redplayer04KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            redplayer04TakeFlagButton.MaxTimer = 0;
            redplayer05KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            redplayer05TakeFlagButton.MaxTimer = 0;
            redplayer06KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            redplayer06TakeFlagButton.MaxTimer = 0;
            redplayer07KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            redplayer07TakeFlagButton.MaxTimer = 0;
            blueplayer01KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            blueplayer01TakeFlagButton.MaxTimer = 0;
            blueplayer02KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            blueplayer02TakeFlagButton.MaxTimer = 0;
            blueplayer03KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            blueplayer03TakeFlagButton.MaxTimer = 0;
            blueplayer04KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            blueplayer04TakeFlagButton.MaxTimer = 0;
            blueplayer05KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            blueplayer05TakeFlagButton.MaxTimer = 0;
            blueplayer06KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            blueplayer06TakeFlagButton.MaxTimer = 0;
            blueplayer07KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            blueplayer07TakeFlagButton.MaxTimer = 0;
            stealerPlayerKillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;

            // Police And Thief buttons
            policeplayer01KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            policeplayer01JailButton.MaxTimer = PoliceAndThief.policeCatchCooldown;
            policeplayer01JailButton.EffectDuration = PoliceAndThief.captureThiefTime;
            policeplayer01LightButton.MaxTimer = 15;
            policeplayer01LightButton.EffectDuration = 10;
            policeplayer02KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            policeplayer02TaseButton.MaxTimer = PoliceAndThief.policeTaseCooldown;
            policeplayer02LightButton.MaxTimer = 15;
            policeplayer02LightButton.EffectDuration = 10;
            policeplayer03KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            policeplayer03JailButton.MaxTimer = PoliceAndThief.policeCatchCooldown;
            policeplayer03JailButton.EffectDuration = PoliceAndThief.captureThiefTime;
            policeplayer03LightButton.MaxTimer = 15;
            policeplayer03LightButton.EffectDuration = 10;
            policeplayer04KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            policeplayer04TaseButton.MaxTimer = PoliceAndThief.policeTaseCooldown;
            policeplayer04LightButton.MaxTimer = 15;
            policeplayer04LightButton.EffectDuration = 10;
            policeplayer05KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            policeplayer05JailButton.MaxTimer = PoliceAndThief.policeCatchCooldown;
            policeplayer05JailButton.EffectDuration = PoliceAndThief.captureThiefTime;
            policeplayer05LightButton.MaxTimer = 15;
            policeplayer05LightButton.EffectDuration = 10;
            policeplayer06KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            policeplayer06JailButton.MaxTimer = PoliceAndThief.policeCatchCooldown;
            policeplayer06JailButton.EffectDuration = PoliceAndThief.captureThiefTime;
            policeplayer06LightButton.MaxTimer = 15;
            policeplayer06LightButton.EffectDuration = 10;

            thiefplayer01KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown * 1.25f;
            thiefplayer01FreeThiefButton.MaxTimer = 20f;
            thiefplayer01TakeDeliverJewelButton.MaxTimer = 5f;
            thiefplayer02KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown * 1.25f;
            thiefplayer02FreeThiefButton.MaxTimer = 20f;
            thiefplayer02TakeDeliverJewelButton.MaxTimer = 5f;
            thiefplayer03KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown * 1.25f;
            thiefplayer03FreeThiefButton.MaxTimer = 20f;
            thiefplayer03TakeDeliverJewelButton.MaxTimer = 5f;
            thiefplayer04KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown * 1.25f;
            thiefplayer04FreeThiefButton.MaxTimer = 20f;
            thiefplayer04TakeDeliverJewelButton.MaxTimer = 5f;
            thiefplayer05KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown * 1.25f;
            thiefplayer05FreeThiefButton.MaxTimer = 20f;
            thiefplayer05TakeDeliverJewelButton.MaxTimer = 5f;
            thiefplayer06KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown * 1.25f;
            thiefplayer06FreeThiefButton.MaxTimer = 20f;
            thiefplayer06TakeDeliverJewelButton.MaxTimer = 5f;
            thiefplayer07KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown * 1.25f;
            thiefplayer07FreeThiefButton.MaxTimer = 20f;
            thiefplayer07TakeDeliverJewelButton.MaxTimer = 5f;
            thiefplayer08KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown * 1.25f;
            thiefplayer08FreeThiefButton.MaxTimer = 20f;
            thiefplayer08TakeDeliverJewelButton.MaxTimer = 5f;
            thiefplayer09KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown * 1.25f;
            thiefplayer09FreeThiefButton.MaxTimer = 20f;
            thiefplayer09TakeDeliverJewelButton.MaxTimer = 5f;

            // King of the hill buttons
            greenKingplayerCaptureZoneButton.MaxTimer = KingOfTheHill.captureCooldown;
            greenplayer01KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            greenplayer02KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            greenplayer03KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            greenplayer04KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            greenplayer05KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            greenplayer06KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            yellowKingplayerCaptureZoneButton.MaxTimer = KingOfTheHill.captureCooldown;
            yellowplayer01KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            yellowplayer02KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            yellowplayer03KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            yellowplayer04KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            yellowplayer05KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            yellowplayer06KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            usurperPlayerKillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;

            // Hot Potato buttons
            hotPotatoButton.MaxTimer = HotPotato.transferCooldown;

            // ZombieLaboratory
            zombie01InfectButton.MaxTimer = ZombieLaboratory.infectCooldown;
            zombie01InfectButton.EffectDuration = ZombieLaboratory.infectTime;
            zombie01KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            zombie02InfectButton.MaxTimer = ZombieLaboratory.infectCooldown;
            zombie02InfectButton.EffectDuration = ZombieLaboratory.infectTime;
            zombie02KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            zombie03InfectButton.MaxTimer = ZombieLaboratory.infectCooldown;
            zombie03InfectButton.EffectDuration = ZombieLaboratory.infectTime;
            zombie03KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            zombie04InfectButton.MaxTimer = ZombieLaboratory.infectCooldown;
            zombie04InfectButton.EffectDuration = ZombieLaboratory.infectTime;
            zombie04KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            zombie05InfectButton.MaxTimer = ZombieLaboratory.infectCooldown;
            zombie05InfectButton.EffectDuration = ZombieLaboratory.infectTime;
            zombie05KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            zombie06InfectButton.MaxTimer = ZombieLaboratory.infectCooldown;
            zombie06InfectButton.EffectDuration = ZombieLaboratory.infectTime;
            zombie06KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            zombie07InfectButton.MaxTimer = ZombieLaboratory.infectCooldown;
            zombie07InfectButton.EffectDuration = ZombieLaboratory.infectTime;
            zombie07KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            zombie08InfectButton.MaxTimer = ZombieLaboratory.infectCooldown;
            zombie08InfectButton.EffectDuration = ZombieLaboratory.infectTime;
            zombie08KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            zombie09InfectButton.MaxTimer = ZombieLaboratory.infectCooldown;
            zombie09InfectButton.EffectDuration = ZombieLaboratory.infectTime;
            zombie09KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            zombie10InfectButton.MaxTimer = ZombieLaboratory.infectCooldown;
            zombie10InfectButton.EffectDuration = ZombieLaboratory.infectTime;
            zombie10KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            zombie11InfectButton.MaxTimer = ZombieLaboratory.infectCooldown;
            zombie11InfectButton.EffectDuration = ZombieLaboratory.infectTime;
            zombie11KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            zombie12InfectButton.MaxTimer = ZombieLaboratory.infectCooldown;
            zombie12InfectButton.EffectDuration = ZombieLaboratory.infectTime;
            zombie12KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            zombie13InfectButton.MaxTimer = ZombieLaboratory.infectCooldown;
            zombie13InfectButton.EffectDuration = ZombieLaboratory.infectTime;
            zombie13KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            zombie14InfectButton.MaxTimer = ZombieLaboratory.infectCooldown;
            zombie14InfectButton.EffectDuration = ZombieLaboratory.infectTime;
            zombie14KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            survivor01KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            survivor01FindDeliverButton.MaxTimer = ZombieLaboratory.searchBoxTimer;
            survivor01FindDeliverButton.EffectDuration = ZombieLaboratory.searchBoxTimer;
            survivor01EnterExitButton.MaxTimer = 5f;
            survivor02KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            survivor02FindDeliverButton.MaxTimer = ZombieLaboratory.searchBoxTimer;
            survivor02FindDeliverButton.EffectDuration = ZombieLaboratory.searchBoxTimer;
            survivor02EnterExitButton.MaxTimer = 5f;
            survivor03KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            survivor03FindDeliverButton.MaxTimer = ZombieLaboratory.searchBoxTimer;
            survivor03FindDeliverButton.EffectDuration = ZombieLaboratory.searchBoxTimer;
            survivor03EnterExitButton.MaxTimer = 5f;
            survivor04KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            survivor04FindDeliverButton.MaxTimer = ZombieLaboratory.searchBoxTimer;
            survivor04FindDeliverButton.EffectDuration = ZombieLaboratory.searchBoxTimer;
            survivor04EnterExitButton.MaxTimer = 5f;
            survivor05KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            survivor05FindDeliverButton.MaxTimer = ZombieLaboratory.searchBoxTimer;
            survivor05FindDeliverButton.EffectDuration = ZombieLaboratory.searchBoxTimer;
            survivor05EnterExitButton.MaxTimer = 5f;
            survivor06KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            survivor06FindDeliverButton.MaxTimer = ZombieLaboratory.searchBoxTimer;
            survivor06FindDeliverButton.EffectDuration = ZombieLaboratory.searchBoxTimer;
            survivor06EnterExitButton.MaxTimer = 5f;
            survivor07KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            survivor07FindDeliverButton.MaxTimer = ZombieLaboratory.searchBoxTimer;
            survivor07FindDeliverButton.EffectDuration = ZombieLaboratory.searchBoxTimer;
            survivor07EnterExitButton.MaxTimer = 5f;
            survivor08KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            survivor08FindDeliverButton.MaxTimer = ZombieLaboratory.searchBoxTimer;
            survivor08FindDeliverButton.EffectDuration = ZombieLaboratory.searchBoxTimer;
            survivor08EnterExitButton.MaxTimer = 5f;
            survivor09KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            survivor09FindDeliverButton.MaxTimer = ZombieLaboratory.searchBoxTimer;
            survivor09FindDeliverButton.EffectDuration = ZombieLaboratory.searchBoxTimer;
            survivor09EnterExitButton.MaxTimer = 5f;
            survivor10KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            survivor10FindDeliverButton.MaxTimer = ZombieLaboratory.searchBoxTimer;
            survivor10FindDeliverButton.EffectDuration = ZombieLaboratory.searchBoxTimer;
            survivor10EnterExitButton.MaxTimer = 5f;
            survivor11KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            survivor11FindDeliverButton.MaxTimer = ZombieLaboratory.searchBoxTimer;
            survivor11FindDeliverButton.EffectDuration = ZombieLaboratory.searchBoxTimer;
            survivor11EnterExitButton.MaxTimer = 5f;
            survivor12KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            survivor12FindDeliverButton.MaxTimer = ZombieLaboratory.searchBoxTimer;
            survivor12FindDeliverButton.EffectDuration = ZombieLaboratory.searchBoxTimer;
            survivor12EnterExitButton.MaxTimer = 5f;
            survivor13KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            survivor13FindDeliverButton.MaxTimer = ZombieLaboratory.searchBoxTimer;
            survivor13FindDeliverButton.EffectDuration = ZombieLaboratory.searchBoxTimer;
            survivor13EnterExitButton.MaxTimer = 5f;
            nurseEnterExitButton.MaxTimer = 3f;
            nurseMedKitButton.MaxTimer = 3f;
            nurseCreateCureButton.MaxTimer = 5f;

            // Battle Royale
            soloPlayer01KillButton.MaxTimer = BattleRoyale.killCooldown;
            soloPlayer02KillButton.MaxTimer = BattleRoyale.killCooldown;
            soloPlayer03KillButton.MaxTimer = BattleRoyale.killCooldown;
            soloPlayer04KillButton.MaxTimer = BattleRoyale.killCooldown;
            soloPlayer05KillButton.MaxTimer = BattleRoyale.killCooldown;
            soloPlayer06KillButton.MaxTimer = BattleRoyale.killCooldown;
            soloPlayer07KillButton.MaxTimer = BattleRoyale.killCooldown;
            soloPlayer08KillButton.MaxTimer = BattleRoyale.killCooldown;
            soloPlayer09KillButton.MaxTimer = BattleRoyale.killCooldown;
            soloPlayer10KillButton.MaxTimer = BattleRoyale.killCooldown;
            soloPlayer11KillButton.MaxTimer = BattleRoyale.killCooldown;
            soloPlayer12KillButton.MaxTimer = BattleRoyale.killCooldown;
            soloPlayer13KillButton.MaxTimer = BattleRoyale.killCooldown;
            soloPlayer14KillButton.MaxTimer = BattleRoyale.killCooldown;
            soloPlayer15KillButton.MaxTimer = BattleRoyale.killCooldown;
            limePlayer01KillButton.MaxTimer = BattleRoyale.killCooldown;
            limePlayer02KillButton.MaxTimer = BattleRoyale.killCooldown;
            limePlayer03KillButton.MaxTimer = BattleRoyale.killCooldown;
            limePlayer04KillButton.MaxTimer = BattleRoyale.killCooldown;
            limePlayer05KillButton.MaxTimer = BattleRoyale.killCooldown;
            limePlayer06KillButton.MaxTimer = BattleRoyale.killCooldown;
            limePlayer07KillButton.MaxTimer = BattleRoyale.killCooldown;
            pinkPlayer01KillButton.MaxTimer = BattleRoyale.killCooldown;
            pinkPlayer02KillButton.MaxTimer = BattleRoyale.killCooldown;
            pinkPlayer03KillButton.MaxTimer = BattleRoyale.killCooldown;
            pinkPlayer04KillButton.MaxTimer = BattleRoyale.killCooldown;
            pinkPlayer05KillButton.MaxTimer = BattleRoyale.killCooldown;
            pinkPlayer06KillButton.MaxTimer = BattleRoyale.killCooldown;
            pinkPlayer07KillButton.MaxTimer = BattleRoyale.killCooldown;
            serialKillerKillButton.MaxTimer = BattleRoyale.serialKillerCooldown;

            // Monja Festival buttons
            greenmonja01KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            greenmonja01PickDeliverButton.MaxTimer = 1f;
            greenmonja01PickDeliverButton.EffectDuration = 1f;
            MonjaFestival.greenmonja01DeliverCount.text = $"{MonjaFestival.greenPlayer01Items} / 3";
            greenmonja02KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            greenmonja02PickDeliverButton.MaxTimer = 1f;
            greenmonja02PickDeliverButton.EffectDuration = 1f;
            MonjaFestival.greenmonja02DeliverCount.text = $"{MonjaFestival.greenPlayer02Items} / 3";
            greenmonja03KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            greenmonja03PickDeliverButton.MaxTimer = 1f;
            greenmonja03PickDeliverButton.EffectDuration = 1f;
            MonjaFestival.greenmonja03DeliverCount.text = $"{MonjaFestival.greenPlayer03Items} / 3";
            greenmonja04KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            greenmonja04PickDeliverButton.MaxTimer = 1f;
            greenmonja04PickDeliverButton.EffectDuration = 1f;
            MonjaFestival.greenmonja04DeliverCount.text = $"{MonjaFestival.greenPlayer04Items} / 3";
            greenmonja05KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            greenmonja05PickDeliverButton.MaxTimer = 1f;
            greenmonja05PickDeliverButton.EffectDuration = 1f;
            MonjaFestival.greenmonja05DeliverCount.text = $"{MonjaFestival.greenPlayer05Items} / 3";
            greenmonja06KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            greenmonja06PickDeliverButton.MaxTimer = 1f;
            greenmonja06PickDeliverButton.EffectDuration = 1f;
            MonjaFestival.greenmonja06DeliverCount.text = $"{MonjaFestival.greenPlayer06Items} / 3";
            greenmonja07KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            greenmonja07PickDeliverButton.MaxTimer = 1f;
            greenmonja07PickDeliverButton.EffectDuration = 1f;
            MonjaFestival.greenmonja07DeliverCount.text = $"{MonjaFestival.greenPlayer07Items} / 3";
            cyanmonja01KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            cyanmonja01PickDeliverButton.MaxTimer = 1f;
            cyanmonja01PickDeliverButton.EffectDuration = 1f;
            MonjaFestival.cyanPlayer01DeliverCount.text = $"{MonjaFestival.cyanPlayer01Items} / 3";
            cyanmonja02KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            cyanmonja02PickDeliverButton.MaxTimer = 1f;
            cyanmonja02PickDeliverButton.EffectDuration = 1f;
            MonjaFestival.cyanPlayer02DeliverCount.text = $"{MonjaFestival.cyanPlayer02Items} / 3";
            cyanmonja03KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            cyanmonja03PickDeliverButton.MaxTimer = 1f;
            cyanmonja03PickDeliverButton.EffectDuration = 1f;
            MonjaFestival.cyanPlayer03DeliverCount.text = $"{MonjaFestival.cyanPlayer03Items} / 3";
            cyanmonja04KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            cyanmonja04PickDeliverButton.MaxTimer = 1f;
            cyanmonja04PickDeliverButton.EffectDuration = 1f;
            MonjaFestival.cyanPlayer04DeliverCount.text = $"{MonjaFestival.cyanPlayer04Items} / 3";
            cyanmonja05KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            cyanmonja05PickDeliverButton.MaxTimer = 1f;
            cyanmonja05PickDeliverButton.EffectDuration = 1f;
            MonjaFestival.cyanPlayer05DeliverCount.text = $"{MonjaFestival.cyanPlayer05Items} / 3";
            cyanmonja06KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            cyanmonja06PickDeliverButton.MaxTimer = 1f;
            cyanmonja06PickDeliverButton.EffectDuration = 1f;
            MonjaFestival.cyanPlayer06DeliverCount.text = $"{MonjaFestival.cyanPlayer06Items} / 3";
            cyanmonja07KillButton.MaxTimer = LasMonjas.gamemodeKillCooldown;
            cyanmonja07PickDeliverButton.MaxTimer = 1f;
            cyanmonja07PickDeliverButton.EffectDuration = 1f;
            MonjaFestival.cyanPlayer07DeliverCount.text = $"{MonjaFestival.cyanPlayer07Items} / 3";
            bigmonjaKillButton.MaxTimer = MonjaFestival.bigMonjaPlayerKillCooldown;
            bigmonjaPickDeliverButton.MaxTimer = MonjaFestival.bigMonjaPlayerFindDeliverCooldown;
            bigmonjaPickDeliverButton.EffectDuration = MonjaFestival.bigMonjaPlayerFindDeliverCooldown;
            MonjaFestival.bigMonjaPlayerDeliverCount.text = $"{MonjaFestival.bigMonjaPlayerItems} / 10";
            bigmonjaInvisibleButton.MaxTimer = 10f;
            bigmonjaInvisibleButton.EffectDuration = 20f;
        }

        public static void resetBomberBombButton() {
            bombermanBombButton.Timer = bombermanBombButton.MaxTimer;
            bombermanBombButton.isEffectActive = false;
            bombermanBombButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
        }

        public static void resetTimeTravelerButton() {
            timeTravelerShieldButton.Timer = timeTravelerShieldButton.MaxTimer;
            timeTravelerShieldButton.isEffectActive = false;
            timeTravelerShieldButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
        }
        public static void resetSpiritualistReviveButton() {
            spiritualistReviveButton.Timer = 0f;
            spiritualistReviveButton.isEffectActive = false;
        }

        public static void resetDuelButtons() {
            challengerRockButton.Timer = 10f;
            challengerPaperButton.Timer = 10f;
            challengerScissorsButton.Timer = 10f;
            rivalplayerRockButton.Timer = 10f;
            rivalplayerPaperButton.Timer = 10f;
            rivalplayerScissorsButton.Timer = 10f;
        }
        public static void resetMinigameButtons() {
            seekerHideOneButton.Timer = 5f;
            seekerHideTwoButton.Timer = 5f;
            seekerHideThreeButton.Timer = 5f;
            hidedPlayerOneHideOneButton.Timer = 5f;
            hidedPlayerOneHideTwoButton.Timer = 5f;
            hidedPlayerOneHideThreeButton.Timer = 5f;
            hidedPlayerTwoHideOneButton.Timer = 5f;
            hidedPlayerTwoHideTwoButton.Timer = 5f;
            hidedPlayerTwoHideThreeButton.Timer = 5f;
            hidedPlayerThreeHideOneButton.Timer = 5f;
            hidedPlayerThreeHideTwoButton.Timer = 5f;
            hidedPlayerThreeHideThreeButton.Timer = 5f;
        }

        public static void Postfix(HudManager __instance) {
            // Impostor buttons code

            // Mimic transform
            mimicTransformButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        Mimic.pickTarget = null;
                        Mimic.duration = quackNumber;
                        mimicTransformButton.EffectDuration = Mimic.duration; 
                        return;
                    }

                    if (Mimic.pickTarget != null) {
                        if (Helpers.checkIfJinxed(Mimic.mimic)) {
                            Helpers.jinxedAction(Mimic.mimic);

                            SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                            Mimic.pickTarget = null;
                            Mimic.duration = quackNumber;
                            mimicTransformButton.EffectDuration = Mimic.duration;
                            return;
                        }

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.mimicPuppeteerTransform, false, 100f);
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MimicTransform, Hazel.SendOption.Reliable, -1);
                        writer.Write(Mimic.pickTarget.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.mimicTransform(Mimic.pickTarget.PlayerId);
                        Mimic.pickTarget = null;
                        Mimic.duration = Mimic.backUpduration;
                        mimicTransformButton.EffectDuration = Mimic.duration;
                    }
                    else if (Mimic.currentTarget != null) {

                        Mimic.pickTarget = Mimic.currentTarget;
                        mimicTransformButton.Sprite = Mimic.getTransformSprite();
                        mimicTransformButton.EffectDuration = 1f;
                    }
                },
                () => { return Mimic.mimic != null && Mimic.mimic == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return (Mimic.currentTarget || Mimic.pickTarget) && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => {
                    mimicTransformButton.Timer = mimicTransformButton.MaxTimer;
                    mimicTransformButton.Sprite = Mimic.getpickTargetSprite();
                    mimicTransformButton.isEffectActive = false;
                    mimicTransformButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                    Mimic.pickTarget = null;
                },
                Mimic.getpickTargetSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.F,
                true,
                Mimic.duration,
                () => {
                    if (Mimic.pickTarget == null) {
                        mimicTransformButton.Timer = mimicTransformButton.MaxTimer;
                        mimicTransformButton.Sprite = Mimic.getpickTargetSprite();
                    }
                }
            );

            // Painter paint
            painterPaintButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        Painter.duration = quackNumber;
                        painterPaintButton.EffectDuration = Painter.duration; 
                        return;
                    }

                    if (Helpers.checkIfJinxed(Painter.painter)) {
                        Helpers.jinxedAction(Painter.painter);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        Painter.duration = quackNumber;
                        painterPaintButton.EffectDuration = Painter.duration;
                        return;
                    }

                    int colorNumber = rnd.Next(0, 18);

                    Painter.duration = Painter.backUpduration;
                    painterPaintButton.EffectDuration = Painter.duration;
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PainterPaint, Hazel.SendOption.Reliable, -1);
                    writer.Write(colorNumber);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.painterPaint(colorNumber);
                },
                () => { return Painter.painter != null && Painter.painter == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => {
                    painterPaintButton.Timer = painterPaintButton.MaxTimer;
                    painterPaintButton.isEffectActive = false;
                    painterPaintButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                },
                Painter.getButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.F,
                true,
                Painter.duration,
                () => { painterPaintButton.Timer = painterPaintButton.MaxTimer; }
            );

            // Demon bite
            demonKillButton = new CustomButton(
                () => {
                    
                    MurderAttemptResult murder = Helpers.checkMurderAttempt(Demon.demon, Demon.currentTarget);
                    if (murder == MurderAttemptResult.PerformKill) {
                        if (Demon.targetNearNun || alivePlayers <= 2) {
                            MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.UncheckedMurderPlayer, Hazel.SendOption.Reliable, -1);
                            writer.Write(Demon.demon.PlayerId);
                            writer.Write(Demon.currentTarget.PlayerId);
                            writer.Write(Byte.MaxValue);
                            AmongUsClient.Instance.FinishRpcImmediately(writer);
                            RPCProcedure.uncheckedMurderPlayer(Demon.demon.PlayerId, Demon.currentTarget.PlayerId, Byte.MaxValue);

                            demonKillButton.HasEffect = false;
                            demonKillButton.Timer = demonKillButton.MaxTimer + 10f;
                        }
                        else {
                            Demon.bitten = Demon.currentTarget;

                            SoundManager.Instance.PlaySound(CustomMain.customAssets.demonBite, false, 100f);

                            MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.DemonSetBitten, Hazel.SendOption.Reliable, -1);
                            writer.Write(Demon.bitten.PlayerId);
                            writer.Write((byte)0);
                            AmongUsClient.Instance.FinishRpcImmediately(writer);
                            RPCProcedure.demonSetBitten(Demon.bitten.PlayerId, 0);

                            HudManager.Instance.StartCoroutine(Effects.Lerp(Demon.delay, new Action<float>((p) => { 
                                if (p == 1f) {
                                   
                                    MurderAttemptResult murder = Helpers.checkMurderAttemptAndKill(Demon.demon, Demon.bitten, showAnimation: false);
                                    if (murder == MurderAttemptResult.JinxKill) {
                                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                                    }
                                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.DemonSetBitten, Hazel.SendOption.Reliable, -1);
                                    writer.Write(byte.MaxValue);
                                    writer.Write(byte.MaxValue);
                                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                                    RPCProcedure.demonSetBitten(byte.MaxValue, byte.MaxValue);
                                }
                            })));

                            demonKillButton.HasEffect = true;
                        }
                    }
                    else if (murder == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        demonKillButton.Timer = demonKillButton.MaxTimer;
                        demonKillButton.HasEffect = false;
                    }
                    else {
                        demonKillButton.HasEffect = false;
                    }
                },
                () => { return Demon.demon != null && Demon.demon == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (Demon.targetNearNun && Demon.canKillNearNun || alivePlayers <= 2) {
                        demonKillButton.actionButton.graphic.sprite = __instance.KillButton.graphic.sprite;
                        demonKillButton.showButtonText = true;
                    }
                    else {
                        demonKillButton.actionButton.graphic.sprite = Demon.getButtonSprite();
                        demonKillButton.showButtonText = false;
                    }
                    return Demon.currentTarget != null && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming && ((!Demon.targetNearNun || Demon.canKillNearNun) || alivePlayers <= 2);
                },
                () => {
                    demonKillButton.Timer = demonKillButton.MaxTimer;
                    demonKillButton.isEffectActive = false;
                    demonKillButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                },
                Demon.getButtonSprite(),
                CustomButton.ButtonPositions.upperRowCenter,
                __instance,
                KeyCode.Q,
                false,
                0f,
                () => {
                    demonKillButton.Timer = demonKillButton.MaxTimer;
                }
            );

            // Nun button only if there's Demon ingame
            nunButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        return;
                    }

                    Demon.localPlacedNun = true;
                    var pos = PlayerInCache.LocalPlayer.PlayerControl.transform.position;
                    byte[] buff = new byte[sizeof(float) * 2];
                    Buffer.BlockCopy(BitConverter.GetBytes(pos.x), 0, buff, 0 * sizeof(float), sizeof(float));
                    Buffer.BlockCopy(BitConverter.GetBytes(pos.y), 0, buff, 1 * sizeof(float), sizeof(float));

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.nunPlace, false, 100f);
                    
                    MessageWriter writer = AmongUsClient.Instance.StartRpc(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PlaceNun, Hazel.SendOption.Reliable);
                    writer.WriteBytesAndSize(buff);
                    writer.EndMessage();
                    RPCProcedure.placeNun(buff);
                },
                () => { return !Demon.localPlacedNun && !PlayerInCache.LocalPlayer.Data.IsDead && Demon.demon != null && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Demon.localPlacedNun; },
                () => { },
                Demon.getNunButtonSprite(),
                CustomButton.ButtonPositions.topRowCenter,
                __instance,
                null,
                false
            );

            // Janitor clean body
            janitorCleanButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        janitorCleanButton.Timer = janitorCleanButton.MaxTimer;
                        return;
                    }

                    if (Helpers.checkIfJinxed(Janitor.janitor)) {
                        Helpers.jinxedAction(Janitor.janitor);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        janitorCleanButton.Timer = janitorCleanButton.MaxTimer;
                        return;
                    }

                    foreach (Collider2D collider2D in Physics2D.OverlapCircleAll(PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition(), 1f, Constants.PlayersOnlyMask)) {
                        if (collider2D.tag == "DeadBody") {
                            DeadBody component = collider2D.GetComponent<DeadBody>();
                            if (component && !component.Reported) {
                                Vector2 truePosition = PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition();
                                Vector2 truePosition2 = component.TruePosition;
                                if (Vector2.Distance(truePosition2, truePosition) <= PlayerInCache.LocalPlayer.PlayerControl.MaxReportDistance && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PhysicsHelpers.AnythingBetween(truePosition, truePosition2, Constants.ShipAndObjectsMask, false)) {
                                    GameData.PlayerInfo playerInfo = GameData.Instance.GetPlayerById(component.ParentId);

                                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.RemoveBody, Hazel.SendOption.Reliable, -1);
                                    writer.Write(playerInfo.PlayerId);
                                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                                    RPCProcedure.removeBody(playerInfo.PlayerId);

                                    Janitor.janitor.killTimer = janitorCleanButton.Timer = janitorCleanButton.MaxTimer;
                                    SoundManager.Instance.PlaySound(CustomMain.customAssets.janitorClean, false, 100f);
                                    break;
                                }
                            }
                        }
                    }
                },
                () => { return Janitor.janitor != null && Janitor.janitor == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    bool canClean = false;
                    foreach (Collider2D collider2D in Physics2D.OverlapCircleAll(PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition(), 1f, Constants.PlayersOnlyMask))
                        if (collider2D.tag == "DeadBody")
                            canClean = true;
                    return canClean && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming && !Janitor.dragginBody;
                },
                () => { janitorCleanButton.Timer = janitorCleanButton.MaxTimer; },
                Janitor.getButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.F
            );

            // Janitor dragbody button
            janitorDragBodyButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        janitorDragBodyButton.Timer = janitorDragBodyButton.MaxTimer;
                        return;
                    }

                    if (Helpers.checkIfJinxed(Janitor.janitor)) {
                        Helpers.jinxedAction(Janitor.janitor);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        janitorDragBodyButton.Timer = janitorDragBodyButton.MaxTimer;
                        return;
                    }

                    if (Janitor.dragginBody) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.DragPlaceBody, Hazel.SendOption.Reliable, -1);
                        writer.Write(Janitor.bodyId);
                        writer.Write(Janitor.janitor.Data.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.dragPlaceBody(Janitor.bodyId, Janitor.janitor.Data.PlayerId);

                        janitorDragBodyButton.Timer = janitorDragBodyButton.MaxTimer;
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.janitorDropBody_Fall, false, 100f);
                    }
                    else {
                        foreach (Collider2D collider2D in Physics2D.OverlapCircleAll(PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition(), 1f, Constants.PlayersOnlyMask)) {
                            if (collider2D.tag == "DeadBody") {
                                DeadBody component = collider2D.GetComponent<DeadBody>();
                                if (component && !component.Reported) {
                                    Vector2 truePosition = PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition();
                                    Vector2 truePosition2 = component.TruePosition;
                                    if (Vector2.Distance(truePosition2, truePosition) <= PlayerInCache.LocalPlayer.PlayerControl.MaxReportDistance && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PhysicsHelpers.AnythingBetween(truePosition, truePosition2, Constants.ShipAndObjectsMask, false)) {
                                        GameData.PlayerInfo playerInfo = GameData.Instance.GetPlayerById(component.ParentId);
                                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.DragPlaceBody, Hazel.SendOption.Reliable, -1);
                                        writer.Write(playerInfo.PlayerId);
                                        writer.Write(Janitor.janitor.Data.PlayerId);
                                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                                        RPCProcedure.dragPlaceBody(playerInfo.PlayerId, Janitor.janitor.Data.PlayerId);

                                        janitorDragBodyButton.Timer = 1;
                                        SoundManager.Instance.PlaySound(CustomMain.customAssets.janitorDragBody, false, 100f);
                                        break;
                                    }
                                }
                            }
                        }
                    }
                },
                () => { return Janitor.janitor != null && Janitor.janitor == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (Janitor.dragginBody)
                        janitorDragBodyButton.actionButton.graphic.sprite = Janitor.getMoveBodyButtonSprite();
                    else
                        janitorDragBodyButton.actionButton.graphic.sprite = Janitor.getDragButtonSprite();
                    bool canDrag = false;
                    foreach (Collider2D collider2D in Physics2D.OverlapCircleAll(PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition(), 1f, Constants.PlayersOnlyMask))
                        if (collider2D.tag == "DeadBody") {
                            DeadBody component = collider2D.GetComponent<DeadBody>();
                            if (component && !component.Reported) {
                                Vector2 truePosition = PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition();
                                Vector2 truePosition2 = component.TruePosition;
                                if (Vector2.Distance(truePosition2, truePosition) <= PlayerInCache.LocalPlayer.PlayerControl.MaxReportDistance && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PhysicsHelpers.AnythingBetween(truePosition, truePosition2, Constants.ShipAndObjectsMask, false)) {
                                    GameData.PlayerInfo playerInfo = GameData.Instance.GetPlayerById(component.ParentId);
                                    if (Necromancer.necromancer == null) {
                                        canDrag = true;
                                    }
                                    else if (Necromancer.necromancer != null && playerInfo.PlayerId != Necromancer.bodyId) {
                                        canDrag = true;
                                    }
                                }
                            }
                        }
                    return canDrag && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => {
                    janitorDragBodyButton.Timer = janitorDragBodyButton.MaxTimer;
                    Janitor.janitorResetValuesAtDead();
                },
                Janitor.getDragButtonSprite(),
                CustomButton.ButtonPositions.lowerRowLeft,
                __instance,
                KeyCode.T
            );

            // Illusionist place hats
            placeHatButton = new CustomButton(
                () => {
                    
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        placeHatButton.Timer = placeHatButton.MaxTimer;
                        return;
                    }
                    
                    if (Helpers.checkIfJinxed(Illusionist.illusionist)) {
                        Helpers.jinxedAction(Illusionist.illusionist);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        placeHatButton.Timer = placeHatButton.MaxTimer;
                        return;
                    }

                    placeHatButton.Timer = placeHatButton.MaxTimer;

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.illusionistHat, false, 100f);
                    
                    var pos = PlayerInCache.LocalPlayer.PlayerControl.transform.position;
                    byte[] buff = new byte[sizeof(float) * 2];
                    Buffer.BlockCopy(BitConverter.GetBytes(pos.x), 0, buff, 0 * sizeof(float), sizeof(float));
                    Buffer.BlockCopy(BitConverter.GetBytes(pos.y), 0, buff, 1 * sizeof(float), sizeof(float));

                    MessageWriter writer = AmongUsClient.Instance.StartRpc(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PlaceHat, Hazel.SendOption.Reliable);
                    writer.WriteBytesAndSize(buff);
                    writer.EndMessage();
                    RPCProcedure.placeHat(buff);
                },
                () => { return Illusionist.illusionist != null && Illusionist.illusionist == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && !Hats.hasHatLimitReached(); },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming && !Hats.hasHatLimitReached() && (Jailer.prisonPlayer == null || Jailer.prisonPlayer != null && Jailer.prisonPlayer.PlayerId != Illusionist.illusionist.PlayerId); },
                () => { placeHatButton.Timer = placeHatButton.MaxTimer; },
                Illusionist.getPlaceHatButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.F
            );

            // Illusionist light button
            illusionistLightsOutButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        Illusionist.lightsOutDuration = quackNumber;
                        illusionistLightsOutButton.EffectDuration = Illusionist.lightsOutDuration;
                        illusionistLightsOutButton.Timer = illusionistLightsOutButton.MaxTimer; 
                        return;
                    }

                    if (Helpers.checkIfJinxed(Illusionist.illusionist)) {
                        Helpers.jinxedAction(Illusionist.illusionist);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        Illusionist.lightsOutDuration = quackNumber;
                        illusionistLightsOutButton.EffectDuration = Illusionist.lightsOutDuration;
                        illusionistLightsOutButton.Timer = illusionistLightsOutButton.MaxTimer;
                        return;
                    }

                    Illusionist.lightsOutDuration = Illusionist.backUpduration;
                    illusionistLightsOutButton.EffectDuration = Illusionist.lightsOutDuration;
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.LightsOut, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.lightsOut();
                },
                () => { return Illusionist.illusionist != null && Illusionist.illusionist == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && Hats.hasHatLimitReached() && Hats.hatsConvertedToVents; },
                () => {
                    bool sabotageActive = false;
                    if (Bomberman.activeBomb == true || Illusionist.lightsOutTimer > 0) {
                        sabotageActive = true;
                    }
                    else {
                        sabotageActive = Helpers.AnySabotageActive();                       
                    }
                    return !sabotageActive && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming && Hats.hasHatLimitReached() && Hats.hatsConvertedToVents;
                },
                () => {
                    illusionistLightsOutButton.Timer = illusionistLightsOutButton.MaxTimer;
                    illusionistLightsOutButton.isEffectActive = false;
                    illusionistLightsOutButton.actionButton.graphic.color = Palette.EnabledColor;
                },
                Illusionist.getLightsOutButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.F,
                true,
                Illusionist.lightsOutDuration,
                () => { illusionistLightsOutButton.Timer = illusionistLightsOutButton.MaxTimer; }
            );

            // Manipulator manipulate
            manipulatorManipulateButton = new CustomButton(
                () => {
                    if (Manipulator.manipulatedVictim == null) {
                        Manipulator.manipulatedVictim = Manipulator.currentTarget;
                        manipulatorManipulateButton.HasEffect = true;
                        Manipulator.manipulator.killTimer = manipulatorManipulateButton.Timer = manipulatorManipulateButton.MaxTimer;
                    }
                },
                () => { return Manipulator.manipulator != null && Manipulator.manipulator == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return Manipulator.manipulatedVictim == null && Manipulator.currentTarget != null && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => {
                    Manipulator.manipulatedVictim = null;
                    manipulatorManipulateButton.isEffectActive = false;
                    manipulatorManipulateButton.Timer = manipulatorManipulateButton.MaxTimer;
                    manipulatorManipulateButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;                    
                },
                Manipulator.getManipulateKillButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.F,
                true,
                10,
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        Manipulator.manipulatedVictim = null;
                        manipulatorManipulateButton.Timer = manipulatorManipulateButton.MaxTimer; 
                        return;
                    }
                    
                    if (Helpers.checkIfJinxed(Manipulator.manipulator)) {
                        Helpers.jinxedAction(Manipulator.manipulator);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        Manipulator.manipulatedVictim = null;
                        manipulatorManipulateButton.Timer = manipulatorManipulateButton.MaxTimer;
                        return;
                    }

                    if (Manipulator.manipulatedVictim != null && !Manipulator.manipulator.Data.IsDead && !Seeker.isMinigaming && !Challenger.isDueling) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.bountyExilerTarget, false, 100f);
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ManipulatorSetManipulated, Hazel.SendOption.Reliable, -1);
                        writer.Write(Manipulator.manipulatedVictim.PlayerId);
                        writer.Write(1);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.manipulatorSetManipulated(Manipulator.manipulatedVictim.PlayerId, 1);
                    }
                    manipulatorManipulateButton.Timer = manipulatorManipulateButton.MaxTimer;
                }
            );

            // Manipulated Kill
            manipulatedKillButton = new CustomButton(
                () => {

                    if (Manipulator.manipulatedVictimTarget != null) {

                        MurderAttemptResult murderAttemptResult = Helpers.checkMurderAttempt(Manipulator.manipulatedVictim, Manipulator.manipulatedVictimTarget);
                        if (murderAttemptResult == MurderAttemptResult.JinxKill) {
                            SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                            manipulatedKillButton.Timer = manipulatedKillButton.MaxTimer;
                            Manipulator.manipulatedVictimTarget = null;
                            return;
                        }
                        else if (murderAttemptResult == MurderAttemptResult.SuppressKill) {
                            return;
                        }

                        if (murderAttemptResult == MurderAttemptResult.PerformKill) {
                            byte targetId = 0;

                            targetId = Manipulator.manipulatedVictimTarget.PlayerId;

                            MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.UncheckedMurderPlayer, Hazel.SendOption.Reliable, -1);
                            killWriter.Write(Manipulator.manipulatedVictim.Data.PlayerId);
                            killWriter.Write(targetId);
                            killWriter.Write(byte.MaxValue);
                            AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                            RPCProcedure.uncheckedMurderPlayer(Manipulator.manipulatedVictim.Data.PlayerId, targetId, Byte.MaxValue);

                            MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ManipulatorSetManipulated, Hazel.SendOption.Reliable, -1);
                            writer.Write(0);
                            AmongUsClient.Instance.FinishRpcImmediately(writer);
                            RPCProcedure.manipulatorSetManipulated(0, 0);
                        }

                        manipulatedKillButton.Timer = manipulatedKillButton.MaxTimer;
                        Manipulator.manipulatedVictimTarget = null;
                    }                    
                },
                () => { return Manipulator.manipulatedVictim != null && Manipulator.manipulatedVictim == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return Manipulator.manipulatedVictimTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { manipulatedKillButton.Timer = manipulatedKillButton.MaxTimer; },
                Manipulator.getKillOrDieButtonSprite(),
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                null,
                true
            );
            
            // Manipulated time count text
            Manipulator.manipulatedVictimTimerCountButtonText = GameObject.Instantiate(manipulatedKillButton.actionButton.cooldownTimerText, manipulatedKillButton.actionButton.cooldownTimerText.transform.parent);
            Manipulator.manipulatedVictimTimerCountButtonText.enableWordWrapping = false;
            Manipulator.manipulatedVictimTimerCountButtonText.transform.localScale = Vector3.one * 0.5f;
            Manipulator.manipulatedVictimTimerCountButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            //Bomberman place bomb
            bombermanBombButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        Bomberman.bombDuration = 0f;
                        bombermanBombButton.EffectDuration = Bomberman.bombDuration; 
                        return;
                    }

                    if (Helpers.checkIfJinxed(Bomberman.bomberman)) {
                        Helpers.jinxedAction(Bomberman.bomberman);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        Bomberman.bombDuration = 0f;
                        bombermanBombButton.EffectDuration = Bomberman.bombDuration;
                        return;
                    }

                    switch (GameOptionsManager.Instance.currentGameOptions.MapId) {
                        case 0:
                            Bomberman.bombDuration = 60;
                            break;
                        case 1:
                            Bomberman.bombDuration = 60;
                            break;
                        case 2:
                            Bomberman.bombDuration = 90;
                            break;
                        case 3:
                            Bomberman.bombDuration = 60;
                            break;
                        case 4:
                            Bomberman.bombDuration = 180;
                            break;
                        case 5:
                            Bomberman.bombDuration = 90;
                            break;
                    }

                    foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                        if (player.Data.IsDead && !player.Data.Role.IsImpostor) {
                            Bomberman.bombDuration += 5;
                        }
                    }

                    bombermanBombButton.EffectDuration = Bomberman.bombDuration;

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.bombermanPlaceBombClip, false, 100f);
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PlaceBomb, Hazel.SendOption.Reliable, -1);
                    var pos = PlayerInCache.LocalPlayer.PlayerControl.transform.position;
                    byte[] buff = new byte[sizeof(float) * 2];
                    Buffer.BlockCopy(BitConverter.GetBytes(pos.x), 0, buff, 0 * sizeof(float), sizeof(float));
                    Buffer.BlockCopy(BitConverter.GetBytes(pos.y), 0, buff, 1 * sizeof(float), sizeof(float));
                    writer.WriteBytesAndSize(buff); 
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.placeBomb(buff);
                },
                () => { return Bomberman.bomberman != null && Bomberman.bomberman == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    bool closetoPlayer = false;
                    foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                        if (Vector2.Distance(player.transform.position, Bomberman.bomberman.transform.position) < 1.5f && player != Bomberman.bomberman && !player.Data.IsDead) {
                            closetoPlayer = true;
                        }
                    }
                    bool sabotageActive = false;
                    sabotageActive = Helpers.AnySabotageActive();

                    return !closetoPlayer && !sabotageActive && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Bomberman.activeBomb && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming && Illusionist.lightsOutTimer <= 0 && (Jailer.prisonPlayer == null || Jailer.prisonPlayer != null && Jailer.prisonPlayer.PlayerId != Bomberman.bomberman.PlayerId);
                },
                () => {
                    bombermanBombButton.Timer = bombermanBombButton.MaxTimer;
                    bombermanBombButton.isEffectActive = false;
                    bombermanBombButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                },
                Bomberman.getBombButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.F,
                true,
                Bomberman.bombDuration,
                () => { bombermanBombButton.Timer = bombermanBombButton.MaxTimer; }
            );

            // Bomb button only if there's Bomberman ingame
            bombButton = new CustomButton(
                () => {
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.FixBomb, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.fixBomb();
                    bombButton.Timer = bombButton.MaxTimer;
                },
                () => { return !PlayerInCache.LocalPlayer.Data.IsDead /*&& Bomberman.bomberman != null*/ && PlayerInCache.LocalPlayer.PlayerControl != Bomberman.bomberman && Bomberman.activeBomb && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => {
                    bool CanUse = false;
                    if (Bomberman.bombObject != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, Bomberman.bombObject.transform.position) < 0.5f) {
                        CanUse = true;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove; },
                () => { },
                Bomberman.getBombDefuseButtonSprite(),
                CustomButton.ButtonPositions.topRowUpper,
                __instance,
                null,
                false
            );

            // Bomberman SelfBomb
            bombermanSelfBombButton = new CustomButton(
                () => {
                    bombermanSelfBombButton.HasEffect = true;
                    Bomberman.bombArea.SetActive(true);
                },
                () => { return Bomberman.bomberman != null && Bomberman.bomberman == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => {
                    bombermanSelfBombButton.isEffectActive = false;
                    bombermanSelfBombButton.Timer = bombermanSelfBombButton.MaxTimer;
                    bombermanSelfBombButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                },
                Bomberman.getSelfBombButtonSprite(),
                CustomButton.ButtonPositions.lowerRowLeft,
                __instance,
                KeyCode.T,
                true,
                Bomberman.selfbombDuration,
                () => {
                    Bomberman.bombArea.SetActive(false);

                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        bombermanSelfBombButton.Timer = bombermanSelfBombButton.MaxTimer;
                        return;
                    }
                    
                    if (Helpers.checkIfJinxed(Bomberman.bomberman)) {
                        Helpers.jinxedAction(Bomberman.bomberman);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        bombermanSelfBombButton.Timer = bombermanSelfBombButton.MaxTimer;
                        return;
                    }

                    if (!MeetingHud.Instance && !Seeker.isMinigaming && !Challenger.isDueling && !Monja.awakened && !PlayerInCache.LocalPlayer.Data.IsDead) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.bombermanBombClip, false, 5f);
                        foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                            if (Vector2.Distance(player.transform.position, Bomberman.bomberman.transform.position) < 3f && !player.Data.IsDead) {
                                byte targetId = 0;

                                targetId = player.PlayerId;

                                float timer = 0.05f;

                                if (player == Bomberman.bomberman) {
                                    timer = 1f;
                                }

                                HudManager.Instance.StartCoroutine(Effects.Lerp(timer, new Action<float>((p) => { // Delayed action for self bomb
                                    if (p == 1f) {
                                        MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.UncheckedMurderPlayer, Hazel.SendOption.Reliable, -1);
                                        killWriter.Write(Bomberman.bomberman.Data.PlayerId);
                                        killWriter.Write(targetId);
                                        killWriter.Write(0);
                                        AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                                        RPCProcedure.uncheckedMurderPlayer(Bomberman.bomberman.Data.PlayerId, targetId, 0);
                                    }
                                })));
                            }
                        }                        
                    }
                    bombermanSelfBombButton.Timer = bombermanSelfBombButton.MaxTimer;
                }
            );

            // Chameleon invisible
            chameleonInvisibleButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        Chameleon.duration = quackNumber;
                        chameleonInvisibleButton.EffectDuration = Chameleon.duration;
                        chameleonInvisibleButton.Timer = chameleonInvisibleButton.MaxTimer; 
                        return;
                    }

                    if (Helpers.checkIfJinxed(Chameleon.chameleon)) {
                        Helpers.jinxedAction(Chameleon.chameleon);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        Chameleon.duration = quackNumber;
                        chameleonInvisibleButton.EffectDuration = Chameleon.duration;
                        chameleonInvisibleButton.Timer = chameleonInvisibleButton.MaxTimer;
                        return;
                    }

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.chameleonInvisible, false, 100f);

                    Chameleon.duration = Chameleon.backUpduration;
                    chameleonInvisibleButton.EffectDuration = Chameleon.duration;
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ChameleonInvisible, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.chameleonInvisible();
                },
                () => { return Chameleon.chameleon != null && Chameleon.chameleon == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && PlayerInCache.LocalPlayer.Data.Role.IsImpostor; },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => {
                    chameleonInvisibleButton.Timer = chameleonInvisibleButton.MaxTimer;
                    chameleonInvisibleButton.isEffectActive = false;
                    chameleonInvisibleButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                },
                Chameleon.getInvisibleButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.F,
                true,
                0f,
                () => {
                    chameleonInvisibleButton.Timer = chameleonInvisibleButton.MaxTimer;
                }
            );

            // Sorcerer Spell button
            sorcererSpellButton = new CustomButton(
                () => {  
                    if (Sorcerer.currentTarget != null) {
                        Sorcerer.spellTarget = Sorcerer.currentTarget;
                    }
                },
                () => { return Sorcerer.sorcerer != null && Sorcerer.sorcerer == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (sorcererSpellButton.isEffectActive && Sorcerer.spellTarget != Sorcerer.currentTarget) {
                        Sorcerer.spellTarget = null;
                        sorcererSpellButton.Timer = 0f;
                        sorcererSpellButton.isEffectActive = false;
                    }
                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && Sorcerer.currentTarget != null && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => {
                    sorcererSpellButton.Timer = sorcererSpellButton.MaxTimer;
                    sorcererSpellButton.isEffectActive = false;
                    Sorcerer.spellTarget = null;
                },
                Sorcerer.getSpellButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.F,
                true,
                Sorcerer.spellDuration,
                () => {
                    if (Sorcerer.spellTarget == null) return;
                    
                    MurderAttemptResult attempt = Helpers.checkMurderAttempt(Sorcerer.sorcerer, Sorcerer.spellTarget);
                    if (attempt == MurderAttemptResult.PerformKill) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SetSpelledPlayer, Hazel.SendOption.Reliable, -1);
                        writer.Write(Sorcerer.currentTarget.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.setSpelledPlayer(Sorcerer.currentTarget.PlayerId);
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.sorcererHex, false, 100f);
                    }
                    if (attempt == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        sorcererSpellButton.Timer = sorcererSpellButton.MaxTimer;
                        Sorcerer.sorcerer.killTimer = GameOptionsManager.Instance.CurrentGameOptions.GetFloat(FloatOptionNames.KillCooldown);
                    }
                    else if (attempt == MurderAttemptResult.PerformKill) {
                        sorcererSpellButton.Timer = sorcererSpellButton.MaxTimer;
                        Sorcerer.sorcerer.killTimer = GameOptionsManager.Instance.CurrentGameOptions.GetFloat(FloatOptionNames.KillCooldown);
                    }
                    else {
                        sorcererSpellButton.Timer = 0f;
                    }
                    Sorcerer.spellTarget = null;
                }
            );

            // Medusa petrify
            medusaPetrifyButton = new CustomButton(
                () => {
                    if (Medusa.currentTarget != null) {
                        Medusa.petrified = Medusa.currentTarget;
                        medusaPetrifyButton.HasEffect = true;
                        Medusa.medusa.killTimer = medusaPetrifyButton.Timer = medusaPetrifyButton.MaxTimer;
                    }
                },
                () => { return Medusa.medusa != null && Medusa.medusa == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && Medusa.currentTarget != null && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => {
                    Medusa.petrified = null;
                    medusaPetrifyButton.isEffectActive = false;
                    medusaPetrifyButton.Timer = medusaPetrifyButton.MaxTimer;
                    medusaPetrifyButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                },
                Medusa.getButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.F,
                true,
                Medusa.delay,
                () => {

                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        Medusa.petrified = null;
                        Medusa.medusa.killTimer = medusaPetrifyButton.Timer = medusaPetrifyButton.MaxTimer; 
                        return;
                    }
                    
                    if (Helpers.checkIfJinxed(Medusa.medusa)) {
                        Helpers.jinxedAction(Medusa.medusa);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        Medusa.petrified = null;
                        Medusa.medusa.killTimer = medusaPetrifyButton.Timer = medusaPetrifyButton.MaxTimer;
                        return;
                    }

                    if (Medusa.petrified != null && !Medusa.petrified.Data.IsDead && !Seeker.isMinigaming && !Challenger.isDueling) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.medusaPetrify, false, 100f);
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MedusaPetrify, Hazel.SendOption.Reliable, -1);
                        writer.Write(Medusa.petrified.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.medusaPetrify(Medusa.petrified.PlayerId);
                        Medusa.petrified = null;
                    }
                    Medusa.medusa.killTimer = medusaPetrifyButton.Timer = medusaPetrifyButton.MaxTimer;
                }
            );

            // Unpetrify button only if there's Medusa ingame
            unpetrifyButton = new CustomButton(
                () => {

                    PlayerControl dePetrifiedPlayer = Medusa.localPetrifiedPlayer;

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.hackerHack, false, 100f);

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MedusaUnpetrify, Hazel.SendOption.Reliable, -1);
                    writer.Write(dePetrifiedPlayer.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.medusaUnpetrify(dePetrifiedPlayer.PlayerId);

                    unpetrifyButton.Timer = unpetrifyButton.MaxTimer;
                },
                () => { return !PlayerInCache.LocalPlayer.Data.IsDead && Medusa.medusa != null && !PlayerInCache.LocalPlayer.PlayerControl.Data.Role.IsImpostor && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => {
                    bool CanUse = false;
                    Medusa.localPetrifiedPlayer = null;
                    if(Medusa.petrifiedPlayers.Count != 0) {
                        foreach (PlayerControl petrified in Medusa.petrifiedPlayers) {
                            if (Vector2.Distance(petrified.transform.position, PlayerInCache.LocalPlayer.PlayerControl.transform.position) < 1f) {
                                Medusa.localPetrifiedPlayer = petrified;
                                CanUse = true;
                            }
                        }
                    }
                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && CanUse; },
                () => {
                    unpetrifyButton.Timer = unpetrifyButton.MaxTimer;
                },
                Medusa.getButtonUnpetrifySprite(),
                CustomButton.ButtonPositions.topRowRight,
                __instance,
                null,
                false
            );
            
            // Hypnotist spirtal button
            hypnotistSpiralButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        hypnotistSpiralButton.Timer = hypnotistSpiralButton.MaxTimer;
                        return;
                    }

                    if (Helpers.checkIfJinxed(Hypnotist.hypnotist)) {
                        Helpers.jinxedAction(Hypnotist.hypnotist);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        hypnotistSpiralButton.Timer = hypnotistSpiralButton.MaxTimer;
                        return;
                    }

                    hypnotistSpiralButton.Timer = hypnotistSpiralButton.MaxTimer;

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.bombermanPlaceBombClip, false, 100f);
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PlaceSpiralTrap, Hazel.SendOption.Reliable, -1);
                    var pos = PlayerInCache.LocalPlayer.PlayerControl.transform.position;
                    byte[] buff = new byte[sizeof(float) * 2];
                    Buffer.BlockCopy(BitConverter.GetBytes(pos.x), 0, buff, 0 * sizeof(float), sizeof(float));
                    Buffer.BlockCopy(BitConverter.GetBytes(pos.y), 0, buff, 1 * sizeof(float), sizeof(float));
                    writer.WriteBytesAndSize(buff); 
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.placeSpiralTrap(buff);
                },
                () => {
                    return Hypnotist.hypnotist != null && Hypnotist.hypnotist == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    bool closetoTrap = false;
                    foreach (HypnotistSpiral hypnotistSpiral in HypnotistSpiral.hypnotistSpirals) {
                        if (Vector2.Distance(hypnotistSpiral.hypnotistSpiral.transform.position, Hypnotist.hypnotist.transform.position) < 3f) {
                            closetoTrap = true;
                        }
                    }
                    bool closetoObjects = false;
                    foreach (GameObject movementObject in Hypnotist.objectsCantPlaceTraps) {
                        if (Vector2.Distance(movementObject.transform.position, Hypnotist.hypnotist.transform.position) < 2f) {
                            closetoObjects = true;
                        }
                    }
                    return !closetoTrap && !closetoObjects && PlayerInCache.LocalPlayer.PlayerControl.CanMove && Hypnotist.currentSpiralNumber < Hypnotist.numberOfSpirals && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming && (Jailer.prisonPlayer == null || Jailer.prisonPlayer != null && Jailer.prisonPlayer.PlayerId != Hypnotist.hypnotist.PlayerId);
                },
                () => {
                    hypnotistSpiralButton.Timer = hypnotistSpiralButton.MaxTimer;
                },
                Hypnotist.getSpiralSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.F
            );

            // Hypnotist trap counter
            Hypnotist.trapsCounterButtonText = GameObject.Instantiate(hypnotistSpiralButton.actionButton.cooldownTimerText, hypnotistSpiralButton.actionButton.cooldownTimerText.transform.parent);
            Hypnotist.trapsCounterButtonText.enableWordWrapping = false;
            Hypnotist.trapsCounterButtonText.transform.localScale = Vector3.one * 0.5f;
            Hypnotist.trapsCounterButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Archer ShowWeapong
            archerShowWeaponButton = new CustomButton(
                () => {

                    Archer.weaponDuration = 0;
                    archerShowWeaponButton.Timer = 2f;
                    Archer.weaponEquiped = !Archer.weaponEquiped;
                    if (Archer.bow != null) {
                        Archer.bow.gameObject.SetActive(Archer.weaponEquiped);
                    }
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.archerPickBow, false, 100f);

                },
                () => { return Archer.archer != null && Archer.archer == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (Archer.bow != null) {
                        var targetPosition = Archer.archer.transform.position + new Vector3(0.8f * (float)Math.Cos(Archer.mouseArcherAngle), 0.8f * (float)Math.Sin(Archer.mouseArcherAngle));
                        Archer.bow.transform.position += (targetPosition - Archer.bow.transform.position) * 0.4f;
                        Archer.bow.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(Archer.mouseArcherAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(Archer.mouseArcherAngle) < 0.0) {
                            if (Archer.bow.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                Archer.bow.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (Archer.bow.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                Archer.bow.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }

                        if (Archer.weaponEquiped) {
                            archerShowWeaponButton.actionButton.graphic.sprite = Archer.getHideBowButtonSprite();
                            if (Archer.archer.inVent)
                                Archer.bow.active = false;
                            else
                                Archer.bow.active = true;
                        }
                        else {
                            archerShowWeaponButton.actionButton.graphic.sprite = Archer.getPickBowButtonSprite();
                        }

                    }
                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => {
                    Archer.weaponDuration = 0;
                    Archer.weaponEquiped = false;
                    if (Archer.bow != null) {
                        Archer.bow.gameObject.SetActive(Archer.weaponEquiped);
                    }
                    archerShowWeaponButton.Timer = archerShowWeaponButton.MaxTimer;
                },
                Archer.getPickBowButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.F
            );

            // Archer Kill
            archerKillButton = new CustomButton(
                () => {
                    
                    PlayerControl target = Archer.GetShootPlayer(Archer.shotSize * 0.2f, Archer.shotRange);

                    if (target != null) {
                        MurderAttemptResult murderAttemptResult = Helpers.checkMurderAttempt(Archer.archer, target);
                        if (murderAttemptResult == MurderAttemptResult.JinxKill) {
                            SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                            archerKillButton.Timer = archerKillButton.MaxTimer;
                            target = null;
                            return;
                        }
                        else if (murderAttemptResult == MurderAttemptResult.SuppressKill) {
                            return;
                        }

                        if (murderAttemptResult == MurderAttemptResult.PerformKill) {

                            MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.UncheckedMurderPlayer, Hazel.SendOption.Reliable, -1);
                            killWriter.Write(Archer.archer.Data.PlayerId);
                            killWriter.Write(target.PlayerId);
                            killWriter.Write(0);
                            AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                            RPCProcedure.uncheckedMurderPlayer(Archer.archer.Data.PlayerId, target.PlayerId, 0);
                        }
                    }
                    else {
                        target = PlayerInCache.LocalPlayer.PlayerControl;
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ShowArcherNotification, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.showArcherNotification(target.PlayerId);

                    Archer.weaponDuration = 0;
                    Archer.weaponEquiped = false;
                    Archer.bow.gameObject.SetActive(false);
                    archerKillButton.Timer = archerKillButton.MaxTimer;
                    archerShowWeaponButton.Timer = archerShowWeaponButton.MaxTimer;
                    target = null;
                },
                () => { return Archer.archer != null && Archer.archer == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (Archer.weaponEquiped) {

                        if (Archer.bow == null) {
                            Archer.bow = new GameObject("Weapon");
                            var renderer = Archer.bow.AddComponent<SpriteRenderer>();

                            renderer.sprite = Archer.getBowSprite();
                            renderer.transform.parent = Archer.archer.transform;
                            renderer.color = new Color(1, 1, 1, 1);
                            renderer.transform.position = new Vector3(0, 0, -30f);
                        }

                        if (Archer.Guides.Count == 0) {
                            foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                                if (player.PlayerId == PlayerInCache.LocalPlayer.PlayerControl.PlayerId) continue;

                                var obj = new GameObject("WeaponGuide");
                                var renderer = obj.AddComponent<SpriteRenderer>();

                                renderer.sprite = Archer.getGuideSprite();
                                renderer.transform.parent = HudManager.Instance.transform;
                                renderer.color = new Color(0, 0, 0, 0);
                                renderer.transform.position = new Vector3(0, 0, -30f);
                                Archer.Guides[player.PlayerId] = renderer;

                            }
                        }

                        Archer.weaponDuration += Time.deltaTime;

                        float r = 0f, g = 0f, b = 0f, a = 0f;

                        if (Archer.weaponDuration > Archer.AimAssistDelay) {
                            float value = 1f - (Archer.weaponDuration - Archer.AimAssistDelay);
                            if (value > 0) r = g = b = a = value;
                            r = 0.2f + 0.8f * r;
                            g = 0.4f + 0.6f * g;
                            g = 0.8f + 0.2f * b;
                            a = 0.6f + 0.4f * a;

                            if (Archer.weaponDuration > Archer.AimAssistDelay + Archer.AimAssistDuration) {
                                value = Archer.weaponDuration - Archer.AimAssistDelay - Archer.AimAssistDuration;
                                if (value < 0) value = 0f;
                                a *= 1f - value;
                            }
                        }

                        Color color = new Color(r, g, b, a);

                        foreach (var guide in Archer.Guides) {
                            guide.Value.color = Color.clear;
                        }

                        foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                            if (player.Data.IsDead) continue;
                            if (!Archer.Guides.ContainsKey(player.PlayerId)) continue;

                            if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                                if ((Archer.archer.transform.position.y > 0 && player.transform.position.y > 0) || (Archer.archer.transform.position.y < 0 && player.transform.position.y < 0)) {
                                    Archer.Guides[player.PlayerId].color = color;
                                    Vector3 dir = player.transform.position - PlayerInCache.LocalPlayer.PlayerControl.transform.position;
                                    float angle = Mathf.Atan2(dir.y, dir.x);

                                    float oldAng = Archer.Guides[player.PlayerId].transform.eulerAngles.z * (float)Math.PI / 180f;
                                    Vector2 newPos = new Vector2(Mathf.Cos(angle), Mathf.Sin(angle));
                                    Vector2 oldPos = new Vector2(Mathf.Cos(oldAng), Mathf.Sin(oldAng));
                                    newPos = oldPos + (newPos - oldPos) * 0.15f;

                                    angle = Mathf.Atan2(newPos.y, newPos.x);
                                    Archer.Guides[player.PlayerId].transform.eulerAngles = new Vector3(0, 0, angle * 180f / (float)Math.PI);
                                    Archer.Guides[player.PlayerId].transform.localPosition = new Vector3(Mathf.Cos(angle) * 2f, Mathf.Sin(angle) * 2f, -30f);
                                }
                            }
                            else {
                                Archer.Guides[player.PlayerId].color = color;
                                Vector3 dir = player.transform.position - PlayerInCache.LocalPlayer.PlayerControl.transform.position;
                                float angle = Mathf.Atan2(dir.y, dir.x);

                                float oldAng = Archer.Guides[player.PlayerId].transform.eulerAngles.z * (float)Math.PI / 180f;
                                Vector2 newPos = new Vector2(Mathf.Cos(angle), Mathf.Sin(angle));
                                Vector2 oldPos = new Vector2(Mathf.Cos(oldAng), Mathf.Sin(oldAng));
                                newPos = oldPos + (newPos - oldPos) * 0.15f;

                                angle = Mathf.Atan2(newPos.y, newPos.x);
                                Archer.Guides[player.PlayerId].transform.eulerAngles = new Vector3(0, 0, angle * 180f / (float)Math.PI);
                                Archer.Guides[player.PlayerId].transform.localPosition = new Vector3(Mathf.Cos(angle) * 2f, Mathf.Sin(angle) * 2f, -30f);
                            }
                        }

                        foreach (var deadBody in UnityEngine.Object.FindObjectsOfType<DeadBody>()) {
                            if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                                if ((Archer.archer.transform.position.y > 0 && deadBody.transform.position.y > 0) || (Archer.archer.transform.position.y < 0 && deadBody.transform.position.y < 0)) {
                                    Archer.Guides[deadBody.ParentId].color = color;
                                    Vector3 dir = deadBody.transform.position - PlayerInCache.LocalPlayer.PlayerControl.transform.position;
                                    float angle = Mathf.Atan2(dir.y, dir.x);

                                    float oldAng = Archer.Guides[deadBody.ParentId].transform.eulerAngles.z * (float)Math.PI / 180f;
                                    Vector2 newPos = new Vector2(Mathf.Cos(angle), Mathf.Sin(angle));
                                    Vector2 oldPos = new Vector2(Mathf.Cos(oldAng), Mathf.Sin(oldAng));
                                    newPos = oldPos + (newPos - oldPos) * 0.15f;

                                    angle = Mathf.Atan2(newPos.y, newPos.x);
                                    Archer.Guides[deadBody.ParentId].transform.eulerAngles = new Vector3(0, 0, angle * 180f / (float)Math.PI);
                                    Archer.Guides[deadBody.ParentId].transform.localPosition = new Vector3(Mathf.Cos(angle) * 2f, Mathf.Sin(angle) * 2f, -30f);
                                }
                            }
                            else {
                                Archer.Guides[deadBody.ParentId].color = color;
                                Vector3 dir = deadBody.transform.position - PlayerInCache.LocalPlayer.PlayerControl.transform.position;
                                float angle = Mathf.Atan2(dir.y, dir.x);

                                float oldAng = Archer.Guides[deadBody.ParentId].transform.eulerAngles.z * (float)Math.PI / 180f;
                                Vector2 newPos = new Vector2(Mathf.Cos(angle), Mathf.Sin(angle));
                                Vector2 oldPos = new Vector2(Mathf.Cos(oldAng), Mathf.Sin(oldAng));
                                newPos = oldPos + (newPos - oldPos) * 0.15f;

                                angle = Mathf.Atan2(newPos.y, newPos.x);
                                Archer.Guides[deadBody.ParentId].transform.eulerAngles = new Vector3(0, 0, angle * 180f / (float)Math.PI);
                                Archer.Guides[deadBody.ParentId].transform.localPosition = new Vector3(Mathf.Cos(angle) * 2f, Mathf.Sin(angle) * 2f, -30f);
                            }
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        Archer.mouseArcherAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                    }
                    else {
                        foreach (var guide in Archer.Guides) {
                            guide.Value.color *= 0.7f;
                        }
                    }
                    return Archer.weaponEquiped && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => { archerKillButton.Timer = archerKillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowCenter,
                __instance,
                KeyCode.Mouse1
            );

            // Plumber make vent
            plumberMakeVentButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        plumberMakeVentButton.Timer = plumberMakeVentButton.MaxTimer;
                        return;
                    }

                    if (Helpers.checkIfJinxed(Plumber.plumber)) {
                        Helpers.jinxedAction(Plumber.plumber);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        plumberMakeVentButton.Timer = plumberMakeVentButton.MaxTimer;
                        return;
                    }
                    
                    plumberMakeVentButton.Timer = plumberMakeVentButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.bombermanPlaceBombClip, false, 5f);

                    var writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PlumberMakeVent, SendOption.Reliable, -1);
                    var pos = PlayerInCache.LocalPlayer.PlayerControl.transform.position;
                    byte[] buff = new byte[sizeof(float) * 2];
                    Buffer.BlockCopy(BitConverter.GetBytes(pos.x), 0, buff, 0 * sizeof(float), sizeof(float));
                    Buffer.BlockCopy(BitConverter.GetBytes(pos.y), 0, buff, 1 * sizeof(float), sizeof(float));
                    writer.WriteBytesAndSize(buff);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.plumberMakeVent(buff);
                },
                () => { return Plumber.plumber != null && Plumber.plumber == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    bool canUse = true;
                    foreach (Vent vent in ShipStatus.Instance.AllVents) {
                        if (Vector2.Distance(vent.transform.position, PlayerInCache.LocalPlayer.PlayerControl.transform.position) < 2f) {
                            canUse = false;
                        }
                    }
                    return canUse && Plumber.currentVents < Plumber.maxVents && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming && (Jailer.prisonPlayer == null || Jailer.prisonPlayer != null && Jailer.prisonPlayer.PlayerId != Plumber.plumber.PlayerId);
                },
                () => { 
                    plumberMakeVentButton.Timer = plumberMakeVentButton.MaxTimer;
                },
                Plumber.getPlumberButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.F
            );

            // Plumber vent button spawn remaining uses text
            Plumber.plumberVentButtonText = GameObject.Instantiate(plumberMakeVentButton.actionButton.cooldownTimerText, plumberMakeVentButton.actionButton.cooldownTimerText.transform.parent);
            Plumber.plumberVentButtonText.enableWordWrapping = false;
            Plumber.plumberVentButtonText.transform.localScale = Vector3.one * 0.5f;
            Plumber.plumberVentButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Librarian Silence
            librarianSilenceButton = new CustomButton(
               () => {
                   if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                       librarianSilenceButton.Timer = librarianSilenceButton.MaxTimer;
                       return;
                   }

                   if (Helpers.checkIfJinxed(Librarian.librarian)) {
                       Helpers.jinxedAction(Librarian.librarian);

                       SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                       librarianSilenceButton.Timer = librarianSilenceButton.MaxTimer;
                       return;
                   }

                   if (Librarian.currentTarget != null) {
                       SoundManager.Instance.PlaySound(CustomMain.customAssets.bountyExilerTarget, false, 5f);
                       MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SilencePlayer, Hazel.SendOption.Reliable, -1);
                       writer.Write(Librarian.currentTarget.PlayerId);
                       AmongUsClient.Instance.FinishRpcImmediately(writer);
                       RPCProcedure.silencePlayer(Librarian.currentTarget.PlayerId);
                       librarianSilenceButton.Timer = librarianSilenceButton.MaxTimer;
                   }
               },
               () => { return Librarian.librarian != null && Librarian.librarian == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
               () => { return Librarian.currentTarget != null && Librarian.targetLibrary == null && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
               },
               () => { librarianSilenceButton.Timer = librarianSilenceButton.MaxTimer; },
               Librarian.getLibrarianButtonSprite(),
               CustomButton.ButtonPositions.lowerRowCenter,
               __instance,
               KeyCode.F
            );

            // Librarian target text
            Librarian.targetNameButtonText = GameObject.Instantiate(librarianSilenceButton.actionButton.cooldownTimerText, librarianSilenceButton.actionButton.cooldownTimerText.transform.parent);
            Librarian.targetNameButtonText.enableWordWrapping = false;
            Librarian.targetNameButtonText.transform.localScale = Vector3.one * 0.5f;
            Librarian.targetNameButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Rebels buttons

            // Renegade Kill
            renegadeKillButton = new CustomButton(
                () => {
                    MurderAttemptResult murderAttemptResult = Helpers.checkMurderAttempt(Renegade.renegade, Renegade.currentTarget);
                    if (murderAttemptResult == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        renegadeKillButton.Timer = renegadeKillButton.MaxTimer;
                        Renegade.currentTarget = null;
                        return;
                    }
                    else if (murderAttemptResult == MurderAttemptResult.SuppressKill) {
                        return;
                    }

                    if (murderAttemptResult == MurderAttemptResult.PerformKill) {
                        
                        MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.UncheckedMurderPlayer, Hazel.SendOption.Reliable, -1);
                        killWriter.Write(Renegade.renegade.Data.PlayerId);
                        killWriter.Write(Renegade.currentTarget.PlayerId);
                        killWriter.Write(byte.MaxValue);
                        AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                        RPCProcedure.uncheckedMurderPlayer(Renegade.renegade.Data.PlayerId, Renegade.currentTarget.PlayerId, Byte.MaxValue);
                    }

                    renegadeKillButton.Timer = renegadeKillButton.MaxTimer;
                    Renegade.currentTarget = null; 
                },
                () => { return Renegade.renegade != null && Renegade.renegade == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return Renegade.currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { renegadeKillButton.Timer = renegadeKillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Renegade recruit
            renegadeMinionButton = new CustomButton(
                () => {
                    if (Helpers.checkMurderAttempt(Renegade.renegade, Renegade.currentTarget) == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        renegadeMinionButton.Timer = renegadeMinionButton.MaxTimer;
                        Renegade.currentTarget = null;
                        return;
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.RenegadeRecruitMinion, Hazel.SendOption.Reliable, -1);
                    writer.Write(Renegade.currentTarget.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.renegadeRecruitMinion(Renegade.currentTarget.PlayerId);
                },
                () => { return Renegade.canRecruitMinion && Renegade.renegade != null && Renegade.renegade == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && !Renegade.usedRecruit; },
                () => { return Renegade.canRecruitMinion && Renegade.currentTarget != null && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Renegade.usedRecruit && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { renegadeMinionButton.Timer = renegadeMinionButton.MaxTimer; },
                Renegade.getMinionButtonSprite(),
                CustomButton.ButtonPositions.upperRowCenter,
                __instance,
                KeyCode.F
            );

            // Minion Kill
            minionKillButton = new CustomButton(
                () => {
                    MurderAttemptResult murderAttemptResult = Helpers.checkMurderAttempt(Minion.minion, Minion.currentTarget);
                    if (murderAttemptResult == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        minionKillButton.Timer = minionKillButton.MaxTimer;
                        Minion.currentTarget = null;
                        return;
                    }
                    else if (murderAttemptResult == MurderAttemptResult.SuppressKill) {
                        return;
                    }

                    if (murderAttemptResult == MurderAttemptResult.PerformKill) {

                        MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.UncheckedMurderPlayer, Hazel.SendOption.Reliable, -1);
                        killWriter.Write(Minion.minion.Data.PlayerId);
                        killWriter.Write(Minion.currentTarget.PlayerId);
                        killWriter.Write(byte.MaxValue);
                        AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                        RPCProcedure.uncheckedMurderPlayer(Minion.minion.Data.PlayerId, Minion.currentTarget.PlayerId, Byte.MaxValue);
                    }

                    minionKillButton.Timer = minionKillButton.MaxTimer;
                    Minion.currentTarget = null; 
                },
                () => { return Minion.minion != null && Minion.minion == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return Minion.currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { minionKillButton.Timer = minionKillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // BountyHunter Kill
            bountyHunterKillButton = new CustomButton(
                () => {
                    MurderAttemptResult murderAttemptResult = Helpers.checkMurderAttempt(BountyHunter.bountyhunter, BountyHunter.currentTarget);
                    if (murderAttemptResult == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        bountyHunterKillButton.Timer = bountyHunterKillButton.MaxTimer;
                        BountyHunter.currentTarget = null;
                        return;
                    }
                    else if (murderAttemptResult == MurderAttemptResult.SuppressKill) {
                        return;
                    }
                    else if (murderAttemptResult == MurderAttemptResult.PerformKill) {
                        byte targetId = 0;
                        if (BountyHunter.currentTarget == BountyHunter.hasToKill) {
                            targetId = BountyHunter.currentTarget.PlayerId;
                        }
                        else {
                            targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        }

                        MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BountyHunterKill, Hazel.SendOption.Reliable, -1);
                        killWriter.Write(targetId);
                        AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                        RPCProcedure.bountyHunterKill(targetId);
                    }

                    bountyHunterKillButton.Timer = bountyHunterKillButton.MaxTimer;
                    BountyHunter.currentTarget = null;
                },
                () => { return BountyHunter.bountyhunter != null && BountyHunter.bountyhunter == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return BountyHunter.usedTarget && BountyHunter.currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { bountyHunterKillButton.Timer = bountyHunterKillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Bounty hunter set target
            bountyHunterSetKillButton = new CustomButton(
                () => {

                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        bountyHunterSetKillButton.Timer = bountyHunterSetKillButton.MaxTimer;
                        return;
                    }

                    if (Helpers.checkIfJinxed(BountyHunter.bountyhunter)) {
                        Helpers.jinxedAction(BountyHunter.bountyhunter);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        bountyHunterSetKillButton.Timer = bountyHunterSetKillButton.MaxTimer;
                        return;
                    }

                    foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                    if (player != Kid.kid && player != BountyHunter.bountyhunter && player != Amnesiac.amnesiac && player != Modifiers.bigchungus) {
                            BountyHunter.possibleTargets.Add(player);
                        }
                    }

                    int bountyTarget = rnd.Next(0, BountyHunter.possibleTargets.Count);

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.bountyExilerTarget, false, 100f);
                    
                    PlayerControl finaltarget = Helpers.playerById(BountyHunter.possibleTargets[bountyTarget].PlayerId);

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SetRandomTarget, Hazel.SendOption.Reliable, -1);
                    writer.Write(finaltarget.PlayerId);
                    writer.Write(0);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.setRandomTarget(finaltarget.PlayerId, 0);
                },
                () => { return BountyHunter.bountyhunter != null && BountyHunter.bountyhunter == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return !BountyHunter.usedTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { bountyHunterSetKillButton.Timer = bountyHunterSetKillButton.MaxTimer; },
                BountyHunter.getButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                0f,
                () => {
                    bountyHunterSetKillButton.Timer = bountyHunterSetKillButton.MaxTimer;
                }
            );

            // BountyHunter target text
            BountyHunter.targetNameButtonText = GameObject.Instantiate(bountyHunterSetKillButton.actionButton.cooldownTimerText, bountyHunterSetKillButton.actionButton.cooldownTimerText.transform.parent);
            BountyHunter.targetNameButtonText.enableWordWrapping = false;
            BountyHunter.targetNameButtonText.transform.localScale = Vector3.one * 0.5f;
            BountyHunter.targetNameButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Trapper place mine
            trapperMineButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        trapperMineButton.Timer = trapperMineButton.MaxTimer;
                        return;
                    }

                    if (Helpers.checkIfJinxed(Trapper.trapper)) {
                        Helpers.jinxedAction(Trapper.trapper);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        trapperMineButton.Timer = trapperMineButton.MaxTimer;
                        return;
                    }

                    trapperMineButton.Timer = trapperMineButton.MaxTimer;

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.bombermanPlaceBombClip, false, 100f);
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PlaceMine, Hazel.SendOption.Reliable, -1);
                    var pos = PlayerInCache.LocalPlayer.PlayerControl.transform.position;
                    byte[] buff = new byte[sizeof(float) * 2];
                    Buffer.BlockCopy(BitConverter.GetBytes(pos.x), 0, buff, 0 * sizeof(float), sizeof(float));
                    Buffer.BlockCopy(BitConverter.GetBytes(pos.y), 0, buff, 1 * sizeof(float), sizeof(float));
                    writer.WriteBytesAndSize(buff); 
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.placeMine(buff);
                },
                () => {
                    int currentAlivePlayers = 0;
                    foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                        if (!player.Data.IsDead) {
                            currentAlivePlayers += 1;
                        }
                    }
                    return currentAlivePlayers > 2 && Trapper.trapper != null && Trapper.trapper == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    bool closetoPlayer = false;
                    foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                        if (Vector2.Distance(player.transform.position, Trapper.trapper.transform.position) < 3f && player != Trapper.trapper && !player.Data.IsDead) {
                            closetoPlayer = true;
                        }
                    }
                    bool closetoMine = false;
                    foreach (Mine mine in Mine.mines) {
                        if (Vector2.Distance(mine.mine.transform.position, Trapper.trapper.transform.position) < 2f) {
                            closetoMine = true;
                        }
                    }
                    return !closetoPlayer && !closetoMine && PlayerInCache.LocalPlayer.PlayerControl.CanMove && Trapper.currentMineNumber < Trapper.numberOfMines && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => {
                    trapperMineButton.Timer = trapperMineButton.MaxTimer;
                },
                Trapper.getMineButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Trapper place trap
            trapperTrapButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        trapperTrapButton.Timer = trapperTrapButton.MaxTimer;
                        return;
                    }

                    if (Helpers.checkIfJinxed(Trapper.trapper)) {
                        Helpers.jinxedAction(Trapper.trapper);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        trapperTrapButton.Timer = trapperTrapButton.MaxTimer;
                        return;
                    }

                    trapperTrapButton.Timer = trapperTrapButton.MaxTimer;

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.bombermanPlaceBombClip, false, 100f);
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PlaceTrap, Hazel.SendOption.Reliable, -1);
                    var pos = PlayerInCache.LocalPlayer.PlayerControl.transform.position;
                    byte[] buff = new byte[sizeof(float) * 2];
                    Buffer.BlockCopy(BitConverter.GetBytes(pos.x), 0, buff, 0 * sizeof(float), sizeof(float));
                    Buffer.BlockCopy(BitConverter.GetBytes(pos.y), 0, buff, 1 * sizeof(float), sizeof(float));
                    writer.WriteBytesAndSize(buff); 
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.placeTrap(buff);
                },
                () => {
                    int currentAlivePlayers = 0;
                    foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                        if (!player.Data.IsDead) {
                            currentAlivePlayers += 1;
                        }
                    }
                    return currentAlivePlayers > 2 && Trapper.trapper != null && Trapper.trapper == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    bool closetoPlayer = false;
                    foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                        if (Vector2.Distance(player.transform.position, Trapper.trapper.transform.position) < 3f && player != Trapper.trapper && !player.Data.IsDead) {
                            closetoPlayer = true;
                        }
                    }
                    bool closetoTrap = false;
                    foreach (Trap trap in Trap.traps) {
                        if (Vector2.Distance(trap.trap.transform.position, Trapper.trapper.transform.position) < 2f) {
                            closetoTrap = true;
                        }
                    }
                    return !closetoPlayer && !closetoTrap && PlayerInCache.LocalPlayer.PlayerControl.CanMove && Trapper.currentTrapNumber < Trapper.numberOfTraps && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => {
                    trapperTrapButton.Timer = trapperTrapButton.MaxTimer;
                },
                Trapper.getTrapButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T
            );

            // Trapper Kill
            trapperKillButton = new CustomButton(
                () => {
                    MurderAttemptResult murderAttemptResult = Helpers.checkMurderAttempt(Trapper.trapper, Trapper.currentTarget);
                    if (murderAttemptResult == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        trapperKillButton.Timer = trapperKillButton.MaxTimer;
                        Trapper.currentTarget = null;
                        return;
                    }

                    if (Helpers.checkMurderAttemptAndKill(Trapper.trapper, Trapper.currentTarget) == MurderAttemptResult.SuppressKill) return;

                    trapperKillButton.Timer = trapperKillButton.MaxTimer;
                    Trapper.currentTarget = null;
                },
                () => {
                    int currentAlivePlayers = 0;
                    foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                        if (!player.Data.IsDead) {
                            currentAlivePlayers += 1;
                        }
                    }
                    return currentAlivePlayers <= 2 && Trapper.trapper != null && Trapper.trapper == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { return Trapper.currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { trapperKillButton.Timer = trapperKillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Yinyanger set Yin
            yinyangerYinButton = new CustomButton(
                () => {
                    MurderAttemptResult murderAttemptResult = Helpers.checkMurderAttempt(Yinyanger.yinyanger, Yinyanger.currentTarget);
                    if (murderAttemptResult == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        yinyangerYinButton.Timer = yinyangerYinButton.MaxTimer;
                        return;
                    } else if (murderAttemptResult != MurderAttemptResult.PerformKill)
                        return;

                    Yinyanger.yinyedplayer = Yinyanger.currentTarget;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.yinyangerYinyangClip, false, 100f);
                    // Notify players about who is the Yined
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.YinyangerSetYinyang, Hazel.SendOption.Reliable, -1);
                    writer.Write(Yinyanger.yinyedplayer.PlayerId);
                    writer.Write(0);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.yinyangerSetYinyang(Yinyanger.yinyedplayer.PlayerId, 0);

                    yinyangerYinButton.Timer = yinyangerYangButton.Timer = yinyangerYinButton.MaxTimer;

                },
                () => {
                    int currentAlivePlayers = 0;
                    foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                        if (!player.Data.IsDead) {
                            currentAlivePlayers += 1;
                        }
                    }
                    return currentAlivePlayers > 2 && Yinyanger.yinyanger == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    bool closetoYanged = false;
                    if (Yinyanger.yangyedplayer != null) {
                        if (Vector2.Distance(Yinyanger.yinyanger.transform.position, Yinyanger.yangyedplayer.transform.position) < 4f && !Yinyanger.yinyanger.Data.IsDead) {
                            closetoYanged = true;
                        }
                    }
                    bool canYin = true;
                    if (Yinyanger.yangyedplayer != null && Yinyanger.currentTarget == Yinyanger.yangyedplayer) {
                        canYin = false;
                    }
                    return !closetoYanged && canYin && Yinyanger.currentTarget && !Yinyanger.usedYined && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => {
                    yinyangerYinButton.Timer = yinyangerYinButton.MaxTimer;
                },
                Yinyanger.getYinButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Yinyanger yin button text
            Yinyanger.yinedButtonText = GameObject.Instantiate(yinyangerYinButton.actionButton.cooldownTimerText, yinyangerYinButton.actionButton.cooldownTimerText.transform.parent);
            Yinyanger.yinedButtonText.enableWordWrapping = false;
            Yinyanger.yinedButtonText.transform.localScale = Vector3.one * 0.5f;
            Yinyanger.yinedButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Yinyanger set Yang
            yinyangerYangButton = new CustomButton(
                () => {
                    MurderAttemptResult murderAttemptResult = Helpers.checkMurderAttempt(Yinyanger.yinyanger, Yinyanger.currentTarget);
                    if (murderAttemptResult == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        yinyangerYangButton.Timer = yinyangerYangButton.MaxTimer;
                        return;
                    } else if (murderAttemptResult != MurderAttemptResult.PerformKill)
                        return;

                    Yinyanger.yangyedplayer = Yinyanger.currentTarget;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.yinyangerYinyangClip, false, 100f);
                    // Notify players about who is the Yanged
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.YinyangerSetYinyang, Hazel.SendOption.Reliable, -1);
                    writer.Write(Yinyanger.yangyedplayer.PlayerId);
                    writer.Write(1); AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.yinyangerSetYinyang(Yinyanger.yangyedplayer.PlayerId, 1);

                    yinyangerYangButton.Timer = yinyangerYinButton.Timer = yinyangerYangButton.MaxTimer;
                },
                () => {
                    int currentAlivePlayers = 0;
                    foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                        if (!player.Data.IsDead) {
                            currentAlivePlayers += 1;
                        }
                    }
                    return currentAlivePlayers > 2 && Yinyanger.yinyanger == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    bool closetoYined = false;
                    if (Yinyanger.yinyedplayer != null) {
                        if (Vector2.Distance(Yinyanger.yinyanger.transform.position, Yinyanger.yinyedplayer.transform.position) < 4f && !Yinyanger.yinyanger.Data.IsDead) {
                            closetoYined = true;
                        }
                    }
                    bool canYang = true;
                    if (Yinyanger.yinyedplayer != null && Yinyanger.currentTarget == Yinyanger.yinyedplayer) {
                        canYang = false;
                    }
                    return !closetoYined && canYang && Yinyanger.currentTarget && !Yinyanger.usedYanged && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => {
                    yinyangerYangButton.Timer = yinyangerYangButton.MaxTimer;
                },
                Yinyanger.getYangButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T
            );

            // Yinyanger yang button text
            Yinyanger.yanedButtonText = GameObject.Instantiate(yinyangerYangButton.actionButton.cooldownTimerText, yinyangerYangButton.actionButton.cooldownTimerText.transform.parent);
            Yinyanger.yanedButtonText.enableWordWrapping = false;
            Yinyanger.yanedButtonText.transform.localScale = Vector3.one * 0.5f;
            Yinyanger.yanedButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Yinyanger Kill
            yinyangerKillButton = new CustomButton(
                () => {
                    MurderAttemptResult murderAttemptResult = Helpers.checkMurderAttempt(Yinyanger.yinyanger, Yinyanger.currentTarget);
                    if (murderAttemptResult == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        yinyangerKillButton.Timer = yinyangerKillButton.MaxTimer;
                        Yinyanger.currentTarget = null;
                        return;
                    }

                    if (Helpers.checkMurderAttemptAndKill(Yinyanger.yinyanger, Yinyanger.currentTarget) == MurderAttemptResult.SuppressKill) return;

                    yinyangerKillButton.Timer = yinyangerKillButton.MaxTimer;
                    Yinyanger.currentTarget = null;
                },
                () => {
                    int currentAlivePlayers = 0;
                    foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                        if (!player.Data.IsDead) {
                            currentAlivePlayers += 1;
                        }
                    }
                    return currentAlivePlayers <= 2 && Yinyanger.yinyanger != null && Yinyanger.yinyanger == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { return Yinyanger.currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { yinyangerKillButton.Timer = yinyangerKillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );
            
            // Yinyanger YinYang
            yinyangerYinYangButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        yinyangerYinYangButton.Timer = yinyangerYinYangButton.MaxTimer;
                        return;
                    }

                    if (Helpers.checkIfJinxed(Yinyanger.yinyanger)) {
                        Helpers.jinxedAction(Yinyanger.yinyanger);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);

                        yinyangerYinYangButton.Timer = yinyangerYinYangButton.MaxTimer;
                        return;
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.YinyangerYinYang, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.yinyangerYinYang();

                    yinyangerYinYangButton.Timer = yinyangerYinYangButton.MaxTimer;
                },
                () => {
                    int currentAlivePlayers = 0;
                    foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                        if (!player.Data.IsDead) {
                            currentAlivePlayers += 1;
                        }
                    }
                    return currentAlivePlayers > 2 && Yinyanger.yinyanger == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    bool canUse = false;
                    if (Yinyanger.yinyedplayer != null && Yinyanger.yangyedplayer != null) {
                        if (Vector2.Distance(Yinyanger.yinyedplayer.transform.position, Yinyanger.yangyedplayer.transform.position) < 1.5f && !Yinyanger.yinyanger.Data.IsDead && !Yinyanger.yinyedplayer.Data.IsDead && !Yinyanger.yangyedplayer.Data.IsDead) {
                            canUse = true;
                        }
                    }                    
                    return canUse && !Yinyanger.colision && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => {
                    yinyangerYinYangButton.Timer = yinyangerYinYangButton.MaxTimer;
                },
                Yinyanger.getYinYangButtonSprite(),
               CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            //Challenger challenge button
            challengerChallengeButton = new CustomButton(
                () => {
                    MurderAttemptResult murder = Helpers.checkMurderAttempt(Challenger.challenger, Challenger.currentTarget);
                    if (murder == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);

                        Challenger.duration = quackNumber;
                        challengerChallengeButton.EffectDuration = Challenger.duration;
                        challengerChallengeButton.Timer = challengerChallengeButton.MaxTimer;
                        Challenger.currentTarget = null;
                        return;
                    }

                    if (murder == MurderAttemptResult.PerformKill) {
                        Challenger.duration = 10f;
                        challengerChallengeButton.EffectDuration = Challenger.duration;

                        Challenger.rivalPlayer = Challenger.currentTarget;
                        // Notify players about the who is the rival
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ChallengerSetRival, Hazel.SendOption.Reliable, -1);
                        writer.Write(Challenger.rivalPlayer.PlayerId);
                        writer.Write(0);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.challengerSetRival(Challenger.rivalPlayer.PlayerId, 0);

                        HudManager.Instance.StartCoroutine(Effects.Lerp(Challenger.duration, new Action<float>((p) => { // Delayed action
                            if (p == 1f) {
                                MurderAttemptResult murder = Helpers.checkMurderAttempt(Challenger.challenger, Challenger.rivalPlayer);
                                if (murder == MurderAttemptResult.JinxKill) {
                                    SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                                    challengerChallengeButton.Timer = challengerChallengeButton.MaxTimer;
                                    Challenger.currentTarget = null;
                                    return;
                                }
                                else if (!Challenger.challenger.Data.IsDead && Challenger.rivalPlayer != null && !Challenger.rivalPlayer.Data.IsDead && murder == MurderAttemptResult.PerformKill && MeetingHud.Instance == null && !TimeTraveler.isRewinding && !Monja.awakened && !Seeker.isMinigaming) {
                                    // Perform duel if no sabotage and player has no squire shield
                                    bool sabotageActive = false;
                                    if (Bomberman.activeBomb == true || Illusionist.lightsOutTimer > 0) {
                                        sabotageActive = true;
                                    }
                                    else {
                                        sabotageActive = Helpers.AnySabotageActive();

                                    }

                                    if (!sabotageActive) {
                                        // If the Demon bitten is the challenger or the rival player, murder him and cancel the duel
                                        if (Demon.demon != null && Demon.bitten != null && (Demon.bitten == Challenger.challenger || Demon.bitten == Challenger.rivalPlayer)) {
                                            Helpers.handleDemonBiteOnBodyReport();
                                        }
                                        else {
                                            // Activate the Demon bitten kill to spawn the body outside the duel arena
                                            if (Demon.demon != null && Demon.bitten != null) {
                                                Helpers.handleDemonBiteOnBodyReport();
                                            }
                                            MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ChallengerPerformDuel, Hazel.SendOption.Reliable, -1);
                                            AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                                            RPCProcedure.challengerPerformDuel();
                                        }
                                    }
                                }
                                else {
                                    // Notify players about clearing rivalplayer
                                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ChallengerSetRival, Hazel.SendOption.Reliable, -1);
                                    writer.Write(byte.MaxValue);
                                    writer.Write(byte.MaxValue);
                                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                                    RPCProcedure.challengerSetRival(byte.MaxValue, byte.MaxValue);
                                }
                            }
                        })));
                        challengerChallengeButton.HasEffect = true; // Trigger effect on this click

                    }
                    else {
                        challengerChallengeButton.HasEffect = false; // Block effect if no action was fired
                    }
                },
                () => {
                    int currentAlivePlayers = 0;
                    foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                        if (!player.Data.IsDead) {
                            currentAlivePlayers += 1;
                        }
                    }
                    return currentAlivePlayers > 2 && !Challenger.isDueling && !Seeker.isMinigaming && Challenger.challenger != null && Challenger.challenger == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    bool sabotageActive = false;
                    if (Bomberman.activeBomb == true || Illusionist.lightsOutTimer > 0) {
                        sabotageActive = true;
                    }
                    else {
                        sabotageActive = Helpers.AnySabotageActive();

                    }
                    return !sabotageActive && Challenger.currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove;
                },
                () => {
                    challengerChallengeButton.Timer = challengerChallengeButton.MaxTimer;
                    challengerChallengeButton.isEffectActive = false;
                    challengerChallengeButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                    Challenger.currentTarget = null;
                },
                Challenger.getChallengeButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                0f,
                () => {
                    challengerChallengeButton.Timer = challengerChallengeButton.MaxTimer;
                }
            );

            // Challenger kill button counter
            Challenger.challengerDuelButtonText = GameObject.Instantiate(challengerChallengeButton.actionButton.cooldownTimerText, challengerChallengeButton.actionButton.cooldownTimerText.transform.parent);
            Challenger.challengerDuelButtonText.enableWordWrapping = false;
            Challenger.challengerDuelButtonText.transform.localScale = Vector3.one * 0.5f;
            Challenger.challengerDuelButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Challenger Kill
            challengerKillButton = new CustomButton(
                () => {
                    MurderAttemptResult murder = Helpers.checkMurderAttempt(Challenger.challenger, Challenger.currentTarget);
                    if (murder == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        challengerKillButton.Timer = challengerKillButton.MaxTimer;
                        Challenger.currentTarget = null;
                        return;
                    }

                    if (Helpers.checkMurderAttemptAndKill(Challenger.challenger, Challenger.currentTarget) == MurderAttemptResult.SuppressKill) return;

                    challengerKillButton.Timer = challengerKillButton.MaxTimer;
                    Challenger.currentTarget = null;
                },
                () => {
                    int currentAlivePlayers = 0;
                    foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                        if (!player.Data.IsDead) {
                            currentAlivePlayers += 1;
                        }
                    }
                    return currentAlivePlayers <= 2 && Challenger.challenger != null && Challenger.challenger == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { return Challenger.currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { challengerKillButton.Timer = challengerKillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Challenger rock
            challengerRockButton = new CustomButton(
                () => {
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ChallengerSelectAttack, Hazel.SendOption.Reliable, -1);
                    writer.Write(1);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.challengerSelectAttack(1);
                },
                () => { return Challenger.challenger == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && Challenger.isDueling; },
                () => { return !Challenger.challengerRock && !Challenger.challengerPaper && !Challenger.challengerScissors && PlayerInCache.LocalPlayer.PlayerControl.CanMove && Challenger.isDueling && !Challenger.timeOutDuel; },
                () => { },
                Challenger.getRockButtonSprite(),
                new Vector3(0f, -0.06f, 0f),
                __instance,
                null,
                true
            );

            // Challenger paper
            challengerPaperButton = new CustomButton(
                () => {
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ChallengerSelectAttack, Hazel.SendOption.Reliable, -1);
                    writer.Write(2);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.challengerSelectAttack(2);
                },
                () => { return Challenger.challenger == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && Challenger.isDueling; },
                () => { return !Challenger.challengerRock && !Challenger.challengerPaper && !Challenger.challengerScissors && PlayerInCache.LocalPlayer.PlayerControl.CanMove && Challenger.isDueling && !Challenger.timeOutDuel; },
                () => { },
                Challenger.getPaperButtonSprite(),
                new Vector3(1f, -0.06f, 0f),
                __instance,
                null,
                true
            );

            // Challenger scissors
            challengerScissorsButton = new CustomButton(
                () => {
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ChallengerSelectAttack, Hazel.SendOption.Reliable, -1);
                    writer.Write(3);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.challengerSelectAttack(3);
                },
                () => { return Challenger.challenger == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && Challenger.isDueling; },
                () => { return !Challenger.challengerRock && !Challenger.challengerPaper && !Challenger.challengerScissors && PlayerInCache.LocalPlayer.PlayerControl.CanMove && Challenger.isDueling && !Challenger.timeOutDuel; },
                () => { },
                Challenger.getScissorsButtonSprite(),
                new Vector3(2f, -0.06f, 0f),
                __instance,
                null,
                true
            );

            // Rivalplayer rock
            rivalplayerRockButton = new CustomButton(
                () => {
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ChallengerSelectAttack, Hazel.SendOption.Reliable, -1);
                    writer.Write(4);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.challengerSelectAttack(4);
                },
                () => { return Challenger.rivalPlayer == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && Challenger.isDueling; },
                () => { return !Challenger.rivalRock && !Challenger.rivalPaper && !Challenger.rivalScissors && PlayerInCache.LocalPlayer.PlayerControl.CanMove && Challenger.isDueling && !Challenger.timeOutDuel; },
                () => { },
                Challenger.getRockButtonSprite(),
                new Vector3(0f, -0.06f, 0f),
                __instance,
                null,
                true
            );

            // Rivalplayer paper
            rivalplayerPaperButton = new CustomButton(
                () => {
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ChallengerSelectAttack, Hazel.SendOption.Reliable, -1);
                    writer.Write(5);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.challengerSelectAttack(5);
                },
                () => { return Challenger.rivalPlayer == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && Challenger.isDueling; },
                () => { return !Challenger.rivalRock && !Challenger.rivalPaper && !Challenger.rivalScissors && PlayerInCache.LocalPlayer.PlayerControl.CanMove && Challenger.isDueling && !Challenger.timeOutDuel; },
                () => { },
                Challenger.getPaperButtonSprite(),
                new Vector3(1f, -0.06f, 0f),
                __instance,
                null,
                true
            );

            // Rivalplayer scissors
            rivalplayerScissorsButton = new CustomButton(
                () => {
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ChallengerSelectAttack, Hazel.SendOption.Reliable, -1);
                    writer.Write(6);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.challengerSelectAttack(6);
                },
                () => { return Challenger.rivalPlayer == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && Challenger.isDueling; },
                () => { return !Challenger.rivalRock && !Challenger.rivalPaper && !Challenger.rivalScissors && PlayerInCache.LocalPlayer.PlayerControl.CanMove && Challenger.isDueling && !Challenger.timeOutDuel; },
                () => { },
                Challenger.getScissorsButtonSprite(),
                new Vector3(2f, -0.06f, 0f),
                __instance,
                null,
                true
            );

            // Ninja Kill
            ninjaKillButton = new CustomButton(
                () => {
                    MurderAttemptResult murderAttemptResult = Helpers.checkMurderAttempt(Ninja.ninja, Ninja.currentTarget);
                    if (murderAttemptResult == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        ninjaKillButton.Timer = ninjaKillButton.MaxTimer;
                        Ninja.currentTarget = null;
                        return;
                    }
                    else if (murderAttemptResult == MurderAttemptResult.SuppressKill) {
                        return;
                    }

                    if (murderAttemptResult == MurderAttemptResult.PerformKill) {

                        MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.UncheckedMurderPlayer, Hazel.SendOption.Reliable, -1);
                        killWriter.Write(Ninja.ninja.Data.PlayerId);
                        killWriter.Write(Ninja.currentTarget.PlayerId);
                        killWriter.Write(byte.MaxValue);
                        AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                        RPCProcedure.uncheckedMurderPlayer(Ninja.ninja.Data.PlayerId, Ninja.currentTarget.PlayerId, Byte.MaxValue);
                    }

                    Ninja.currentTarget = null;
                    ninjaKillButton.Timer = ninjaKillButton.MaxTimer;
                    ninjaMarkButton.Timer = ninjaMarkButton.MaxTimer;
                },
                () => { return Ninja.ninja != null && Ninja.ninja == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return Ninja.currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { ninjaKillButton.Timer = ninjaKillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Ninja mark
            ninjaMarkButton = new CustomButton(
                () => {
                    if (Ninja.markedTarget == null) {
                        // Apply mark
                        Ninja.markedTarget = Ninja.currentTarget;
                        ninjaMarkButton.Sprite = Ninja.getMarkedSprite();
                        ninjaMarkButton.Timer = 10f;
                        Ninja.targetNameButtonText.text = Ninja.markedTarget.name;
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.bountyExilerTarget, false, 100f);
                    }
                    else if (Ninja.markedTarget != null) {
                        MurderAttemptResult murderAttemptResult = Helpers.checkMurderAttempt(Ninja.ninja, Ninja.markedTarget);
                        if (murderAttemptResult == MurderAttemptResult.JinxKill) {
                            SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                            ninjaMarkButton.Timer = ninjaMarkButton.MaxTimer;
                            ninjaMarkButton.Sprite = Ninja.getMarkedSprite();
                            Ninja.markedTarget = null;
                            Ninja.currentTarget = null;
                            return;
                        }
                        else if (murderAttemptResult == MurderAttemptResult.SuppressKill) {
                            return;
                        }
                        else if (murderAttemptResult == MurderAttemptResult.PerformKill) {
                            byte targetId = 0;
                            targetId = Ninja.markedTarget.PlayerId;

                            Ninja.targetNameButtonText.text = "";

                            MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.NinjaKill, Hazel.SendOption.Reliable, -1);
                            killWriter.Write(targetId);
                            AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                            RPCProcedure.ninjaKill(targetId);
                        }

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.ninjaTime, false, 100f);
                        Ninja.markedTarget = null;
                        Ninja.currentTarget = null;
                        ninjaMarkButton.Sprite = Ninja.getMarkSprite();
                        ninjaMarkButton.Timer = ninjaMarkButton.MaxTimer;
                    }
                },
                () => { return Ninja.ninja != null && Ninja.ninja == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (Ninja.markedTarget == null) {
                        ninjaMarkButton.actionButton.graphic.sprite = Ninja.getMarkSprite();
                    }
                    else {
                        ninjaMarkButton.actionButton.graphic.sprite = Ninja.getMarkedSprite();
                    }
                    bool canUse = true;
                    if (Ninja.markedTarget != null && !Ninja.markedTarget.Data.IsDead && !Ninja.markedTarget.inVent) {
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5 && ((Ninja.ninja.transform.position.y > 0 && Ninja.markedTarget.transform.position.y < 0) || (Ninja.ninja.transform.position.y < 0 && Ninja.markedTarget.transform.position.y > 0))) {
                            canUse = false;
                        }
                        if (Vector2.Distance(Ninja.ninja.transform.position, Ninja.markedTarget.transform.position) < 5f && !Ninja.ninja.Data.IsDead) {
                            canUse = false;
                        }
                    }
                    return canUse && ((Ninja.markedTarget == null && Ninja.currentTarget != null) || (Ninja.markedTarget != null)) && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => {
                    ninjaMarkButton.Timer = ninjaMarkButton.MaxTimer;
                    ninjaMarkButton.Sprite = Ninja.getMarkSprite();
                    Ninja.markedTarget = null;
                    Ninja.currentTarget = null;
                    Ninja.targetNameButtonText.text = "";
                },
                Ninja.getMarkSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Ninja target text
            Ninja.targetNameButtonText = GameObject.Instantiate(ninjaMarkButton.actionButton.cooldownTimerText, ninjaMarkButton.actionButton.cooldownTimerText.transform.parent);
            Ninja.targetNameButtonText.enableWordWrapping = false;
            Ninja.targetNameButtonText.transform.localScale = Vector3.one * 0.5f;
            Ninja.targetNameButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Berserker Kill
            berserkerKillButton = new CustomButton(
                () => {
                    MurderAttemptResult murderAttemptResult = Helpers.checkMurderAttempt(Berserker.berserker, Berserker.currentTarget);
                    if (murderAttemptResult == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        if (Berserker.killedFirstTime) {
                            berserkerKillButton.Timer = 10f;
                        }
                        else {
                            berserkerKillButton.Timer = berserkerKillButton.MaxTimer;
                        }
                        Berserker.currentTarget = null;
                        return;
                    }
                    else if (murderAttemptResult == MurderAttemptResult.SuppressKill) {
                        return;
                    }

                    if (murderAttemptResult == MurderAttemptResult.PerformKill) {

                        byte targetId = 0;
                        targetId = Berserker.currentTarget.PlayerId;

                        MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BerserkerKill, Hazel.SendOption.Reliable, -1);
                        killWriter.Write(targetId);
                        AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                        RPCProcedure.berserkerKill(targetId);
                    }

                    Berserker.currentTarget = null;
                    if (Berserker.killedFirstTime) {
                        berserkerKillButton.Timer = 10f;
                    }
                    else {
                        berserkerKillButton.Timer = berserkerKillButton.MaxTimer;
                    }
                },
                () => { return Berserker.berserker != null && Berserker.berserker == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return Berserker.currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => {
                    if (Berserker.killedFirstTime) {
                        berserkerKillButton.Timer = 10f;
                    }
                    else {
                        berserkerKillButton.Timer = berserkerKillButton.MaxTimer;
                    }
                },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Berserker time count text
            Berserker.berserkerCountButtonText = GameObject.Instantiate(berserkerKillButton.actionButton.cooldownTimerText, berserkerKillButton.actionButton.cooldownTimerText.transform.parent);
            Berserker.berserkerCountButtonText.enableWordWrapping = false;
            Berserker.berserkerCountButtonText.transform.localScale = Vector3.one * 0.5f;
            Berserker.berserkerCountButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Yandere set target
            yandereStareButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        yandereStareButton.Timer = yandereStareButton.MaxTimer;
                        return;
                    }

                    if (Helpers.checkIfJinxed(Yandere.yandere)) {
                        Helpers.jinxedAction(Yandere.yandere);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        yandereStareButton.Timer = yandereStareButton.MaxTimer;
                        return;
                    }

                    if (Yandere.usedTarget) {
                        yandereStareButton.HasEffect = true;
                        Yandere.stalkTarget = Yandere.currentTarget;
                    }
                    else {
                        foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                            if (player != Kid.kid && player != Yandere.yandere) {
                                Yandere.possibleTargets.Add(player);
                            }
                        }

                        int yandereTarget = rnd.Next(0, Yandere.possibleTargets.Count);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.bountyExilerTarget, false, 100f);

                        PlayerControl finaltarget = Helpers.playerById(Yandere.possibleTargets[yandereTarget].PlayerId);

                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SetRandomTarget, Hazel.SendOption.Reliable, -1);
                        writer.Write(finaltarget.PlayerId);
                        writer.Write(2);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.setRandomTarget(finaltarget.PlayerId, 2);
                    }
                },
                () => { return Yandere.yandere != null && Yandere.yandere == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (yandereStareButton.isEffectActive && Yandere.stalkTarget != Yandere.currentTarget) {
                        Yandere.stalkTarget = null;
                        yandereStareButton.Timer = 0f;
                        yandereStareButton.isEffectActive = false;
                    }
                    if (Yandere.usedTarget) {
                        yandereStareButton.actionButton.graphic.sprite = Yandere.getStareSprite();
                    }
                    else {
                        yandereStareButton.actionButton.graphic.sprite = Yandere.getTargetSprite();
                    }
                    return (!Yandere.usedTarget || Yandere.currentTarget != null && Yandere.usedTarget && Yandere.currenStareTimes < Yandere.stareTimes) && !Yandere.rampageMode && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { yandereStareButton.Timer = yandereStareButton.MaxTimer; },
                Yandere.getTargetSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                Yandere.stareDuration,
                () => {
                    Yandere.currenStareTimes += 1;
                    Yandere.yandereTargetButtonText.text = Yandere.target.name + " " + Yandere.currenStareTimes + " / " + Yandere.stareTimes;
                    yandereStareButton.Timer = yandereStareButton.MaxTimer;
                    if (Yandere.currenStareTimes == Yandere.stareTimes) {
                        yandereKillButton.Timer = 10f;
                    }
                }
            );

            // Yandere target text
            Yandere.yandereTargetButtonText = GameObject.Instantiate(yandereStareButton.actionButton.cooldownTimerText, yandereStareButton.actionButton.cooldownTimerText.transform.parent);
            Yandere.yandereTargetButtonText.enableWordWrapping = false;
            Yandere.yandereTargetButtonText.transform.localScale = Vector3.one * 0.5f;
            Yandere.yandereTargetButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Yandere Kill
            yandereKillButton = new CustomButton(
                () => {
                    MurderAttemptResult murderAttemptResult = Helpers.checkMurderAttempt(Yandere.yandere, Yandere.currentTarget);
                    if (murderAttemptResult == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        yandereKillButton.Timer = yandereKillButton.MaxTimer;
                        Yandere.currentTarget = null;
                        return;
                    }
                    else if (murderAttemptResult == MurderAttemptResult.SuppressKill) {
                        return;
                    }

                    if (murderAttemptResult == MurderAttemptResult.PerformKill) {

                        byte targetId = 0;
                        targetId = Yandere.currentTarget.PlayerId;

                        MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.YandereKill, Hazel.SendOption.Reliable, -1);
                        killWriter.Write(targetId);
                        AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                        RPCProcedure.yandereKill(targetId);
                    }

                    Yandere.currentTarget = null;
                    yandereKillButton.Timer = yandereKillButton.MaxTimer - 10f;

                },
                () => { return Yandere.yandere != null && Yandere.yandere == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return (Yandere.rampageMode || Yandere.currenStareTimes == Yandere.stareTimes) && Yandere.currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { yandereKillButton.Timer = yandereKillButton.MaxTimer;
                },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Yandere kill text
            Yandere.yandereKillButtonText = GameObject.Instantiate(yandereKillButton.actionButton.cooldownTimerText, yandereKillButton.actionButton.cooldownTimerText.transform.parent);
            Yandere.yandereKillButtonText.enableWordWrapping = false;
            Yandere.yandereKillButtonText.transform.localScale = Vector3.one * 0.5f;
            Yandere.yandereKillButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Stranded find button
            strandedFindBoxButton = new CustomButton(
                () => {

                    strandedFindBoxButton.HasEffect = true;
                    Stranded.selectedBox = Stranded.currentBox;

                },
                () => { return Stranded.stranded != null && Stranded.stranded == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (strandedFindBoxButton.isEffectActive && Stranded.selectedBox != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, Stranded.selectedBox.transform.position) > 0.5f) {
                        Stranded.selectedBox = null;
                        strandedFindBoxButton.Timer = 0f;
                        strandedFindBoxButton.isEffectActive = false;
                    }

                    bool CanUse = false;
                    if (Stranded.groundItems.Count != 0) {
                        foreach (GameObject groundItem in Stranded.groundItems) {
                            if (groundItem != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, groundItem.transform.position) < 0.5f) {
                                Stranded.currentBox = groundItem;
                                CanUse = true;
                                switch (groundItem.name) {
                                    case "ammoBox":
                                        Stranded.foundBox = 1;
                                        break;
                                    case "ventBox":
                                        Stranded.foundBox = 2;
                                        break;
                                    case "invisibleBox":
                                        Stranded.foundBox = 3;
                                        break;
                                    case "nothingBox":
                                        Stranded.foundBox = 4;
                                        break;
                                    case "nothingBoxOpened":
                                        CanUse = false;
                                        break;
                                }
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => { strandedFindBoxButton.Timer = strandedFindBoxButton.MaxTimer; },
                Stranded.getSurvivorTakeBoxButtonSprite(),
                CustomButton.ButtonPositions.upperRowLeft,
                __instance,
                KeyCode.F,
                false,
                3f,
                () => {
                    if (!Stranded.stranded.Data.IsDead) {
                        MessageWriter findBox = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.StrandedFindBoxes, Hazel.SendOption.Reliable, -1);
                        switch (Stranded.foundBox) {
                            case 1: // Ammo recover
                                findBox.Write(1);
                                AmongUsClient.Instance.FinishRpcImmediately(findBox);
                                RPCProcedure.strandedFindBoxes(1);
                                SoundManager.Instance.PlaySound(CustomMain.customAssets.rechargeAmmoClip, false, 100f);
                                Stranded.selectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.ammoBox.GetComponent<SpriteRenderer>().sprite;
                                break;
                            case 2: // Vent ability
                                findBox.Write(2);
                                AmongUsClient.Instance.FinishRpcImmediately(findBox);
                                RPCProcedure.strandedFindBoxes(2);
                                SoundManager.Instance.PlaySound(Helpers.GetIntroSound(RoleTypes.Engineer), false, 100f);
                                Stranded.selectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.strandedVentBox.GetComponent<SpriteRenderer>().sprite;
                                break;
                            case 3: // Invisible for a while
                                findBox.Write(3);
                                AmongUsClient.Instance.FinishRpcImmediately(findBox);
                                RPCProcedure.strandedFindBoxes(3);
                                SoundManager.Instance.PlaySound(CustomMain.customAssets.chameleonInvisible, false, 100f);
                                Stranded.selectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.strandedInviBox.GetComponent<SpriteRenderer>().sprite;
                                break;
                            case 4: // Nothing box
                                Stranded.selectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.emptyBox.GetComponent<SpriteRenderer>().sprite;
                                break;
                        }
                    }
                    Stranded.selectedBox.name = "nothingBoxOpened";
                    strandedFindBoxButton.Timer = strandedFindBoxButton.MaxTimer;
                }
            );

            // Stranded kill button counter
            Stranded.strandedSearchButtonText = GameObject.Instantiate(strandedFindBoxButton.actionButton.cooldownTimerText, strandedFindBoxButton.actionButton.cooldownTimerText.transform.parent);
            Stranded.strandedSearchButtonText.enableWordWrapping = false;
            Stranded.strandedSearchButtonText.transform.localScale = Vector3.one * 0.5f;
            Stranded.strandedSearchButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Stranded Kill
            strandedKillButton = new CustomButton(
                () => {
                    MurderAttemptResult murderAttemptResult = Helpers.checkMurderAttempt(Stranded.stranded, Stranded.currentTarget);
                    if (murderAttemptResult == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        strandedKillButton.Timer = strandedKillButton.MaxTimer;
                        Stranded.currentTarget = null;
                        return;
                    }
                    else if (murderAttemptResult == MurderAttemptResult.SuppressKill) {
                        return;
                    }

                    if (murderAttemptResult == MurderAttemptResult.PerformKill) {

                        byte targetId = 0;
                        targetId = Stranded.currentTarget.PlayerId;

                        MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.StrandedKill, Hazel.SendOption.Reliable, -1);
                        killWriter.Write(targetId);
                        AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                        RPCProcedure.strandedKill(targetId);
                    }

                    Stranded.currentTarget = null;
                    strandedKillButton.Timer = strandedKillButton.MaxTimer;

                },
                () => { return Stranded.stranded != null && Stranded.stranded == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    int currentAlivePlayers = 0;
                    foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                        if (!player.Data.IsDead) {
                            currentAlivePlayers += 1;
                        }
                    }
                    return Stranded.currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && (Stranded.storedAmmo > 0 || currentAlivePlayers <= 2) && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { strandedKillButton.Timer = strandedKillButton.MaxTimer;
                },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Stranded kill button counter
            Stranded.strandedKillButtonText = GameObject.Instantiate(strandedKillButton.actionButton.cooldownTimerText, strandedKillButton.actionButton.cooldownTimerText.transform.parent);
            Stranded.strandedKillButtonText.enableWordWrapping = false;
            Stranded.strandedKillButtonText.transform.localScale = Vector3.one * 0.5f;
            Stranded.strandedKillButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Stranded invisible
            strandedInvisibleButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        strandedInvisibleButton.EffectDuration = 0f;
                        strandedInvisibleButton.Timer = strandedInvisibleButton.MaxTimer;
                        return;
                    }

                    if (Helpers.checkIfJinxed(Stranded.stranded)) {
                        Helpers.jinxedAction(Stranded.stranded);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        strandedInvisibleButton.EffectDuration = 0f;
                        strandedInvisibleButton.Timer = strandedInvisibleButton.MaxTimer;
                        return;
                    }

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.chameleonInvisible, false, 100f);

                    strandedInvisibleButton.EffectDuration = 60f;
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.StrandedInvisible, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.strandedInvisible();
                },
                () => { return Stranded.stranded != null && Stranded.stranded == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && Stranded.canTurnInvisible && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => {
                    strandedInvisibleButton.Timer = strandedInvisibleButton.MaxTimer;
                    strandedInvisibleButton.isEffectActive = false;
                    strandedInvisibleButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                },
                Stranded.getInvisibleButtonSprite(),
                CustomButton.ButtonPositions.upperRowCenter,
                __instance,
                KeyCode.T,
                true,
                0f,
                () => {
                    strandedInvisibleButton.Timer = strandedInvisibleButton.MaxTimer;
                }
            );

            // Monja Take/Deliver Item Button
            monjaFindDeliverButton = new CustomButton(
                () => {
                    if (Monja.canAwake) {
                        MessageWriter awakened = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaAwakened, Hazel.SendOption.Reliable, -1);
                        AmongUsClient.Instance.FinishRpcImmediately(awakened);
                        RPCProcedure.monjaAwakened();
                        monjaFindDeliverButton.HasEffect = true;
                    }
                    else {
                        if (Monja.isDeliveringItem) {
                            byte itemId = Monja.itemId;
                            MessageWriter monjaDeliver = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaDeliverItem, Hazel.SendOption.Reliable, -1);
                            monjaDeliver.Write(itemId);
                            AmongUsClient.Instance.FinishRpcImmediately(monjaDeliver);
                            RPCProcedure.monjaDeliverItem(itemId);
                            SoundManager.Instance.PlaySound(CustomMain.customAssets.bountyExilerTarget, false, 100f);
                        }
                        else {
                            byte itemId = Monja.itemId;
                            MessageWriter monjaTake = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaTakeItem, Hazel.SendOption.Reliable, -1);
                            monjaTake.Write(itemId);
                            AmongUsClient.Instance.FinishRpcImmediately(monjaTake);
                            RPCProcedure.monjaTakeItem(itemId);
                        }
                    }
                    monjaFindDeliverButton.Timer = monjaFindDeliverButton.MaxTimer;
                },
                () => { return Monja.monja != null && Monja.monja == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    bool CanUse = false;
                    bool sabotageActive = false;
                    if (Monja.canAwake) {
                        monjaFindDeliverButton.actionButton.graphic.sprite = Monja.getAwakeButtonSprite();
                        if (Bomberman.activeBomb == true || Illusionist.lightsOutTimer > 0) {
                            sabotageActive = true;
                        }
                        else {
                            sabotageActive = Helpers.AnySabotageActive();
                        }
                        if (Monja.ritualObject != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, Monja.ritualObject.transform.position) < 0.5f) {
                            CanUse = true;
                        }
                    }
                    else if (Monja.awakened) {
                        monjaFindDeliverButton.actionButton.graphic.sprite = Monja.getAwakeButtonSprite();
                    }
                    else {
                        if (Monja.isDeliveringItem)
                            monjaFindDeliverButton.actionButton.graphic.sprite = Monja.getDeliverButtonSprite();
                        else
                            monjaFindDeliverButton.actionButton.graphic.sprite = Monja.getPickButtonSprite();
                        if (Monja.objectList.Count != 0) {
                            foreach (GameObject monjaItem in Monja.objectList) {
                                if (monjaItem != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, monjaItem.transform.position) < 0.5f && !Monja.isDeliveringItem) {
                                    switch (monjaItem.name) {
                                        case "item01":
                                            Monja.itemId = 1;
                                            CanUse = true;
                                            break;
                                        case "item02":
                                            Monja.itemId = 2;
                                            CanUse = true;
                                            break;
                                        case "item03":
                                            Monja.itemId = 3;
                                            CanUse = true;
                                            break;
                                        case "item04":
                                            Monja.itemId = 4;
                                            CanUse = true;
                                            break;
                                        case "item05":
                                            Monja.itemId = 5;
                                            CanUse = true;
                                            break;
                                        case "deliveredItem":
                                            CanUse = false;
                                            break;
                                    }
                                }
                                else if (Monja.ritualObject != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, Monja.ritualObject.transform.position) < 0.5f && Monja.isDeliveringItem) {
                                    CanUse = true;
                                }
                            }

                        }
                    }
                    return CanUse && !sabotageActive && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { monjaFindDeliverButton.Timer = monjaFindDeliverButton.MaxTimer; },
                Monja.getAwakeButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                60f,
                () => {
                    if (!Monja.monja.Data.IsDead) {
                        byte targetId = 0;
                        targetId = Monja.monja.PlayerId;

                        MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaKill, Hazel.SendOption.Reliable, -1);
                        killWriter.Write(targetId);
                        AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                        RPCProcedure.monjaKill(targetId);
                    }
                    monjaFindDeliverButton.Timer = monjaFindDeliverButton.MaxTimer;
                }
            );

            // Monja object count
            Monja.objectCountButtonText = GameObject.Instantiate(monjaFindDeliverButton.actionButton.cooldownTimerText, monjaFindDeliverButton.actionButton.cooldownTimerText.transform.parent);
            Monja.objectCountButtonText.enableWordWrapping = false;
            Monja.objectCountButtonText.transform.localScale = Vector3.one * 0.5f;
            Monja.objectCountButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Monja Kill
            monjaKillButton = new CustomButton(
                () => {
                    if (Monja.currentTarget != null) {

                        byte targetId = 0;
                        targetId = Monja.currentTarget.PlayerId;

                        MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaKill, Hazel.SendOption.Reliable, -1);
                        killWriter.Write(targetId);
                        AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                        RPCProcedure.monjaKill(targetId);
                    }

                    Monja.currentTarget = null;
                    monjaKillButton.Timer = 0.1f;
                },
                () => { return Monja.monja != null && Monja.monja == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return Monja.currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && (Monja.awakened || alivePlayers <= 2) && !Seeker.isMinigaming; },
                () => { monjaKillButton.Timer = monjaKillButton.MaxTimer;
                },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Monja kill timer upon awaken
            Monja.killTimerButtonText = GameObject.Instantiate(monjaKillButton.actionButton.cooldownTimerText, monjaKillButton.actionButton.cooldownTimerText.transform.parent);
            Monja.killTimerButtonText.enableWordWrapping = false;
            Monja.killTimerButtonText.transform.localScale = Vector3.one * 0.5f;
            Monja.killTimerButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);


            // Neutral buttons code

            // RoleThief steal
            roleThiefStealButton = new CustomButton(
                () => {
                    MurderAttemptResult murder = Helpers.checkMurderAttempt(RoleThief.rolethief, RoleThief.currentTarget);
                    if (murder == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        roleThiefStealButton.Timer = roleThiefStealButton.MaxTimer;
                        RoleThief.currentTarget = null;
                        return;
                    }

                    roleThiefStealButton.Timer = roleThiefStealButton.MaxTimer;

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.RoleThiefSteal, Hazel.SendOption.Reliable, -1);
                    writer.Write(RoleThief.currentTarget.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);

                    RPCProcedure.roleThiefSteal(RoleThief.currentTarget.PlayerId);
                },
                () => { return RoleThief.rolethief != null && RoleThief.rolethief == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return RoleThief.currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { roleThiefStealButton.Timer = roleThiefStealButton.MaxTimer; },
                RoleThief.getButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Pyromaniac douse ignite
            pyromaniacButton = new CustomButton(
                () => {
                    bool dousedEveryoneAlive = Pyromaniac.sprayedEveryoneAlive();
                    if (dousedEveryoneAlive) {
                        MessageWriter winWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PyromaniacWin, Hazel.SendOption.Reliable, -1);
                        AmongUsClient.Instance.FinishRpcImmediately(winWriter);
                        RPCProcedure.pyromaniacWin();
                        pyromaniacButton.HasEffect = false;
                    }
                    else if (Pyromaniac.currentTarget != null) {
                        Pyromaniac.sprayTarget = Pyromaniac.currentTarget;
                        pyromaniacButton.HasEffect = true;
                    }
                },
                () => { return Pyromaniac.pyromaniac != null && Pyromaniac.pyromaniac == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    bool dousedEveryoneAlive = Pyromaniac.sprayedEveryoneAlive();
                    if (dousedEveryoneAlive) pyromaniacButton.actionButton.graphic.sprite = Pyromaniac.getIgniteSprite();

                    if (pyromaniacButton.isEffectActive && Pyromaniac.sprayTarget != Pyromaniac.currentTarget) {
                        Pyromaniac.sprayTarget = null;
                        pyromaniacButton.Timer = 0f;
                        pyromaniacButton.isEffectActive = false;
                    }

                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming && (dousedEveryoneAlive || Pyromaniac.currentTarget != null);
                },
                () => {
                    pyromaniacButton.Timer = pyromaniacButton.MaxTimer;
                    pyromaniacButton.isEffectActive = false;
                    pyromaniacButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                    Pyromaniac.sprayTarget = null;
                },
                Pyromaniac.getSpraySprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                true,
                Pyromaniac.duration,
                () => {
                    MurderAttemptResult murder = Helpers.checkMurderAttempt(Pyromaniac.pyromaniac, Pyromaniac.sprayTarget);
                    if (murder == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        pyromaniacButton.Timer = pyromaniacButton.MaxTimer;
                        Pyromaniac.sprayTarget = null;
                        return;
                    }

                    if (Pyromaniac.sprayTarget != null) Pyromaniac.sprayedPlayers.Add(Pyromaniac.sprayTarget);
                    Pyromaniac.sprayTarget = null;
                    pyromaniacButton.Timer = Pyromaniac.sprayedEveryoneAlive() ? 0 : pyromaniacButton.MaxTimer;

                    foreach (PlayerControl p in Pyromaniac.sprayedPlayers) {
                        if (MapOptions.playerIcons.ContainsKey(p.PlayerId)) {
                            MapOptions.playerIcons[p.PlayerId].setSemiTransparent(false);
                        }
                    }

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.pyromaniacIgniteClip, false, 100f);

                }
            );

            // Treasure Hunter spawn random treasure
            treasureHunterButton = new CustomButton(
                () => {

                    if (Helpers.checkIfJinxed(TreasureHunter.treasureHunter)) {
                        Helpers.jinxedAction(TreasureHunter.treasureHunter);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        treasureHunterButton.Timer = treasureHunterButton.MaxTimer;
                        return;
                    }

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.treasureHunterPlaceTreasure, false, 100f);
                    switch (GameOptionsManager.Instance.currentGameOptions.MapId) {
                        case 0:
                            int skeldNumber = rnd.Next(1, 15);
                            TreasureHunter.randomSpawn = skeldNumber;
                            break;
                        case 1:
                            int miraHQNumber = rnd.Next(1, 13);
                            TreasureHunter.randomSpawn = miraHQNumber;
                            break;
                        case 2:
                            int polusNumber = rnd.Next(1, 21);
                            TreasureHunter.randomSpawn = polusNumber;
                            break;
                        case 3:
                            int dleksNumber = rnd.Next(1, 15);
                            TreasureHunter.randomSpawn = dleksNumber;
                            break;
                        case 4:
                            int airshipNumber = rnd.Next(1, 27);
                            TreasureHunter.randomSpawn = airshipNumber;
                            break;
                        case 5:
                            int submergedNumber = rnd.Next(1, 23);
                            TreasureHunter.randomSpawn = submergedNumber;
                            break;
                    }
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PlaceTreasure, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.placeTreasure();
                },
                () => { return TreasureHunter.treasureHunter != null && TreasureHunter.treasureHunter == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && TreasureHunter.canPlace == true && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => {
                    treasureHunterButton.Timer = treasureHunterButton.MaxTimer;
                },
                TreasureHunter.getButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                0f,
                () => { treasureHunterButton.Timer = treasureHunterButton.MaxTimer; }
            );

            // Treasure Hunter counter
            TreasureHunter.treasureCounterButtonText = GameObject.Instantiate(treasureHunterButton.actionButton.cooldownTimerText, treasureHunterButton.actionButton.cooldownTimerText.transform.parent);
            TreasureHunter.treasureCounterButtonText.enableWordWrapping = false;
            TreasureHunter.treasureCounterButtonText.transform.localScale = Vector3.one * 0.5f;
            TreasureHunter.treasureCounterButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Devourer devour
            devourerButton = new CustomButton(
                () => {
                    if (Helpers.checkIfJinxed(Devourer.devourer)) {
                        Helpers.jinxedAction(Devourer.devourer);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        devourerButton.Timer = devourerButton.MaxTimer;
                        return;
                    }

                    foreach (Collider2D collider2D in Physics2D.OverlapCircleAll(PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition(), 1f, Constants.PlayersOnlyMask)) {
                        if (collider2D.tag == "DeadBody") {
                            DeadBody component = collider2D.GetComponent<DeadBody>();
                            if (component && !component.Reported) {
                                Vector2 truePosition = PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition();
                                Vector2 truePosition2 = component.TruePosition;
                                if (Vector2.Distance(truePosition2, truePosition) <= PlayerInCache.LocalPlayer.PlayerControl.MaxReportDistance && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PhysicsHelpers.AnythingBetween(truePosition, truePosition2, Constants.ShipAndObjectsMask, false)) {
                                    GameData.PlayerInfo playerInfo = GameData.Instance.GetPlayerById(component.ParentId);

                                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.DevourBody, Hazel.SendOption.Reliable, -1);
                                    writer.Write(playerInfo.PlayerId);
                                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                                    RPCProcedure.devourBody(playerInfo.PlayerId);

                                    devourerButton.Timer = devourerButton.MaxTimer;
                                    break;
                                }
                            }
                        }
                    }
                },
                () => { return Devourer.devourer != null && Devourer.devourer == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    bool canEat = false;
                    foreach (Collider2D collider2D in Physics2D.OverlapCircleAll(PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition(), 1f, Constants.PlayersOnlyMask))
                        if (collider2D.tag == "DeadBody")
                            canEat = true;
                    return canEat && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => { devourerButton.Timer = devourerButton.MaxTimer; },
                Devourer.getButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Devourer bodies counter
            Devourer.devourCounterButtonText = GameObject.Instantiate(devourerButton.actionButton.cooldownTimerText, devourerButton.actionButton.cooldownTimerText.transform.parent);
            Devourer.devourCounterButtonText.enableWordWrapping = false;
            Devourer.devourCounterButtonText.transform.localScale = Vector3.one * 0.5f;
            Devourer.devourCounterButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Devourer eat button
            devourerEatButton = new CustomButton(
                () => {
                    if (Devourer.currentTarget != null) {
                        if (Helpers.checkIfJinxed(Devourer.devourer)) {
                            Helpers.jinxedAction(Devourer.devourer);

                            SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                            Devourer.currentTarget = null;
                            devourerEatButton.Timer = devourerEatButton.MaxTimer;
                            return;
                        }

                        MurderAttemptResult murderAttemptResult = Helpers.checkMurderAttempt(Devourer.devourer, Devourer.currentTarget);
                        if (murderAttemptResult == MurderAttemptResult.PerformKill) {
                            SoundManager.Instance.PlaySound(CustomMain.customAssets.devourerDevourClip, false, 100f);
                            MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.DevourPlayer, Hazel.SendOption.Reliable, -1);
                            writer.Write(Devourer.currentTarget.PlayerId);
                            AmongUsClient.Instance.FinishRpcImmediately(writer);
                            RPCProcedure.devourPlayer(Devourer.currentTarget.PlayerId);
                        }
                    }
                    Devourer.currentTarget = null;
                    devourerEatButton.Timer = devourerEatButton.MaxTimer;
                },
                () => { return Devourer.devourer != null && Devourer.devourer == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && Devourer.currentTarget != null && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => {
                    Devourer.currentTarget = null;
                    devourerEatButton.Timer = devourerEatButton.MaxTimer;
                },
                Devourer.getEatButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T
            );

            // Devourer bodies counter
            Devourer.devourEatCounterButtonText = GameObject.Instantiate(devourerEatButton.actionButton.cooldownTimerText, devourerEatButton.actionButton.cooldownTimerText.transform.parent);
            Devourer.devourEatCounterButtonText.enableWordWrapping = false;
            Devourer.devourEatCounterButtonText.transform.localScale = Vector3.one * 0.5f;
            Devourer.devourEatCounterButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Poisoner poison
            poisonerButton = new CustomButton(
                () => {
                    bool dousedEveryoneAlive = Poisoner.poisonedEveryoneAlive();
                    if (dousedEveryoneAlive) {
                        MessageWriter winWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoisonerWin, Hazel.SendOption.Reliable, -1);
                        AmongUsClient.Instance.FinishRpcImmediately(winWriter);
                        RPCProcedure.poisonerWin();
                        poisonerButton.HasEffect = false;
                    }
                    else if (Poisoner.currentTarget != null) {
                        Poisoner.poisonTarget = Poisoner.currentTarget;
                        poisonerButton.HasEffect = true;
                    }
                },
                () => { return Poisoner.poisoner != null && Poisoner.poisoner == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    // current % shown on player icons
                    foreach (KeyValuePair<byte, PoolablePlayer> player in MapOptions.playerIcons) {
                        if (Poisoner.infectProgress.ContainsKey(player.Key)) {
                            if (Poisoner.infectProgress[player.Key] < 1) {
                                player.Value.cosmetics.nameText.text = String.Format("{0:F0}%", Poisoner.infectProgress[player.Key] * 100f);
                            }
                            else {
                                player.Value.cosmetics.nameText.text = "100%";
                            }
                        }
                        else {
                            player.Value.cosmetics.nameText.text = "0%";
                        }
                        player.Value.cosmetics.nameText.color = Color.white;
                        player.Value.cosmetics.nameText.fontSize = 5;
                    }

                    // Detect infected player distance to others and increase infect progress
                    bool infectProceedFlag = false;
                    foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                        if (!player.Data.IsDead && player != PlayerInCache.LocalPlayer.PlayerControl) {

                            infectProceedFlag = false;

                            foreach (PlayerControl poisoned in Poisoner.poisonedPlayers) {
                                if (poisoned == player) {
                                    break;
                                }
                                if (MeetingHud.Instance == null && poisoned != null && !poisoned.Data.IsDead && Vector2.Distance(poisoned.transform.position, player.transform.position) < (1f * Poisoner.infectRange) && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming) {
                                    infectProceedFlag = true;
                                }
                            }

                            if (MeetingHud.Instance == null && Poisoner.poisonedTarget != null && !Poisoner.poisonedTarget.Data.IsDead && Vector2.Distance(Poisoner.poisonedTarget.transform.position, player.transform.position) < (1f * Poisoner.infectRange) && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming) {
                                infectProceedFlag = true;
                            }

                            if (infectProceedFlag) {
                                if (!Poisoner.infectProgress.ContainsKey(player.PlayerId)) {
                                    Poisoner.infectProgress.Add(player.PlayerId, 0);
                                }
                                Poisoner.infectProgress[player.PlayerId] += (Time.deltaTime / Poisoner.infectDuration);

                                Poisoner.infectProgress[Poisoner.poisonedTarget.PlayerId] = 1;

                                if (Poisoner.infectProgress[player.PlayerId] > 1) {
                                    Poisoner.poisonedPlayers.Add(player);
                                    if (MapOptions.playerIcons.ContainsKey(player.PlayerId)) {
                                        MapOptions.playerIcons[player.PlayerId].setSemiTransparent(false);
                                    }
                                }
                            }
                        }
                    }

                    bool poisonedEveryoneAlive = Poisoner.poisonedEveryoneAlive();
                    if (poisonedEveryoneAlive) poisonerButton.actionButton.graphic.sprite = Poisoner.getPlagueSprite();

                    if (poisonerButton.isEffectActive && Poisoner.poisonTarget != Poisoner.currentTarget) {
                        Poisoner.poisonTarget = null;
                        poisonerButton.Timer = 0f;
                        poisonerButton.isEffectActive = false;
                    }

                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming && (poisonedEveryoneAlive || Poisoner.currentTarget != null && Poisoner.poisonedTarget == null);
                },
                () => {
                    if (Poisoner.poisonedTarget == null || (Poisoner.poisonedTarget != null && Poisoner.poisonedTarget.Data.IsDead)) {
                        Poisoner.poisonedTarget = null;
                    }
                    poisonerButton.Timer = poisonerButton.MaxTimer;
                    poisonerButton.isEffectActive = false;
                    poisonerButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                    Poisoner.poisonTarget = null;
                },
                Poisoner.getPoisonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.F,
                true,
                Poisoner.duration,
                () => {
                    MurderAttemptResult murder = Helpers.checkMurderAttempt(Poisoner.poisoner, Poisoner.poisonTarget);
                    if (murder == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        poisonerButton.Timer = poisonerButton.MaxTimer;
                        Poisoner.poisonTarget = null;
                        return;
                    }

                    if (Poisoner.poisonTarget != null) Poisoner.poisonedPlayers.Add(Poisoner.poisonTarget);
                    Poisoner.poisonedTarget = Poisoner.poisonTarget;
                    Poisoner.poisonTarget = null;
                    poisonerButton.Timer = Poisoner.poisonedEveryoneAlive() ? 0 : poisonerButton.MaxTimer;

                    foreach (PlayerControl p in Poisoner.poisonedPlayers) {
                        if (MapOptions.playerIcons.ContainsKey(p.PlayerId)) {
                            MapOptions.playerIcons[p.PlayerId].setSemiTransparent(false);
                        }
                    }

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.poisonerPoisonClip, false, 100f);

                }
            );

            // Puppeteer Sample
            puppeteerSampleButton = new CustomButton(
                () => {
                    if (Puppeteer.currentTarget != null) {
                        if (Helpers.checkIfJinxed(Puppeteer.puppeteer)) {
                            Helpers.jinxedAction(Puppeteer.puppeteer);

                            SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                            Puppeteer.currentTarget = null;
                            puppeteerSampleButton.Timer = puppeteerSampleButton.MaxTimer;
                            return;
                        }

                        Puppeteer.pickTarget = Puppeteer.currentTarget;
                        puppeteerSampleButton.Timer = puppeteerSampleButton.MaxTimer;
                    }
                },
                () => { return Puppeteer.puppeteer != null && Puppeteer.puppeteer == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return Puppeteer.currentTarget && !Puppeteer.pickTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Puppeteer.morphed && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => {
                    puppeteerSampleButton.Timer = puppeteerSampleButton.MaxTimer;
                    Puppeteer.currentTarget = null;
                    Puppeteer.pickTarget = null;
                },
                Puppeteer.getpickTargetSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false
            );

            // Puppeteer transform
            puppeteerTransformButton = new CustomButton(
                () => {
                    if (Puppeteer.pickTarget != null) {
                        if (Helpers.checkIfJinxed(Puppeteer.puppeteer)) {
                            Helpers.jinxedAction(Puppeteer.puppeteer);

                            SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                            Puppeteer.pickTarget = null;
                            puppeteerTransformButton.Timer = puppeteerTransformButton.MaxTimer;
                            return;
                        }

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.mimicPuppeteerTransform, false, 100f);
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PuppeteerTransform, Hazel.SendOption.Reliable, -1);
                        writer.Write(Puppeteer.pickTarget.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.puppeteerTransform(Puppeteer.pickTarget.PlayerId);
                        Puppeteer.pickTarget = null;
                        puppeteerTransformButton.Timer = puppeteerTransformButton.MaxTimer;
                    }
                    else if (Puppeteer.morphed) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PuppeteerResetTransform, Hazel.SendOption.Reliable, -1);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.puppeteerResetTransform();
                        puppeteerTransformButton.Timer = puppeteerTransformButton.MaxTimer;
                    }
                },
                () => { return Puppeteer.puppeteer != null && Puppeteer.puppeteer == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { 
                    if (Puppeteer.morphed) {
                        puppeteerTransformButton.actionButton.graphic.sprite = Puppeteer.getUncoverSprite();
                    } else {
                        puppeteerTransformButton.actionButton.graphic.sprite = Puppeteer.getTransformSprite();
                    }
                    return (Puppeteer.pickTarget || Puppeteer.morphed) && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => {
                    puppeteerTransformButton.Timer = puppeteerTransformButton.MaxTimer;
                },
                Puppeteer.getTransformSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T,
                false
            );
            // Puppeteer button spawn counter
            Puppeteer.puppeteerText = GameObject.Instantiate(puppeteerTransformButton.actionButton.cooldownTimerText, puppeteerTransformButton.actionButton.cooldownTimerText.transform.parent);
            Puppeteer.puppeteerText.enableWordWrapping = false;
            Puppeteer.puppeteerText.transform.localScale = Vector3.one * 0.5f;
            Puppeteer.puppeteerText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Exiler set target
            exilerSetTargetButton = new CustomButton(
                () => {
                    if (Helpers.checkIfJinxed(Exiler.exiler)) {
                        Helpers.jinxedAction(Exiler.exiler);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        exilerSetTargetButton.Timer = exilerSetTargetButton.MaxTimer;
                        return;
                    }

                    foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                        if (player != Kid.kid && player != Exiler.exiler) {
                            Exiler.possibleTargets.Add(player);
                        }
                    }

                    int exilerTarget = rnd.Next(0, Exiler.possibleTargets.Count);

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.bountyExilerTarget, false, 100f);

                    PlayerControl finaltarget = Helpers.playerById(Exiler.possibleTargets[exilerTarget].PlayerId);

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SetRandomTarget, Hazel.SendOption.Reliable, -1);
                    writer.Write(finaltarget.PlayerId);
                    writer.Write(1);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.setRandomTarget(finaltarget.PlayerId, 1);
                },
                () => { return Exiler.exiler != null && Exiler.exiler == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return !Exiler.usedTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { exilerSetTargetButton.Timer = exilerSetTargetButton.MaxTimer; },
                Exiler.getTargetButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                0f,
                () => {
                    exilerSetTargetButton.Timer = exilerSetTargetButton.MaxTimer;
                }
            );

            // Exiler target text
            Exiler.targetNameButtonText = GameObject.Instantiate(exilerSetTargetButton.actionButton.cooldownTimerText, exilerSetTargetButton.actionButton.cooldownTimerText.transform.parent);
            Exiler.targetNameButtonText.enableWordWrapping = false;
            Exiler.targetNameButtonText.transform.localScale = Vector3.one * 0.5f;
            Exiler.targetNameButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Amnesiac
            amnesiacReportAndTakeRoleButton = new CustomButton(
                () => {                    
                    foreach (Collider2D collider2D in Physics2D.OverlapCircleAll(PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition(), 1f, Constants.PlayersOnlyMask)) {
                        if (collider2D.tag == "DeadBody") {
                            DeadBody component = collider2D.GetComponent<DeadBody>();
                            if (component && !component.Reported) {
                                Vector2 truePosition = PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition();
                                Vector2 truePosition2 = component.TruePosition;
                                if (Vector2.Distance(truePosition2, truePosition) <= PlayerInCache.LocalPlayer.PlayerControl.MaxReportDistance && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PhysicsHelpers.AnythingBetween(truePosition, truePosition2, Constants.ShipAndObjectsMask, false)) {
                                    GameData.PlayerInfo playerInfo = GameData.Instance.GetPlayerById(component.ParentId);

                                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.AmnesiacReportAndTakeRole, Hazel.SendOption.Reliable, -1);
                                    writer.Write(playerInfo.PlayerId);
                                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                                    RPCProcedure.amnesiacReportAndTakeRole(playerInfo.PlayerId);

                                    SoundManager.Instance.PlaySound(CustomMain.customAssets.mimicPuppeteerTransform, false, 100f);
                                    break;
                                }
                            }
                        }
                    }
                },
                () => { return Amnesiac.amnesiac != null && Amnesiac.amnesiac == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    bool canRemember = false;
                    foreach (Collider2D collider2D in Physics2D.OverlapCircleAll(PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition(), 1f, Constants.PlayersOnlyMask))
                        if (collider2D.tag == "DeadBody")
                            canRemember = true;
                    return canRemember && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => { amnesiacReportAndTakeRoleButton.Timer = amnesiacReportAndTakeRoleButton.MaxTimer; },
                Amnesiac.getButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            //Seeker minigame button
            seekerMinigameButton = new CustomButton(
                () => {
                    MurderAttemptResult murder = Helpers.checkMurderAttempt(Seeker.seeker, Seeker.currentTarget);
                    if (murder == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);

                        seekerMinigameButton.Timer = seekerMinigameButton.MaxTimer;
                        Seeker.currentTarget = null;
                        return;
                    }
                  
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.chameleonInvisible, false, 100f);
                    // Notify players about a new minigame player
                    if (Seeker.currentTarget != null) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SeekerSetMinigamePlayers, Hazel.SendOption.Reliable, -1);
                        writer.Write(Seeker.currentTarget.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.seekerSetMinigamePlayers(Seeker.currentTarget.PlayerId);
                    }

                    seekerMinigameButton.Timer = seekerMinigameButton.MaxTimer;
                },
                () => { return !Seeker.isMinigaming && Seeker.seeker != null && Seeker.seeker == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    bool canUse = true;
                    if (Seeker.currentTarget != null && Seeker.hidedPlayerOne != null && Seeker.currentTarget == Seeker.hidedPlayerOne) {
                        canUse = false;
                    }
                    else if (Seeker.currentTarget != null && Seeker.hidedPlayerTwo != null && Seeker.currentTarget == Seeker.hidedPlayerTwo) {
                        canUse = false;
                    }
                    else if (Seeker.currentTarget != null && Seeker.hidedPlayerThree != null && Seeker.currentTarget == Seeker.hidedPlayerThree) {
                        canUse = false;
                    }
                    return canUse && Seeker.currentTarget && !Seeker.minigameReady && !Challenger.isDueling && !Monja.awakened && PlayerInCache.LocalPlayer.PlayerControl.CanMove;
                },
                () => {
                    seekerMinigameButton.Timer = 15f;
                    Seeker.currentTarget = null;
                },
                Seeker.getTargetButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Seeker minigame button progress
            Seeker.seekerPlayerPointsCount = GameObject.Instantiate(seekerMinigameButton.actionButton.cooldownTimerText, seekerMinigameButton.actionButton.cooldownTimerText.transform.parent);
            Seeker.seekerPlayerPointsCount.enableWordWrapping = false;
            Seeker.seekerPlayerPointsCount.transform.localScale = Vector3.one * 0.5f;
            Seeker.seekerPlayerPointsCount.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            //Seeker minigame button
            seekerPerformMinigameButton = new CustomButton(
                () => {
                    // If the Demon bitten is one of the minigame players or the Seeker, murder him and cancel the minigame
                    if (Demon.demon != null && Demon.bitten != null) {
                        MessageWriter resetWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SeekerResetMinigamePlayers, Hazel.SendOption.Reliable, -1);
                        if (Demon.bitten == Seeker.seeker) {
                            resetWriter.Write(4);
                            AmongUsClient.Instance.FinishRpcImmediately(resetWriter);
                            RPCProcedure.seekerResetMinigamePlayers(4);
                        }
                        else if (Seeker.hidedPlayerOne != null && Demon.bitten == Seeker.hidedPlayerOne) {
                            resetWriter.Write(1);
                            AmongUsClient.Instance.FinishRpcImmediately(resetWriter);
                            RPCProcedure.seekerResetMinigamePlayers(1);
                        }
                        else if (Seeker.hidedPlayerTwo != null && Demon.bitten == Seeker.hidedPlayerTwo) {
                            resetWriter.Write(2);
                            AmongUsClient.Instance.FinishRpcImmediately(resetWriter);
                            RPCProcedure.seekerResetMinigamePlayers(2);
                        }
                        else if (Seeker.hidedPlayerThree != null && Demon.bitten == Seeker.hidedPlayerThree) {
                            resetWriter.Write(3);
                            AmongUsClient.Instance.FinishRpcImmediately(resetWriter);
                            RPCProcedure.seekerResetMinigamePlayers(3);
                        }
                        Helpers.handleDemonBiteOnBodyReport();
                    }
                    else {
                        // Activate the Demon bitten kill to spawn the body outside the duel arena
                        if (Demon.demon != null && Demon.bitten != null) {
                            Helpers.handleDemonBiteOnBodyReport();
                        }
                        MessageWriter seekerMinigame = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SeekerPerformMinigame, Hazel.SendOption.Reliable, -1);
                        AmongUsClient.Instance.FinishRpcImmediately(seekerMinigame);
                        RPCProcedure.seekerPerformMinigame();
                    }
                    seekerPerformMinigameButton.Timer = seekerPerformMinigameButton.MaxTimer;
                },
                () => {
                    return !Seeker.isMinigaming && Seeker.seeker != null && Seeker.seeker == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    bool sabotageActive = false;
                    if (Bomberman.activeBomb == true || Illusionist.lightsOutTimer > 0) {
                        sabotageActive = true;
                    }
                    else {
                        sabotageActive = Helpers.AnySabotageActive();
                    }
                    return !sabotageActive && Seeker.currentPlayers >= 1 && !Challenger.isDueling && !Monja.awakened && PlayerInCache.LocalPlayer.PlayerControl.CanMove;
                },
                () => {
                    seekerPerformMinigameButton.Timer = 15f;
                    Seeker.currentTarget = null;
                },
                Seeker.getMinigameButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T
            );

            // Seeker minigame button progress
            Seeker.seekerPerformMinigamePlayerPointsCount = GameObject.Instantiate(seekerPerformMinigameButton.actionButton.cooldownTimerText, seekerPerformMinigameButton.actionButton.cooldownTimerText.transform.parent);
            Seeker.seekerPerformMinigamePlayerPointsCount.enableWordWrapping = false;
            Seeker.seekerPerformMinigamePlayerPointsCount.transform.localScale = Vector3.one * 0.5f;
            Seeker.seekerPerformMinigamePlayerPointsCount.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Seeker hide one button
            seekerHideOneButton = new CustomButton(
                () => {
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SeekerSelectAttack, Hazel.SendOption.Reliable, -1);
                    writer.Write(1);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.seekerSelectAttack(1);
                },
                () => { return Seeker.seeker == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && Seeker.isMinigaming; },
                () => { return Seeker.seekerSelectedHiding == 0 && PlayerInCache.LocalPlayer.PlayerControl.CanMove && Seeker.isMinigaming && !Seeker.timeOutMinigame; },
                () => { },
                Seeker.getSearchMonjaButtonSprite(),
                new Vector3(0f, -0.06f, 0f),
                __instance,
                null,
                true
            );

            // Seeker hide two button
            seekerHideTwoButton = new CustomButton(
                () => {
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SeekerSelectAttack, Hazel.SendOption.Reliable, -1);
                    writer.Write(2);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.seekerSelectAttack(2);
                },
                () => { return Seeker.seeker == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && Seeker.isMinigaming; },
                () => { return Seeker.seekerSelectedHiding == 0 && PlayerInCache.LocalPlayer.PlayerControl.CanMove && Seeker.isMinigaming && !Seeker.timeOutMinigame; },
                () => { },
                Seeker.getSearchCuloButtonSprite(),
                new Vector3(2f, -0.06f, 0f),
                __instance,
                null,
                true
            );

            // Seeker hide three button
            seekerHideThreeButton = new CustomButton(
                () => {
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SeekerSelectAttack, Hazel.SendOption.Reliable, -1);
                    writer.Write(3);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.seekerSelectAttack(3);
                },
                () => { return Seeker.seeker == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && Seeker.isMinigaming; },
                () => { return Seeker.seekerSelectedHiding == 0 && PlayerInCache.LocalPlayer.PlayerControl.CanMove && Seeker.isMinigaming && !Seeker.timeOutMinigame; },
                () => { },
                Seeker.getSearchDioButtonSprite(),
                new Vector3(1f, -0.06f, 0f),
                __instance,
                null,
                true
            );

            // Hided player one hide one button
            hidedPlayerOneHideOneButton = new CustomButton(
                () => {
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SeekerSelectAttack, Hazel.SendOption.Reliable, -1);
                    writer.Write(4);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.seekerSelectAttack(4);
                },
                () => { return Seeker.hidedPlayerOne == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && Seeker.isMinigaming; },
                () => { return Seeker.hidedPlayerOneSelectedHiding == 0 && PlayerInCache.LocalPlayer.PlayerControl.CanMove && Seeker.isMinigaming && !Seeker.timeOutMinigame; },
                () => { },
                Seeker.getMonjaButtonSprite(),
                new Vector3(0f, -0.06f, 0f),
                __instance,
                null,
                true
            );

            // Hided player one hide two button
            hidedPlayerOneHideTwoButton = new CustomButton(
                () => {
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SeekerSelectAttack, Hazel.SendOption.Reliable, -1);
                    writer.Write(5);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.seekerSelectAttack(5);
                },
                () => { return Seeker.hidedPlayerOne == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && Seeker.isMinigaming; },
                () => { return Seeker.hidedPlayerOneSelectedHiding == 0 && PlayerInCache.LocalPlayer.PlayerControl.CanMove && Seeker.isMinigaming && !Seeker.timeOutMinigame; },
                () => { },
                Seeker.getCuloButtonSprite(),
                new Vector3(2f, -0.06f, 0f),
                __instance,
                null,
                true
            );

            // Hided player one hide three button
            hidedPlayerOneHideThreeButton = new CustomButton(
                () => {
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SeekerSelectAttack, Hazel.SendOption.Reliable, -1);
                    writer.Write(6);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.seekerSelectAttack(6);
                },
                () => { return Seeker.hidedPlayerOne == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && Seeker.isMinigaming; },
                () => { return Seeker.hidedPlayerOneSelectedHiding == 0 && PlayerInCache.LocalPlayer.PlayerControl.CanMove && Seeker.isMinigaming && !Seeker.timeOutMinigame; },
                () => { },
                Seeker.getDioButtonSprite(),
                new Vector3(1f, -0.06f, 0f),
                __instance,
                null,
                true
            );

            // Hided player two hide one button
            hidedPlayerTwoHideOneButton = new CustomButton(
                () => {
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SeekerSelectAttack, Hazel.SendOption.Reliable, -1);
                    writer.Write(7);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.seekerSelectAttack(7);
                },
                () => { return Seeker.hidedPlayerTwo == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && Seeker.isMinigaming; },
                () => { return Seeker.hidedPlayerTwoSelectedHiding == 0 && PlayerInCache.LocalPlayer.PlayerControl.CanMove && Seeker.isMinigaming && !Seeker.timeOutMinigame; },
                () => { },
                Seeker.getMonjaButtonSprite(),
                new Vector3(0f, -0.06f, 0f),
                __instance,
                null,
                true
            );

            // Hided player two hide two button
            hidedPlayerTwoHideTwoButton = new CustomButton(
                () => {
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SeekerSelectAttack, Hazel.SendOption.Reliable, -1);
                    writer.Write(8);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.seekerSelectAttack(8);
                },
                () => { return Seeker.hidedPlayerTwo == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && Seeker.isMinigaming; },
                () => { return Seeker.hidedPlayerTwoSelectedHiding == 0 && PlayerInCache.LocalPlayer.PlayerControl.CanMove && Seeker.isMinigaming && !Seeker.timeOutMinigame; },
                () => { },
                Seeker.getCuloButtonSprite(),
                new Vector3(2f, -0.06f, 0f),
                __instance,
                null,
                true
            );

            // Hided player two hide three button
            hidedPlayerTwoHideThreeButton = new CustomButton(
                () => {
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SeekerSelectAttack, Hazel.SendOption.Reliable, -1);
                    writer.Write(9);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.seekerSelectAttack(9);
                },
                () => { return Seeker.hidedPlayerTwo == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && Seeker.isMinigaming; },
                () => { return Seeker.hidedPlayerTwoSelectedHiding == 0 && PlayerInCache.LocalPlayer.PlayerControl.CanMove && Seeker.isMinigaming && !Seeker.timeOutMinigame; },
                () => { },
                Seeker.getDioButtonSprite(),
                new Vector3(1f, -0.06f, 0f),
                __instance,
                null,
                true
            );

            // Hided player Three hide one button
            hidedPlayerThreeHideOneButton = new CustomButton(
                () => {
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SeekerSelectAttack, Hazel.SendOption.Reliable, -1);
                    writer.Write(10);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.seekerSelectAttack(10);
                },
                () => { return Seeker.hidedPlayerThree == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && Seeker.isMinigaming; },
                () => { return Seeker.hidedPlayerThreeSelectedHiding == 0 && PlayerInCache.LocalPlayer.PlayerControl.CanMove && Seeker.isMinigaming && !Seeker.timeOutMinigame; },
                () => { },
                Seeker.getMonjaButtonSprite(),
                new Vector3(0f, -0.06f, 0f),
                __instance,
                null,
                true
            );

            // Hided player Three hide two button
            hidedPlayerThreeHideTwoButton = new CustomButton(
                () => {
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SeekerSelectAttack, Hazel.SendOption.Reliable, -1);
                    writer.Write(11);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.seekerSelectAttack(11);
                },
                () => { return Seeker.hidedPlayerThree == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && Seeker.isMinigaming; },
                () => { return Seeker.hidedPlayerThreeSelectedHiding == 0 && PlayerInCache.LocalPlayer.PlayerControl.CanMove && Seeker.isMinigaming && !Seeker.timeOutMinigame; },
                () => { },
                Seeker.getCuloButtonSprite(),
                new Vector3(2f, -0.06f, 0f),
                __instance,
                null,
                true
            );

            // Hided player three hide three button
            hidedPlayerThreeHideThreeButton = new CustomButton(
                () => {
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SeekerSelectAttack, Hazel.SendOption.Reliable, -1);
                    writer.Write(12);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.seekerSelectAttack(12);
                },
                () => { return Seeker.hidedPlayerThree == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && Seeker.isMinigaming; },
                () => { return Seeker.hidedPlayerThreeSelectedHiding == 0 && PlayerInCache.LocalPlayer.PlayerControl.CanMove && Seeker.isMinigaming && !Seeker.timeOutMinigame; },
                () => { },
                Seeker.getDioButtonSprite(),
                new Vector3(1f, -0.06f, 0f),
                __instance,
                null,
                true
            );


            // Crewmates buttons

            // Captain emergency call
            captainCallButton = new CustomButton(
                () => {

                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        captainCallButton.Timer = captainCallButton.MaxTimer;
                        return;
                    }
                    
                    if (Helpers.checkIfJinxed(Captain.captain)) {
                        Helpers.jinxedAction(Captain.captain);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        captainCallButton.Timer = captainCallButton.MaxTimer;
                        return;
                    }

                    foreach (PlayerTask task in PlayerInCache.LocalPlayer.PlayerControl.myTasks) {
                        if (task.TaskType == TaskTypes.FixLights) {
                            MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MechanicFixLights, Hazel.SendOption.Reliable, -1);
                            AmongUsClient.Instance.FinishRpcImmediately(writer);
                            RPCProcedure.mechanicFixLights();
                        }
                        else if (task.TaskType == TaskTypes.RestoreOxy) {
                            ShipStatus.Instance.RpcRepairSystem(SystemTypes.LifeSupp, 0 | 64);
                            ShipStatus.Instance.RpcRepairSystem(SystemTypes.LifeSupp, 1 | 64);
                        }
                        else if (task.TaskType == TaskTypes.ResetReactor) {
                            ShipStatus.Instance.RpcRepairSystem(SystemTypes.Reactor, 16);
                        }
                        else if (task.TaskType == TaskTypes.ResetSeismic) {
                            ShipStatus.Instance.RpcRepairSystem(SystemTypes.Laboratory, 16);
                        }
                        else if (task.TaskType == TaskTypes.FixComms) {
                            ShipStatus.Instance.RpcRepairSystem(SystemTypes.Comms, 16 | 0);
                            ShipStatus.Instance.RpcRepairSystem(SystemTypes.Comms, 16 | 1);
                        }
                        else if (task.TaskType == TaskTypes.StopCharles) {
                            ShipStatus.Instance.RpcRepairSystem(SystemTypes.Reactor, 0 | 16);
                            ShipStatus.Instance.RpcRepairSystem(SystemTypes.Reactor, 1 | 16);
                        }
                    }
                    if (Bomberman.activeBomb == true) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.FixBomb, Hazel.SendOption.Reliable, -1);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.fixBomb();
                    }

                    HudManager.Instance.StartCoroutine(Effects.Lerp(0.1f, new Action<float>((p) => { // Delayed action
                        if (p == 1f) {
                            PlayerInCache.LocalPlayer.PlayerControl.CmdReportDeadBody(null);
                        }
                    })));
                    captainCallButton.Timer = captainCallButton.MaxTimer;
                },
                () => {
                    int currentAlivePlayers = 0;
                    foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                        if (!player.Data.IsDead) {
                            currentAlivePlayers += 1;
                        }
                    }
                    return currentAlivePlayers <= 2 && Captain.captain != null && Captain.captain == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { captainCallButton.Timer = captainCallButton.MaxTimer; },
                Captain.getCallButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Mechanic Repair
            mechanicRepairButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        mechanicRepairButton.Timer = mechanicRepairButton.MaxTimer;
                        return;
                    }
                    
                    if (Helpers.checkIfJinxed(Mechanic.mechanic)) {
                        Helpers.jinxedAction(Mechanic.mechanic);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        mechanicRepairButton.Timer = mechanicRepairButton.MaxTimer;
                        return;
                    }

                    mechanicRepairButton.Timer = mechanicRepairButton.MaxTimer;
                    MessageWriter usedRepairWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MechanicUsedRepair, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(usedRepairWriter);
                    RPCProcedure.mechanicUsedRepair();

                    foreach (PlayerTask task in PlayerInCache.LocalPlayer.PlayerControl.myTasks) {
                        if (task.TaskType == TaskTypes.FixLights) {
                            MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MechanicFixLights, Hazel.SendOption.Reliable, -1);
                            AmongUsClient.Instance.FinishRpcImmediately(writer);
                            RPCProcedure.mechanicFixLights();
                        }
                        else if (task.TaskType == TaskTypes.RestoreOxy) {
                            ShipStatus.Instance.RpcRepairSystem(SystemTypes.LifeSupp, 0 | 64);
                            ShipStatus.Instance.RpcRepairSystem(SystemTypes.LifeSupp, 1 | 64);
                        }
                        else if (task.TaskType == TaskTypes.ResetReactor) {
                            ShipStatus.Instance.RpcRepairSystem(SystemTypes.Reactor, 16);
                        }
                        else if (task.TaskType == TaskTypes.ResetSeismic) {
                            ShipStatus.Instance.RpcRepairSystem(SystemTypes.Laboratory, 16);
                        }
                        else if (task.TaskType == TaskTypes.FixComms) {
                            ShipStatus.Instance.RpcRepairSystem(SystemTypes.Comms, 16 | 0);
                            ShipStatus.Instance.RpcRepairSystem(SystemTypes.Comms, 16 | 1);
                        }
                        else if (task.TaskType == TaskTypes.StopCharles) {
                            ShipStatus.Instance.RpcRepairSystem(SystemTypes.Reactor, 0 | 16);
                            ShipStatus.Instance.RpcRepairSystem(SystemTypes.Reactor, 1 | 16);
                        }
                    }
                    if (Bomberman.activeBomb == true) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.FixBomb, Hazel.SendOption.Reliable, -1);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.fixBomb();
                    }
                },
                () => { return Mechanic.mechanic != null && Mechanic.mechanic == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    bool sabotageActive = false;
                    if (Bomberman.activeBomb == true) {
                        sabotageActive = true;
                    }
                    else {
                        foreach (PlayerTask task in PlayerInCache.LocalPlayer.PlayerControl.myTasks)
                            if (task.TaskType == TaskTypes.FixLights || task.TaskType == TaskTypes.RestoreOxy || task.TaskType == TaskTypes.ResetReactor || task.TaskType == TaskTypes.ResetSeismic || task.TaskType == TaskTypes.FixComms || task.TaskType == TaskTypes.StopCharles)
                                sabotageActive = true; 
                    }
                    return sabotageActive && !Mechanic.usedRepair && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => { },
                Mechanic.getButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Mechanic button spawn remaining uses text
            Mechanic.mechanicRepairButtonText = GameObject.Instantiate(mechanicRepairButton.actionButton.cooldownTimerText, mechanicRepairButton.actionButton.cooldownTimerText.transform.parent);
            Mechanic.mechanicRepairButtonText.enableWordWrapping = false;
            Mechanic.mechanicRepairButtonText.transform.localScale = Vector3.one * 0.5f;
            Mechanic.mechanicRepairButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Sheriff Kill
            sheriffKillButton = new CustomButton(
                () => {
                    MurderAttemptResult murderAttemptResult = Helpers.checkMurderAttempt(Sheriff.sheriff, Sheriff.currentTarget);
                    if (murderAttemptResult == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        sheriffKillButton.Timer = sheriffKillButton.MaxTimer;
                        Sheriff.currentTarget = null;
                        return;
                    }
                    else if (murderAttemptResult == MurderAttemptResult.SuppressKill) {
                        return;
                    }

                    if (murderAttemptResult == MurderAttemptResult.PerformKill) {
                        byte targetId = 0;
                        if (Sheriff.currentTarget.Data.Role.IsImpostor ||
                            Sheriff.canKillNeutrals && Helpers.isNeutral(Sheriff.currentTarget) ||
                            Helpers.isRebel(Sheriff.currentTarget)) {
                            targetId = Sheriff.currentTarget.PlayerId;
                        }
                        else {
                            targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        }

                        MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.UncheckedMurderPlayer, Hazel.SendOption.Reliable, -1);
                        killWriter.Write(Sheriff.sheriff.Data.PlayerId);
                        killWriter.Write(targetId);
                        killWriter.Write(byte.MaxValue);
                        AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                        RPCProcedure.uncheckedMurderPlayer(Sheriff.sheriff.Data.PlayerId, targetId, Byte.MaxValue);
                    }

                    sheriffKillButton.Timer = sheriffKillButton.MaxTimer;
                    Sheriff.currentTarget = null;
                },
                () => { return Sheriff.sheriff != null && Sheriff.sheriff == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return Sheriff.currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { sheriffKillButton.Timer = sheriffKillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Detective button
            detectiveButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        Detective.duration = quackNumber;
                        detectiveButton.EffectDuration = Detective.duration;
                        detectiveButton.Timer = detectiveButton.MaxTimer; return;
                    }

                    if (Helpers.checkIfJinxed(Detective.detective)) {
                        Helpers.jinxedAction(Detective.detective);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);

                        Detective.duration = quackNumber;
                        detectiveButton.EffectDuration = Detective.duration;
                        detectiveButton.Timer = detectiveButton.MaxTimer;
                        return;
                    }

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.detectiveCheck, false, 100f);

                    Detective.duration = Detective.backUpduration;
                    detectiveButton.EffectDuration = Detective.duration;
                    detectiveButton.Timer = detectiveButton.MaxTimer;

                    Detective.detectiveTimer = Detective.duration;
                },
                () => { return Detective.detective != null && Detective.detective == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && Detective.showFootPrints == 0; },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => {
                    detectiveButton.Timer = detectiveButton.MaxTimer;
                    detectiveButton.isEffectActive = false;
                    detectiveButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                },
                Detective.getButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                true,
                0f,
                () => {
                    detectiveButton.Timer = detectiveButton.MaxTimer;
                }
            );

            // Forensic button
            forensicButton = new CustomButton(
                () => {
                    if (Forensic.target != null) {
                        Forensic.soulTarget = Forensic.target;
                        forensicButton.HasEffect = true;
                    }
                },
                () => { return Forensic.forensic != null && Forensic.forensic == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (forensicButton.isEffectActive && Forensic.target != Forensic.soulTarget) {
                        Forensic.soulTarget = null;
                        forensicButton.Timer = 0f;
                        forensicButton.isEffectActive = false;
                    }
                    return Forensic.target != null && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => {
                    forensicButton.Timer = forensicButton.MaxTimer;
                    forensicButton.isEffectActive = false;
                    Forensic.soulTarget = null;
                },
                Forensic.getQuestionSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                true,
                Forensic.duration,
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        forensicButton.Timer = forensicButton.MaxTimer;
                    }

                    if (Helpers.checkIfJinxed(Forensic.forensic)) {
                        Helpers.jinxedAction(Forensic.forensic);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        forensicButton.Timer = forensicButton.MaxTimer;
                        return;
                    }

                    forensicButton.Timer = forensicButton.MaxTimer;
                    if (Forensic.target == null || Forensic.target.player == null) return;
                    string msg = "";

                    int randomNumber = Forensic.target.killerIfExisting.PlayerId == Kid.kid?.PlayerId ? LasMonjas.rnd.Next(3) : LasMonjas.rnd.Next(4);
                    string typeOfColor = Helpers.isLighterColor(Forensic.target.killerIfExisting.Data.DefaultOutfit.ColorId) ? Language.playerControlTexts[2] : Language.playerControlTexts[3];
                    float timeSinceDeath = ((float)(Forensic.meetingStartTime - Forensic.target.timeOfDeath).TotalMilliseconds);

                    string name = Language.buttonsTexts[0] + Forensic.target.player.Data.PlayerName + "): ";
                    if (randomNumber == 0) msg = name + Language.buttonsTexts[1] + RoleInfo.GetRolesString(Forensic.target.player, false);
                    else if (randomNumber == 1) msg = name + Language.buttonsTexts[2] + typeOfColor;
                    else if (randomNumber == 2) msg = name + Language.buttonsTexts[3] + Math.Round(timeSinceDeath / 1000);
                    else msg = name + Language.buttonsTexts[4] + RoleInfo.GetRolesString(Forensic.target.killerIfExisting, false); 

                    FastDestroyableSingleton<HudManager>.Instance.Chat.AddChat(PlayerInCache.LocalPlayer.PlayerControl, $"{msg}");

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.forensicGhost, false, 100f);

                    // Remove ghost
                    if (Forensic.oneTimeUse) {
                        float closestDistance = float.MaxValue;
                        SpriteRenderer target = null;

                        foreach ((DeadPlayer db, Vector3 ps) in Forensic.deadBodies) {
                            if (db == Forensic.target) {
                                Tuple<DeadPlayer, Vector3> deadBody = Tuple.Create(db, ps);
                                Forensic.deadBodies.Remove(deadBody);
                                break;
                            }

                        }
                        foreach (SpriteRenderer rend in Forensic.souls) {
                            float distance = Vector2.Distance(rend.transform.position, PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition());
                            if (distance < closestDistance) {
                                closestDistance = distance;
                                target = rend;
                            }
                        }

                        HudManager.Instance.StartCoroutine(Effects.Lerp(5f, new Action<float>((p) => {
                            if (target != null) {
                                var tmp = target.color;
                                tmp.a = Mathf.Clamp01(1 - p);
                                target.color = tmp;
                            }
                            if (p == 1f && target != null && target.gameObject != null) UnityEngine.Object.Destroy(target.gameObject);
                        })));

                        Forensic.souls.Remove(target);
                    }
                }
            );

            // TimeTraveler shield
            timeTravelerShieldButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        TimeTraveler.shieldDuration = quackNumber;
                        timeTravelerShieldButton.EffectDuration = TimeTraveler.shieldDuration;
                        timeTravelerShieldButton.Timer = timeTravelerShieldButton.MaxTimer;
                    }
                    
                    if (Helpers.checkIfJinxed(TimeTraveler.timeTraveler)) {
                        Helpers.jinxedAction(TimeTraveler.timeTraveler);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        TimeTraveler.shieldDuration = quackNumber;
                        timeTravelerShieldButton.EffectDuration = TimeTraveler.shieldDuration;
                        timeTravelerShieldButton.Timer = timeTravelerShieldButton.MaxTimer;
                        return;
                    }

                    TimeTraveler.shieldDuration = TimeTraveler.backUpduration;
                    timeTravelerShieldButton.EffectDuration = TimeTraveler.shieldDuration;
                    timeTravelerRewindTimeButton.Timer = timeTravelerRewindTimeButton.MaxTimer;
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.TimeTravelerShield, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.timeTravelerShield();
                },
                () => { return TimeTraveler.timeTraveler != null && TimeTraveler.timeTraveler == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    bool sabotageActive = false;
                    if (Bomberman.activeBomb == true || Illusionist.lightsOutTimer > 0) {
                        sabotageActive = true;
                    }
                    else {
                        sabotageActive = Helpers.AnySabotageActive();

                    }
                    return !sabotageActive && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming && !TimeTraveler.usedShield;
                },
                () => {
                    timeTravelerShieldButton.Timer = timeTravelerShieldButton.MaxTimer;
                    timeTravelerShieldButton.isEffectActive = false;
                    timeTravelerShieldButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                },
                TimeTraveler.getShieldButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                true,
                TimeTraveler.shieldDuration,
                () => { timeTravelerShieldButton.Timer = timeTravelerShieldButton.MaxTimer; }
            );

            // TimeTraveler rewind time
            timeTravelerRewindTimeButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        timeTravelerRewindTimeButton.Timer = timeTravelerRewindTimeButton.MaxTimer;
                    }

                    if (Helpers.checkIfJinxed(TimeTraveler.timeTraveler)) {
                        Helpers.jinxedAction(TimeTraveler.timeTraveler);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        timeTravelerRewindTimeButton.Timer = timeTravelerRewindTimeButton.MaxTimer;
                        return;
                    }

                    timeTravelerRewindTimeButton.Timer = 0f;
                    TimeTraveler.usedRewind = true;
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.TimeTravelerRewindTime, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.timeTravelerRewindTime();
                },
                () => { return TimeTraveler.timeTraveler != null && TimeTraveler.timeTraveler == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    bool sabotageActive = false;
                    if (Bomberman.activeBomb == true || Illusionist.lightsOutTimer > 0) {
                        sabotageActive = true;
                    }
                    else {
                        sabotageActive = Helpers.AnySabotageActive();

                    }
                    return !sabotageActive && !TimeTraveler.usedRewind && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => { timeTravelerRewindTimeButton.Timer = timeTravelerRewindTimeButton.MaxTimer; },
                TimeTraveler.getRewindButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T
            );

            // Squire Shield
            squireShieldButton = new CustomButton(
                () => {
                    MurderAttemptResult murder = Helpers.checkMurderAttempt(Squire.squire, Squire.currentTarget);
                    if (murder == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        squireShieldButton.Timer = squireShieldButton.MaxTimer;
                        Squire.currentTarget = null;
                        return;
                    }

                    squireShieldButton.Timer = 0f;

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.squireShield, false, 100f);

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SquireSetShielded, Hazel.SendOption.Reliable, -1);
                    writer.Write(Squire.currentTarget.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.squireSetShielded(Squire.currentTarget.PlayerId);
                },
                () => { return Squire.squire != null && Squire.squire == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return !Squire.usedShield && Squire.currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { if (Squire.resetShieldAfterMeeting) Squire.resetShield(); },
                Squire.getButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // FortuneTeller reveal
            fortuneTellerRevealButton = new CustomButton(
                () => {
                    if (FortuneTeller.currentTarget != null) {
                        FortuneTeller.revealTarget = FortuneTeller.currentTarget;
                        fortuneTellerRevealButton.HasEffect = true;
                    }
                },
                () => { return FortuneTeller.fortuneTeller != null && FortuneTeller.fortuneTeller == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (fortuneTellerRevealButton.isEffectActive && FortuneTeller.revealTarget != FortuneTeller.currentTarget) {
                        FortuneTeller.revealTarget = null;
                        fortuneTellerRevealButton.Timer = 0f;
                        fortuneTellerRevealButton.isEffectActive = false;
                    }

                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && FortuneTeller.currentTarget != null && !FortuneTeller.usedFortune && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => {
                    FortuneTeller.revealTarget = null;
                    fortuneTellerRevealButton.isEffectActive = false;
                    fortuneTellerRevealButton.Timer = fortuneTellerRevealButton.MaxTimer;
                    fortuneTellerRevealButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                },
                FortuneTeller.getButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                true,
                FortuneTeller.duration,
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        FortuneTeller.revealTarget = null;
                        fortuneTellerRevealButton.Timer = fortuneTellerRevealButton.MaxTimer;
                    }
                    
                    if (Helpers.checkIfJinxed(FortuneTeller.fortuneTeller)) {
                        Helpers.jinxedAction(FortuneTeller.fortuneTeller);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        FortuneTeller.revealTarget = null;
                        fortuneTellerRevealButton.Timer = fortuneTellerRevealButton.MaxTimer;
                        return;
                    }

                    if (FortuneTeller.revealTarget != null) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.FortuneTellerReveal, Hazel.SendOption.Reliable, -1);
                        writer.Write(FortuneTeller.currentTarget.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.fortuneTellerReveal(FortuneTeller.currentTarget.PlayerId);
                        FortuneTeller.revealTarget = null;
                        fortuneTellerRevealButton.Timer = fortuneTellerRevealButton.MaxTimer;
                    }
                }
            );

            // FortuneTeller button remaining uses text
            FortuneTeller.fortuneTellerRevealButtonText = GameObject.Instantiate(fortuneTellerRevealButton.actionButton.cooldownTimerText, fortuneTellerRevealButton.actionButton.cooldownTimerText.transform.parent);
            FortuneTeller.fortuneTellerRevealButtonText.enableWordWrapping = false;
            FortuneTeller.fortuneTellerRevealButtonText.transform.localScale = Vector3.one * 0.5f;
            FortuneTeller.fortuneTellerRevealButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Hacker button
            hackerButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        Hacker.duration = quackNumber;
                        hackerButton.EffectDuration = Hacker.duration;
                        hackerButton.Timer = hackerButton.MaxTimer;
                    }
                    
                    if (Helpers.checkIfJinxed(Hacker.hacker)) {
                        Helpers.jinxedAction(Hacker.hacker);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);

                        Hacker.duration = quackNumber;
                        hackerButton.EffectDuration = Hacker.duration;
                        hackerButton.Timer = hackerButton.MaxTimer;
                        return;
                    }

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.hackerHack, false, 100f);

                    Hacker.duration = Hacker.backUpduration;
                    hackerButton.EffectDuration = Hacker.duration;
                    hackerButton.Timer = hackerButton.MaxTimer;

                    Hacker.hackerTimer = Hacker.duration;
                },
                () => { return Hacker.hacker != null && Hacker.hacker == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => {
                    hackerButton.Timer = hackerButton.MaxTimer;
                    hackerButton.isEffectActive = false;
                    hackerButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                },
                Hacker.getButtonSprite(),
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q,
                true,
                0f,
                () => {
                    hackerButton.Timer = hackerButton.MaxTimer;
                }
            );

            hackerAdminTableButton = new CustomButton(
               () => {
                   if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                       Hacker.duration = quackNumber;
                       hackerAdminTableButton.EffectDuration = Hacker.duration;
                       hackerAdminTableButton.Timer = hackerAdminTableButton.MaxTimer;
                   }
                   
                   if (Helpers.checkIfJinxed(Hacker.hacker)) {
                       Helpers.jinxedAction(Hacker.hacker);

                       SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                       Hacker.duration = quackNumber;
                       hackerAdminTableButton.EffectDuration = Hacker.duration;
                       hackerAdminTableButton.Timer = hackerAdminTableButton.MaxTimer;
                       return;
                   }

                   Hacker.duration = Hacker.backUpduration;
                   hackerAdminTableButton.EffectDuration = Hacker.duration;

                   if (!MapBehaviour.Instance || !MapBehaviour.Instance.isActiveAndEnabled)
                       FastDestroyableSingleton<HudManager>.Instance.ToggleMapVisible(new global::MapOptions { Mode = global::MapOptions.Modes.CountOverlay, AllowMovementWhileMapOpen = false }); 

                   PlayerInCache.LocalPlayer.PlayerControl.NetTransform.Halt();

                   MessageWriter usedAdminWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.HackerAbilityUses, Hazel.SendOption.Reliable, -1);
                   usedAdminWriter.Write(0);
                   AmongUsClient.Instance.FinishRpcImmediately(usedAdminWriter);
                   RPCProcedure.hackerAbilityUses(0);
               },
               () => { return Hacker.hacker != null && Hacker.hacker == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
               () => {
                   if (Hacker.hackerAdminTableChargesText != null) Hacker.hackerAdminTableChargesText.text = $"{Hacker.chargesAdminTable} / {Hacker.toolsNumber}";
                   return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming && Hacker.chargesAdminTable > 0;
               },
               () => {
                   hackerAdminTableButton.Timer = hackerAdminTableButton.MaxTimer;
                   hackerAdminTableButton.isEffectActive = false;
                   hackerAdminTableButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
               },
               Hacker.getAdminSprite(),
               CustomButton.ButtonPositions.lowerRowRight,
               __instance,
               KeyCode.F,
               true,
               0f,
               () => {
                   hackerAdminTableButton.Timer = hackerAdminTableButton.MaxTimer;
                   if (MapBehaviour.Instance && MapBehaviour.Instance.isActiveAndEnabled) MapBehaviour.Instance.Close();
               }
           );

            // Hacker Admin Table Charges
            Hacker.hackerAdminTableChargesText = GameObject.Instantiate(hackerAdminTableButton.actionButton.cooldownTimerText, hackerAdminTableButton.actionButton.cooldownTimerText.transform.parent);
            Hacker.hackerAdminTableChargesText.text = "";
            Hacker.hackerAdminTableChargesText.enableWordWrapping = false;
            Hacker.hackerAdminTableChargesText.transform.localScale = Vector3.one * 0.5f;
            Hacker.hackerAdminTableChargesText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            hackerVitalsButton = new CustomButton(
               () => {
                   if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                       Hacker.duration = quackNumber;
                       hackerVitalsButton.EffectDuration = Hacker.duration;
                       hackerVitalsButton.Timer = hackerVitalsButton.MaxTimer;
                   }
                   
                   if (Helpers.checkIfJinxed(Hacker.hacker)) {
                       Helpers.jinxedAction(Hacker.hacker);

                       SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                       Hacker.duration = quackNumber;
                       hackerVitalsButton.EffectDuration = Hacker.duration;
                       hackerVitalsButton.Timer = hackerVitalsButton.MaxTimer; 
                       return;
                   }

                   Hacker.duration = Hacker.backUpduration;
                   hackerVitalsButton.EffectDuration = Hacker.duration;

                   if (Hacker.vitals == null) {
                       var e = UnityEngine.Object.FindObjectsOfType<SystemConsole>().FirstOrDefault(x => x.gameObject.name.Contains("panel_vitals") || x.gameObject.name.Contains("Vitals"));
                       if (e == null || Camera.main == null) return;
                       Hacker.vitals = UnityEngine.Object.Instantiate(e.MinigamePrefab, Camera.main.transform, false);
                   }
                   Hacker.vitals.transform.SetParent(Camera.main.transform, false);
                   Hacker.vitals.transform.localPosition = new Vector3(0.0f, 0.0f, -50f);
                   Hacker.vitals.Begin(null);

                   MessageWriter usedVitalsWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.HackerAbilityUses, Hazel.SendOption.Reliable, -1);
                   usedVitalsWriter.Write(1);
                   AmongUsClient.Instance.FinishRpcImmediately(usedVitalsWriter);
                   RPCProcedure.hackerAbilityUses(1);
               },
               () => { return Hacker.hacker != null && Hacker.hacker == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && GameOptionsManager.Instance.currentGameOptions.MapId != 0 && GameOptionsManager.Instance.currentGameOptions.MapId != 1 && GameOptionsManager.Instance.currentGameOptions.MapId != 3; },
               () => {
                if (Hacker.hackerVitalsChargesText != null) Hacker.hackerVitalsChargesText.text = $"{Hacker.chargesVitals} / {Hacker.toolsNumber}";
                return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming && Hacker.chargesVitals > 0;
               },
               () => {
                   hackerVitalsButton.Timer = hackerVitalsButton.MaxTimer;
                   hackerVitalsButton.isEffectActive = false;
                   hackerVitalsButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
               },
               Hacker.getVitalsSprite(),
               CustomButton.ButtonPositions.lowerRowCenter,
               __instance,
               KeyCode.T,
               true,
               0f,
               () => {
                   hackerVitalsButton.Timer = hackerVitalsButton.MaxTimer;
                   if (Minigame.Instance) Hacker.vitals.ForceClose();
               },
               false
           );

            // Hacker Vitals Charges
            Hacker.hackerVitalsChargesText = GameObject.Instantiate(hackerVitalsButton.actionButton.cooldownTimerText, hackerVitalsButton.actionButton.cooldownTimerText.transform.parent);
            Hacker.hackerVitalsChargesText.text = "";
            Hacker.hackerVitalsChargesText.enableWordWrapping = false;
            Hacker.hackerVitalsChargesText.transform.localScale = Vector3.one * 0.5f;
            Hacker.hackerVitalsChargesText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Sleuth locate button
            sleuthLocatePlayerButton = new CustomButton(
                () => {
                    MurderAttemptResult murderAttemptResult = Helpers.checkMurderAttempt(Sleuth.sleuth, Sleuth.currentTarget);
                    if (murderAttemptResult == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        sleuthLocatePlayerButton.Timer = sleuthLocatePlayerButton.MaxTimer;
                        Sleuth.currentTarget = null;
                        return;
                    }

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.sleuthTarget, false, 100f);

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SleuthUsedLocate, Hazel.SendOption.Reliable, -1);
                    writer.Write(Sleuth.currentTarget.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.sleuthUsedLocate(Sleuth.currentTarget.PlayerId);
                },
                () => { return Sleuth.sleuth != null && Sleuth.sleuth == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && Sleuth.currentTarget != null && !Sleuth.usedLocate && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { if (Sleuth.resetTargetAfterMeeting) Sleuth.resetLocated(); },
                Sleuth.getLocateButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Sleuth locate corpses
            sleuthLocateCorpsesButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        Sleuth.corpsesPathfindDuration = quackNumber;
                        sleuthLocateCorpsesButton.EffectDuration = Sleuth.corpsesPathfindDuration;
                        sleuthLocateCorpsesButton.Timer = sleuthLocateCorpsesButton.MaxTimer;
                    }
                    
                    if (Helpers.checkIfJinxed(Sleuth.sleuth)) {
                        Helpers.jinxedAction(Sleuth.sleuth);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);

                        Sleuth.corpsesPathfindDuration = quackNumber;
                        sleuthLocateCorpsesButton.EffectDuration = Sleuth.corpsesPathfindDuration;
                        sleuthLocateCorpsesButton.Timer = sleuthLocateCorpsesButton.MaxTimer;
                        return;
                    }

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.sleuthBody, false, 100f);

                    Sleuth.corpsesPathfindDuration = Sleuth.backUpduration;
                    sleuthLocateCorpsesButton.EffectDuration = Sleuth.corpsesPathfindDuration;

                    Sleuth.corpsesPathfindTimer = Sleuth.corpsesPathfindDuration;
                },
                () => { return Sleuth.sleuth != null && Sleuth.sleuth == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => {
                    sleuthLocateCorpsesButton.Timer = sleuthLocateCorpsesButton.MaxTimer;
                    sleuthLocateCorpsesButton.isEffectActive = false;
                    sleuthLocateCorpsesButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                },
                Sleuth.getCorpsePathfindButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T,
                true,
                Sleuth.corpsesPathfindDuration,
                () => {
                    sleuthLocateCorpsesButton.Timer = sleuthLocateCorpsesButton.MaxTimer;
                }
            );



            // Sleuth whos there button
            sleuthWhosThereButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        Sleuth.duration = quackNumber;
                        sleuthWhosThereButton.EffectDuration = Sleuth.duration;
                        sleuthWhosThereButton.Timer = sleuthWhosThereButton.MaxTimer;
                    }

                    if (Helpers.checkIfJinxed(Sleuth.sleuth)) {
                        Helpers.jinxedAction(Sleuth.sleuth);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);

                        Sleuth.duration = quackNumber;
                        sleuthWhosThereButton.EffectDuration = Sleuth.duration;
                        sleuthWhosThereButton.Timer = sleuthWhosThereButton.MaxTimer;
                        return;
                    }

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.sleuthThere, false, 100f);

                    Sleuth.duration = Sleuth.backUpduration;
                    sleuthWhosThereButton.EffectDuration = Sleuth.duration;

                    Sleuth.timer = Sleuth.duration;
                },
                () => { return Sleuth.sleuth != null && Sleuth.sleuth == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => {
                    sleuthWhosThereButton.Timer = sleuthWhosThereButton.MaxTimer;
                    sleuthWhosThereButton.isEffectActive = false;
                    sleuthWhosThereButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                },
                Sleuth.getwhosThereButtonSprite(),
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q,
                true,
                Sleuth.duration,
                () => {
                    sleuthWhosThereButton.Timer = sleuthWhosThereButton.MaxTimer;
                }
            );
            
            // Fink button
            finkButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        Fink.duration = quackNumber;
                        finkButton.EffectDuration = Fink.duration;
                        finkButton.Timer = finkButton.MaxTimer;
                    }
                    
                    if (Helpers.checkIfJinxed(Fink.fink)) {
                        Helpers.jinxedAction(Fink.fink);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);

                        Fink.duration = quackNumber;
                        finkButton.EffectDuration = Fink.duration;
                        finkButton.Timer = finkButton.MaxTimer;
                        return;
                    }

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.finkSpy, false, 100f);

                    Fink.duration = Fink.backUpduration;
                    finkButton.EffectDuration = Fink.duration;
                    finkButton.Timer = finkButton.MaxTimer;

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.FinkHawkEye, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.finkHawkEye();

                    PlayerInCache.LocalPlayer.PlayerControl.NetTransform.Halt();
                    PlayerInCache.LocalPlayer.PlayerControl.moveable = false;

                    if (Fink.finkCamera == null && Fink.fink == PlayerInCache.LocalPlayer.PlayerControl) {
                        Fink.finkCamera = GameObject.Find("Main Camera");
                        Fink.finkShadow = GameObject.Find("ShadowQuad");
                    }
                    Fink.finkCamera.GetComponent<Camera>().orthographicSize = 4;
                    Fink.finkShadow.SetActive(false);
                },
                () => { return Fink.fink != null && Fink.fink == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    bool sabotageActive = false;
                    if (Bomberman.activeBomb == true || Illusionist.lightsOutTimer > 0) {
                        sabotageActive = true;
                    }
                    else {
                        sabotageActive = Helpers.AnySabotageActive();

                    }
                    return !sabotageActive && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => {
                    finkButton.Timer = finkButton.MaxTimer;
                    finkButton.isEffectActive = false;
                    finkButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                    Fink.finkCamera.GetComponent<Camera>().orthographicSize = 3;
                    Fink.finkShadow.SetActive(true);
                },
                Fink.getButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                true,
                0f,
                () => {
                    finkButton.Timer = finkButton.MaxTimer;
                    Fink.resetCamera();
                    PlayerInCache.LocalPlayer.PlayerControl.moveable = true;
                }
            );

            // Welder button
            welderSealButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        welderSealButton.Timer = welderSealButton.MaxTimer;
                    }

                    if (Helpers.checkIfJinxed(Welder.welder)) {
                        Helpers.jinxedAction(Welder.welder);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        welderSealButton.Timer = welderSealButton.MaxTimer;
                        return;
                    }

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.mechanicWelderAction, false, 100f);

                    if (Welder.ventTarget != null) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpc(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SealVent, Hazel.SendOption.Reliable);
                        writer.WritePacked(Welder.ventTarget.Id);
                        writer.Write(0);
                        writer.EndMessage();
                        RPCProcedure.sealVent(Welder.ventTarget.Id, 0);
                        Welder.ventsSealed.Add(Welder.ventTarget);
                        Welder.ventTarget = null;
                    }
                    welderSealButton.Timer = welderSealButton.MaxTimer;
                },
                () => { return Welder.welder != null && Welder.welder == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    bool canSeal = true;
                    if (Welder.ventTarget != null) {
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            if (Welder.ventTarget.name == "LowerCentralVent" || Welder.ventTarget.name == "UpperCentralVent" || Welder.ventTarget.name == "OpenEngineVent" || Welder.ventTarget.name == "NormalAdminVent") {
                                canSeal = false;
                            }
                            else {
                                foreach (Vent vent in Welder.ventsSealed) {
                                    if (vent == Welder.ventTarget) {
                                        canSeal = false;
                                    }
                                }
                                if (Welder.bombedVent != null && Welder.ventTarget == Welder.bombedVent) {
                                    canSeal = false;
                                }
                            }
                        } else {
                            foreach (Vent vent in Welder.ventsSealed) {
                                if (vent == Welder.ventTarget) {
                                    canSeal = false;
                                }                                
                            }
                            if (Welder.bombedVent != null && Welder.ventTarget == Welder.bombedVent) {
                                canSeal = false;
                            }
                        }
                    }

                    return Welder.ventTarget != null && canSeal && Welder.remainingWelds > 0 && Welder.remainingWelds <= Welder.totalWelds && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => { welderSealButton.Timer = welderSealButton.MaxTimer; },
                Welder.getCloseVentButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Welder button remaining uses text
            Welder.welderButtonText = GameObject.Instantiate(welderSealButton.actionButton.cooldownTimerText, welderSealButton.actionButton.cooldownTimerText.transform.parent);
            Welder.welderButtonText.enableWordWrapping = false;
            Welder.welderButtonText.transform.localScale = Vector3.one * 0.5f;
            Welder.welderButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Welder bomb vent button
            welderBombVentButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        welderBombVentButton.Timer = welderBombVentButton.MaxTimer;
                    }

                    if (Helpers.checkIfJinxed(Welder.welder)) {
                        Helpers.jinxedAction(Welder.welder);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        welderBombVentButton.Timer = welderBombVentButton.MaxTimer;
                        return;
                    }

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.bombermanPlaceBombClip, false, 100f);

                    if (Welder.ventTarget != null) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpc(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SealVent, Hazel.SendOption.Reliable);
                        writer.WritePacked(Welder.ventTarget.Id);
                        writer.Write(1);
                        writer.EndMessage();
                        RPCProcedure.sealVent(Welder.ventTarget.Id, 1);
                        Welder.ventTarget = null;
                    }
                    welderBombVentButton.Timer = welderBombVentButton.MaxTimer;
                },
                () => { return Welder.welder != null && Welder.welder == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    bool canBombVent = true;
                    if (Welder.ventTarget != null) {
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            if (Welder.ventTarget.name == "LowerCentralVent" || Welder.ventTarget.name == "UpperCentralVent" || Welder.ventTarget.name == "OpenEngineVent" || Welder.ventTarget.name == "NormalAdminVent") {
                                canBombVent = false;
                            }
                            else {
                                foreach (Vent vent in Welder.ventsSealed) {
                                    if (vent == Welder.ventTarget) {
                                        canBombVent = false;
                                    }
                                }                                
                            }
                        }
                        else {
                            foreach (Vent vent in Welder.ventsSealed) {
                                if (vent == Welder.ventTarget) {
                                    canBombVent = false;
                                }
                            }                            
                        }
                    }

                    return Welder.ventTarget != null && canBombVent && Welder.bombedVent == null && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => {
                    Welder.bombedVent = null;
                    welderBombVentButton.Timer = welderBombVentButton.MaxTimer; 
                },
                Welder.getBombVentButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T
            );
            
            //Spiritualist revive
            spiritualistReviveButton = new CustomButton(
                () => {
                    spiritualistReviveButton.HasEffect = true;

                    MessageWriter isRevivingSpiritualist = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SendSpiritualistIsReviving, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(isRevivingSpiritualist);
                    RPCProcedure.sendSpiritualistIsReviving();
                },
                () => { return Spiritualist.spiritualist != null && !Spiritualist.usedRevive && Spiritualist.spiritualist == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (spiritualistReviveButton.isEffectActive && (!Spiritualist.isReviving || !Spiritualist.canRevive)) {
                        MessageWriter resetSpiritualist = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ResetSpiritualistReviveValues, Hazel.SendOption.Reliable, -1);
                        AmongUsClient.Instance.FinishRpcImmediately(resetSpiritualist);
                        RPCProcedure.resetSpiritualistReviveValues();
                    }
                    Spiritualist.canRevive = false;
                    foreach (Collider2D collider2D in Physics2D.OverlapCircleAll(PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition(), 1f, Constants.PlayersOnlyMask))
                        if (collider2D.tag == "DeadBody")
                            Spiritualist.canRevive = true;
                    return Spiritualist.canRevive && !Spiritualist.usedRevive && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => {
                    spiritualistReviveButton.Timer = spiritualistReviveButton.MaxTimer;
                    spiritualistReviveButton.isEffectActive = false;
                    Spiritualist.isReviving = false;
                },
                Spiritualist.getButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                true,
                Spiritualist.spiritualistReviveTime,
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        spiritualistReviveButton.Timer = spiritualistReviveButton.MaxTimer;
                    }

                    if (Helpers.checkIfJinxed(Spiritualist.spiritualist)) {
                        Helpers.jinxedAction(Spiritualist.spiritualist);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        spiritualistReviveButton.Timer = spiritualistReviveButton.MaxTimer;
                        return;
                    }

                    if (Spiritualist.isReviving & Spiritualist.canRevive) {
                        foreach (Collider2D collider2D in Physics2D.OverlapCircleAll(PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition(), 1f, Constants.PlayersOnlyMask)) {
                            if (collider2D.tag == "DeadBody") {
                                DeadBody component = collider2D.GetComponent<DeadBody>();
                                if (component && !component.Reported) {
                                    Vector2 truePosition = PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition();
                                    Vector2 truePosition2 = component.TruePosition;
                                    if (Vector2.Distance(truePosition2, truePosition) <= PlayerInCache.LocalPlayer.PlayerControl.MaxReportDistance && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PhysicsHelpers.AnythingBetween(truePosition, truePosition2, Constants.ShipAndObjectsMask, false)) {
                                        GameData.PlayerInfo playerInfo = GameData.Instance.GetPlayerById(component.ParentId);

                                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SpiritualistRevive, Hazel.SendOption.Reliable, -1);
                                        writer.Write(playerInfo.PlayerId);
                                        writer.Write(Spiritualist.spiritualist.PlayerId);
                                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                                        RPCProcedure.spiritualistRevive(playerInfo.PlayerId, Spiritualist.spiritualist.PlayerId);

                                        spiritualistReviveButton.Timer = spiritualistReviveButton.MaxTimer;

                                        break;
                                    }
                                }
                            }
                        }
                    }
                }
            );

            // Vigilant camera button
            vigilantButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        vigilantButton.Timer = vigilantButton.MaxTimer;
                    }

                    if (Helpers.checkIfJinxed(Vigilant.vigilant)) {
                        Helpers.jinxedAction(Vigilant.vigilant);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        vigilantButton.Timer = vigilantButton.MaxTimer;
                        return;
                    }

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.bombermanPlaceBombClip, false, 100f);

                    if (GameOptionsManager.Instance.currentGameOptions.MapId != 1) { 
                        var pos = PlayerInCache.LocalPlayer.PlayerControl.transform.position;
                        byte[] buff = new byte[sizeof(float) * 2];
                        Buffer.BlockCopy(BitConverter.GetBytes(pos.x), 0, buff, 0 * sizeof(float), sizeof(float));
                        Buffer.BlockCopy(BitConverter.GetBytes(pos.y), 0, buff, 1 * sizeof(float), sizeof(float));

                        MessageWriter writer = AmongUsClient.Instance.StartRpc(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PlaceCamera, Hazel.SendOption.Reliable);
                        writer.WriteBytesAndSize(buff);
                        writer.EndMessage();
                        RPCProcedure.placeCamera(buff);
                    }
                    vigilantButton.Timer = vigilantButton.MaxTimer;
                },
                () => { return Vigilant.vigilant != null && Vigilant.vigilant == PlayerInCache.LocalPlayer.PlayerControl && Vigilant.placedCameras < 4 && !PlayerInCache.LocalPlayer.Data.IsDead && GameOptionsManager.Instance.currentGameOptions.MapId != 1; },
                () => {
                    return Vigilant.remainingCameras > 0 && Vigilant.remainingCameras <= Vigilant.totalCameras && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => { vigilantButton.Timer = vigilantButton.MaxTimer; },
                Vigilant.getPlaceCameraButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Vigilant button remaining camera text
            Vigilant.vigilantButtonCameraText = GameObject.Instantiate(vigilantButton.actionButton.cooldownTimerText, vigilantButton.actionButton.cooldownTimerText.transform.parent);
            Vigilant.vigilantButtonCameraText.enableWordWrapping = false;
            Vigilant.vigilantButtonCameraText.transform.localScale = Vector3.one * 0.5f;
            Vigilant.vigilantButtonCameraText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Vigilant view cam button
            vigilantCamButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        Vigilant.duration = quackNumber;
                        vigilantCamButton.EffectDuration = Vigilant.duration;
                        vigilantCamButton.Timer = vigilantCamButton.MaxTimer;
                    }
                    
                    if (Helpers.checkIfJinxed(Vigilant.vigilant)) {
                        Helpers.jinxedAction(Vigilant.vigilant);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);

                        Vigilant.duration = quackNumber;
                        vigilantCamButton.EffectDuration = Vigilant.duration;
                        vigilantCamButton.Timer = vigilantCamButton.MaxTimer;
                        return;
                    }

                    switch (GameOptionsManager.Instance.currentGameOptions.MapId) {
                        case 0:
                            if (Vigilant.minigame == null) {
                                var e = UnityEngine.Object.FindObjectsOfType<SystemConsole>().FirstOrDefault(x => x.gameObject.name.Contains("SurvConsole"));
                                if (e == null || Camera.main == null) return;
                                Vigilant.minigame = UnityEngine.Object.Instantiate(e.MinigamePrefab, Camera.main.transform, false);
                            }
                            break;
                        case 2:
                            if (Vigilant.minigame == null) {
                                var e = UnityEngine.Object.FindObjectsOfType<SystemConsole>().FirstOrDefault(x => x.gameObject.name.Contains("Surv_Panel") || x.name.Contains("Cam"));
                                if (e == null || Camera.main == null) return;
                                Vigilant.minigame = UnityEngine.Object.Instantiate(e.MinigamePrefab, Camera.main.transform, false);
                            }
                            break;
                        case 3:
                            if (Vigilant.minigame == null) {
                                var e = UnityEngine.Object.FindObjectsOfType<SystemConsole>().FirstOrDefault(x => x.gameObject.name.Contains("SurvConsole"));
                                if (e == null || Camera.main == null) return;
                                Vigilant.minigame = UnityEngine.Object.Instantiate(e.MinigamePrefab, Camera.main.transform, false);
                            }                            
                            break;
                        case 4:
                            if (Vigilant.minigame == null) {
                                var e = UnityEngine.Object.FindObjectsOfType<SystemConsole>().FirstOrDefault(x => x.gameObject.name.Contains("task_cams"));
                                if (e == null || Camera.main == null) return;
                                Vigilant.minigame = UnityEngine.Object.Instantiate(e.MinigamePrefab, Camera.main.transform, false);
                            }
                            break;
                        case 5:
                            if (Vigilant.minigame == null) {
                                var e = UnityEngine.Object.FindObjectsOfType<SystemConsole>().FirstOrDefault(x => x.gameObject.name.Contains("SecurityConsole"));
                                if (e == null || Camera.main == null) return;
                                Vigilant.minigame = UnityEngine.Object.Instantiate(e.MinigamePrefab, Camera.main.transform, false);
                            }
                            break;
                    }
                    Vigilant.minigame.transform.SetParent(Camera.main.transform, false);
                    Vigilant.minigame.transform.localPosition = new Vector3(0.0f, 0.0f, -50f);
                    Vigilant.minigame.Begin(null);

                    MessageWriter usedCamsWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.VigilantAbilityUses, Hazel.SendOption.Reliable, -1);
                    usedCamsWriter.Write(0);
                    AmongUsClient.Instance.FinishRpcImmediately(usedCamsWriter);
                    RPCProcedure.vigilantAbilityUses(0);

                    Vigilant.duration = Vigilant.backUpduration;
                    vigilantCamButton.EffectDuration = Vigilant.duration;

                    PlayerInCache.LocalPlayer.PlayerControl.NetTransform.Halt();
                },
                () => { return Vigilant.vigilant != null && Vigilant.vigilant == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && Vigilant.placedCameras >= 4 && GameOptionsManager.Instance.currentGameOptions.MapId != 1; },
                () => {
                    if (Vigilant.vigilantButtonCameraUsesText != null) Vigilant.vigilantButtonCameraUsesText.text = $"{Vigilant.charges} / {Vigilant.maxCharges}";
                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && Vigilant.charges > 0 && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => {
                    vigilantCamButton.Timer = vigilantCamButton.MaxTimer;
                    vigilantCamButton.isEffectActive = false;
                    vigilantCamButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                },
                Vigilant.getCamSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                true,
                0f,
                () => {
                    vigilantCamButton.Timer = vigilantCamButton.MaxTimer;
                    if(Minigame.Instance) {
                        Vigilant.minigame.ForceClose();
                    }
                    Vigilant.minigame = null;
                    PlayerInCache.LocalPlayer.PlayerControl.moveable = true;
                },
                false
            );

            // Vigilant cam button charges
            Vigilant.vigilantButtonCameraUsesText = GameObject.Instantiate(vigilantCamButton.actionButton.cooldownTimerText, vigilantCamButton.actionButton.cooldownTimerText.transform.parent);
            Vigilant.vigilantButtonCameraUsesText.text = "";
            Vigilant.vigilantButtonCameraUsesText.enableWordWrapping = false;
            Vigilant.vigilantButtonCameraUsesText.transform.localScale = Vector3.one * 0.5f;
            Vigilant.vigilantButtonCameraUsesText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Hunter button
            hunterButton = new CustomButton(
                () => {
                    MurderAttemptResult murderAttemptResult = Helpers.checkMurderAttempt(Hunter.hunter, Hunter.currentTarget);
                    if (murderAttemptResult == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        hunterButton.Timer = hunterButton.MaxTimer;
                        Hunter.currentTarget = null;
                        return;
                    }

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.hunterTarget, false, 100f);

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.HunterUsedHunted, Hazel.SendOption.Reliable, -1);
                    writer.Write(Hunter.currentTarget.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.hunterUsedHunted(Hunter.currentTarget.PlayerId);
                },
                () => { return Hunter.hunter != null && Hunter.hunter == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && Hunter.currentTarget != null && !Hunter.usedHunted && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { if (Hunter.resetTargetAfterMeeting) Hunter.resetHunted(); },
                Hunter.getButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Hunter button target text
            Hunter.targetButtonText = GameObject.Instantiate(hunterButton.actionButton.cooldownTimerText, hunterButton.actionButton.cooldownTimerText.transform.parent);
            Hunter.targetButtonText.enableWordWrapping = false;
            Hunter.targetButtonText.transform.localScale = Vector3.one * 0.5f;
            Hunter.targetButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Jinx button
            jinxButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        jinxButton.Timer = jinxButton.MaxTimer;
                    }

                    if (Jinx.target != null) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SetJinxed, Hazel.SendOption.Reliable, -1);
                        writer.Write(Jinx.target.PlayerId);
                        writer.Write(Byte.MaxValue);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.setJinxed(Jinx.target.PlayerId, Byte.MaxValue);

                        Jinx.target = null;

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxJinx, false, 100f);
                        
                        jinxButton.Timer = jinxButton.MaxTimer;
                    }

                },
                () => { return Jinx.jinx != null && Jinx.jinx == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && Jinx.jinxs < Jinx.jinxNumber; },
                () => {
                    if (Jinx.jinxButtonJinxsText != null) Jinx.jinxButtonJinxsText.text = $"{Jinx.jinxNumber - Jinx.jinxs} / {Jinx.jinxNumber}";

                    return Jinx.jinxNumber > Jinx.jinxs && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming && Jinx.target != null;
                },
                () => { jinxButton.Timer = jinxButton.MaxTimer; },
                Jinx.getTargetSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Jinx button jinxs left
            Jinx.jinxButtonJinxsText = GameObject.Instantiate(jinxButton.actionButton.cooldownTimerText, jinxButton.actionButton.cooldownTimerText.transform.parent);
            Jinx.jinxButtonJinxsText.text = "";
            Jinx.jinxButtonJinxsText.enableWordWrapping = false;
            Jinx.jinxButtonJinxsText.transform.localScale = Vector3.one * 0.5f;
            Jinx.jinxButtonJinxsText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Coward call button
            cowardCallButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        cowardCallButton.Timer = cowardCallButton.MaxTimer;
                    }

                    if (Helpers.checkIfJinxed(Coward.coward)) {
                        Helpers.jinxedAction(Coward.coward);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        cowardCallButton.Timer = cowardCallButton.MaxTimer;
                        return;
                    }

                    cowardCallButton.Timer = cowardCallButton.MaxTimer;
                    MessageWriter usedCallWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CowardUsedCall, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(usedCallWriter);
                    RPCProcedure.cowardUsedCall();

                    HudManager.Instance.StartCoroutine(Effects.Lerp(0.1f, new Action<float>((p) => { // Delayed action
                        if (p == 1f) {
                            PlayerInCache.LocalPlayer.PlayerControl.CmdReportDeadBody(null);
                        }
                    })));
                },
                () => { return Coward.coward != null && Coward.coward == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    bool sabotageActive = false;
                    if (Bomberman.activeBomb == true || Illusionist.lightsOutTimer > 0) {
                        sabotageActive = true;
                    }
                    else {
                        sabotageActive = Helpers.AnySabotageActive();

                    }
                    return !sabotageActive && !Coward.usedCalls && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => { },
                Coward.getButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Coward button spawn remaining uses text
            Coward.cowardCallButtonText = GameObject.Instantiate(cowardCallButton.actionButton.cooldownTimerText, cowardCallButton.actionButton.cooldownTimerText.transform.parent);
            Coward.cowardCallButtonText.enableWordWrapping = false;
            Coward.cowardCallButtonText.transform.localScale = Vector3.one * 0.5f;
            Coward.cowardCallButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Bat button
            batButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        Bat.duration = quackNumber;
                        batButton.EffectDuration = Bat.duration;
                        batButton.Timer = batButton.MaxTimer;
                    }
                    
                    if (Helpers.checkIfJinxed(Bat.bat)) {
                        Helpers.jinxedAction(Bat.bat);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);

                        Bat.duration = quackNumber;
                        batButton.EffectDuration = Bat.duration;
                        batButton.Timer = batButton.MaxTimer;
                        return;
                    }

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.batEmit, false, 100f);

                    Bat.duration = Bat.backUpduration;
                    batButton.EffectDuration = Bat.duration;
                    batButton.Timer = batButton.MaxTimer;

                    Bat.frequencyTimer = Bat.duration;
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BatFrequency, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.batFrequency();
                },
                () => { return Bat.bat != null && Bat.bat == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => {
                    batButton.Timer = batButton.MaxTimer;
                    batButton.isEffectActive = false;
                    batButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                },
                Bat.getFrequencyButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                true,
                Bat.duration,
                () => {
                    batButton.Timer = batButton.MaxTimer;
                }
            );

            // Necromancer dragbody button
            necromancerDragBodyButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        necromancerDragBodyButton.Timer = necromancerDragBodyButton.MaxTimer;
                    }

                    if (Helpers.checkIfJinxed(Necromancer.necromancer)) {
                        Helpers.jinxedAction(Necromancer.necromancer);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        necromancerDragBodyButton.Timer = necromancerDragBodyButton.MaxTimer;
                        return;
                    }

                    if (Necromancer.dragginBody) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.DragPlaceBody, Hazel.SendOption.Reliable, -1);
                        writer.Write(Necromancer.bodyId);
                        writer.Write(Necromancer.necromancer.Data.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.dragPlaceBody(Necromancer.bodyId, Necromancer.necromancer.Data.PlayerId);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.janitorDropBody_Fall, false, 100f);
                        
                        necromancerDragBodyButton.Timer = necromancerDragBodyButton.MaxTimer;
                        Necromancer.CleanArrow();
                    }
                    else {
                        foreach (Collider2D collider2D in Physics2D.OverlapCircleAll(PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition(), 1f, Constants.PlayersOnlyMask)) {
                            if (collider2D.tag == "DeadBody") {
                                DeadBody component = collider2D.GetComponent<DeadBody>();
                                if (component && !component.Reported) {
                                    Vector2 truePosition = PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition();
                                    Vector2 truePosition2 = component.TruePosition;
                                    if (Vector2.Distance(truePosition2, truePosition) <= PlayerInCache.LocalPlayer.PlayerControl.MaxReportDistance && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PhysicsHelpers.AnythingBetween(truePosition, truePosition2, Constants.ShipAndObjectsMask, false)) {
                                        GameData.PlayerInfo playerInfo = GameData.Instance.GetPlayerById(component.ParentId);

                                        if (GameOptionsManager.Instance.currentGameOptions.MapId != 5) {
                                            if (activatedSensei) {
                                                Necromancer.targetRoom = SystemTypes.MedBay;
                                            }
                                            else {
                                                if (!Necromancer.madeList) {
                                                    foreach (SystemTypes type in ShipStatus.Instance.FastRooms.Keys) {
                                                        Necromancer.Rooms.Add(type);
                                                    }
                                                    Necromancer.madeList = true;
                                                }

                                                List<SystemTypes> candidate = new List<SystemTypes>();
                                                float dis = Necromancer.roomDistance, nearestDis = 100f;
                                                SystemTypes? nearest = null;
                                                foreach (var room in Necromancer.Rooms) {
                                                    float d = ShipStatus.Instance.FastRooms[room].roomArea.Distance(collider2D).distance;
                                                    if (d > 0.2f) {
                                                        if (dis > d) {
                                                            candidate.Add(room);
                                                        }
                                                        if (nearest == null || nearestDis > d) {
                                                            nearestDis = d;
                                                            nearest = room;
                                                        }
                                                    }
                                                }
                                                if (candidate.Count > 0) {
                                                    Necromancer.targetRoom = candidate[LasMonjas.rnd.Next(candidate.Count)];
                                                }
                                                else {
                                                    Necromancer.targetRoom = nearest.Value;
                                                }
                                            }
                                        } else {
                                            List<SystemTypes> candidate = new List<SystemTypes>();
                                            candidate.Add(SystemTypes.Medical);
                                            candidate.Add(SystemTypes.Comms);
                                            candidate.Add(SystemTypes.Security);
                                            candidate.Add(SystemTypes.Electrical);

                                            Necromancer.targetRoom = candidate[LasMonjas.rnd.Next(candidate.Count)];
                                        }

                                        SoundManager.Instance.PlaySound(CustomMain.customAssets.janitorDragBody, false, 100f);

                                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.DragPlaceBody, Hazel.SendOption.Reliable, -1);
                                        writer.Write(playerInfo.PlayerId);
                                        writer.Write(Necromancer.necromancer.Data.PlayerId);
                                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                                        RPCProcedure.dragPlaceBody(playerInfo.PlayerId, Necromancer.necromancer.Data.PlayerId);

                                        necromancerDragBodyButton.Timer = 1;
                                        break;
                                    }
                                }
                            }
                        }
                    }
                },
                () => { return Necromancer.necromancer != null && Necromancer.necromancer == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (Necromancer.dragginBody) {
                        necromancerDragBodyButton.actionButton.graphic.sprite = Necromancer.getMoveBodyButtonSprite();
                        if (Necromancer.reviveArrow == null) {
                            Necromancer.reviveArrow = new Arrow(Color.cyan);
                            Necromancer.reviveArrow.arrow.SetActive(true);
                        }
                        else {
                            if (activatedSensei) {
                                Necromancer.reviveArrow.Update(new Vector3 (-6.5f, -2, 0));
                            }
                            else {
                                Necromancer.reviveArrow.Update(ShipStatus.Instance.FastRooms[Necromancer.targetRoom].roomArea.transform.position);
                            }
                        }
                    }
                    else {
                        necromancerDragBodyButton.actionButton.graphic.sprite = Necromancer.getDragButtonSprite();
                    }
                    bool canDrag = false;
                    foreach (Collider2D collider2D in Physics2D.OverlapCircleAll(PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition(), 1f, Constants.PlayersOnlyMask))
                        if (collider2D.tag == "DeadBody") {
                            DeadBody component = collider2D.GetComponent<DeadBody>();
                            if (component && !component.Reported) {
                                Vector2 truePosition = PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition();
                                Vector2 truePosition2 = component.TruePosition;
                                if (Vector2.Distance(truePosition2, truePosition) <= PlayerInCache.LocalPlayer.PlayerControl.MaxReportDistance && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PhysicsHelpers.AnythingBetween(truePosition, truePosition2, Constants.ShipAndObjectsMask, false)) {
                                    GameData.PlayerInfo playerInfo = GameData.Instance.GetPlayerById(component.ParentId);
                                    if (Janitor.janitor == null) {
                                        canDrag = true;
                                    }
                                    else if (Janitor.janitor != null && playerInfo.PlayerId != Janitor.bodyId) {
                                        canDrag = true;
                                    }
                                }
                            }
                        }
                    return canDrag && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => {
                    necromancerDragBodyButton.Timer = necromancerDragBodyButton.MaxTimer;
                    Necromancer.dragginBody = false;
                    Necromancer.bodyId = 0;
                },
                Necromancer.getDragButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Necromancer dragbody button
            necromancerReviveButton = new CustomButton(
                () => {
                    necromancerReviveButton.HasEffect = true;
                },
                () => { return Necromancer.necromancer != null && Necromancer.necromancer == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {

                    bool canUse = false;

                    if (ShipStatus.Instance) {

                        SystemTypes roomType = Necromancer.targetRoom;
                        PlainShipRoom room = ShipStatus.Instance.FastRooms[roomType];

                        if (necromancerReviveButton.isEffectActive && !room.roomArea.OverlapPoint(Necromancer.necromancer.Collider.transform.position)) {
                            necromancerReviveButton.Timer = 0f;
                            necromancerReviveButton.isEffectActive = false;
                        }

                        if (Necromancer.dragginBody && room.roomArea.OverlapPoint(Necromancer.necromancer.Collider.transform.position)) {
                            canUse = true;
                        }

                    }
                    return canUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => {
                    necromancerReviveButton.Timer = necromancerReviveButton.MaxTimer;
                    Necromancer.dragginBody = false;
                    Necromancer.bodyId = 0;
                },
                Necromancer.getButtonSprite(),
               CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T,
                true,
                Necromancer.duration,
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        necromancerReviveButton.Timer = necromancerReviveButton.MaxTimer;
                    }

                    if (Helpers.checkIfJinxed(Necromancer.necromancer)) {
                        Helpers.jinxedAction(Necromancer.necromancer);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        necromancerReviveButton.Timer = necromancerReviveButton.MaxTimer;
                        return;
                    }

                    if (Necromancer.dragginBody) {
                        foreach (Collider2D collider2D in Physics2D.OverlapCircleAll(PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition(), 1f, Constants.PlayersOnlyMask)) {
                            if (collider2D.tag == "DeadBody") {
                                DeadBody component = collider2D.GetComponent<DeadBody>();
                                if (component && !component.Reported) {
                                    Vector2 truePosition = PlayerInCache.LocalPlayer.PlayerControl.GetTruePosition();
                                    Vector2 truePosition2 = component.TruePosition;
                                    if (Vector2.Distance(truePosition2, truePosition) <= PlayerInCache.LocalPlayer.PlayerControl.MaxReportDistance && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PhysicsHelpers.AnythingBetween(truePosition, truePosition2, Constants.ShipAndObjectsMask, false)) {
                                        GameData.PlayerInfo playerInfo = GameData.Instance.GetPlayerById(component.ParentId);

                                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.SpiritualistRevive, Hazel.SendOption.Reliable, -1);
                                        writer.Write(playerInfo.PlayerId);
                                        writer.Write(Necromancer.necromancer.PlayerId);
                                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                                        RPCProcedure.spiritualistRevive(playerInfo.PlayerId, Necromancer.necromancer.PlayerId);

                                        necromancerReviveButton.Timer = necromancerReviveButton.MaxTimer;

                                        Necromancer.CleanArrow();
                                        break;
                                    }
                                }
                            }
                        }
                    }
                }
            );

            // Engineer place trap
            engineerTrapButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        engineerTrapButton.Timer = engineerTrapButton.MaxTimer;
                    }

                    if (Helpers.checkIfJinxed(Engineer.engineer)) {
                        Helpers.jinxedAction(Engineer.engineer);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        engineerTrapButton.Timer = engineerTrapButton.MaxTimer;
                        return;
                    }

                    engineerTrapButton.Timer = engineerTrapButton.MaxTimer;

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.bombermanPlaceBombClip, false, 100f);
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PlaceEngineerTrap, Hazel.SendOption.Reliable, -1);
                    writer.Write(Engineer.trapType);
                    var pos = PlayerInCache.LocalPlayer.PlayerControl.transform.position;
                    byte[] buff = new byte[sizeof(float) * 2];
                    Buffer.BlockCopy(BitConverter.GetBytes(pos.x), 0, buff, 0 * sizeof(float), sizeof(float));
                    Buffer.BlockCopy(BitConverter.GetBytes(pos.y), 0, buff, 1 * sizeof(float), sizeof(float));
                    writer.WriteBytesAndSize(buff); 
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.placeEngineerTrap(Engineer.trapType, buff);
                },
                () => {
                    return Engineer.engineer != null && Engineer.engineer == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    if (Input.GetKeyDown(KeyCode.Q)) {
                        Engineer.trapType++;
                        if (Engineer.trapType > 3) {
                            Engineer.trapType = 1;
                        }
                    }
                    switch (Engineer.trapType) {
                        case 1:
                            engineerTrapButton.actionButton.graphic.sprite = Engineer.getAccelButtonSprite();
                            break;
                        case 2:
                            engineerTrapButton.actionButton.graphic.sprite = Engineer.getDecelButtonSprite();
                            break;
                        case 3:
                            engineerTrapButton.actionButton.graphic.sprite = Engineer.getPositionButtonSprite();
                            break;
                    }

                    bool closetoPlayer = false;
                    foreach (PlayerControl player in PlayerInCache.AllPlayers) {
                        if (Vector2.Distance(player.transform.position, Engineer.engineer.transform.position) < 3f && player != Engineer.engineer && !player.Data.IsDead) {
                            closetoPlayer = true;
                        }
                    }
                    bool closetoTrap = false;
                    foreach (EngineerTrap engineerTrap in EngineerTrap.engineerTraps) {
                        if (Vector2.Distance(engineerTrap.engineerTrap.transform.position, Engineer.engineer.transform.position) < 3f) {
                            closetoTrap = true;
                        }
                    }
                    return !closetoPlayer && !closetoTrap && PlayerInCache.LocalPlayer.PlayerControl.CanMove && Engineer.currentTrapNumber < Engineer.numberOfTraps && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming;
                },
                () => {
                    engineerTrapButton.Timer = engineerTrapButton.MaxTimer;
                },
                Engineer.getAccelButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Locksmith open door
            locksmithOpenDoorButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        locksmithOpenDoorButton.Timer = locksmithOpenDoorButton.MaxTimer;
                    }

                    if (Helpers.checkIfJinxed(Locksmith.locksmith)) {
                        Helpers.jinxedAction(Locksmith.locksmith);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        locksmithOpenDoorButton.Timer = locksmithOpenDoorButton.MaxTimer;
                        return;
                    }

                    MessageWriter winWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.LocksmithOpenDoor, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(winWriter);
                    RPCProcedure.locksmithOpenDoor();

                    locksmithOpenDoorButton.Timer = locksmithOpenDoorButton.MaxTimer;
                },
                () => { return Locksmith.locksmith != null && Locksmith.locksmith == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead && GameOptionsManager.Instance.currentGameOptions.MapId != 1; },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { locksmithOpenDoorButton.Timer = locksmithOpenDoorButton.MaxTimer; },
                Locksmith.getlocksmithButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );
            
            // TaskMaster button
            taskMasterButton = new CustomButton(
                () => {
                    if (Helpers.checkIfEaten(PlayerInCache.LocalPlayer.PlayerControl)) {
                        TaskMaster.duration = quackNumber;
                        taskMasterButton.EffectDuration = TaskMaster.duration;
                        taskMasterButton.Timer = taskMasterButton.MaxTimer;
                    }
                    
                    if (Helpers.checkIfJinxed(TaskMaster.taskMaster)) {
                        Helpers.jinxedAction(TaskMaster.taskMaster);

                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);

                        TaskMaster.duration = quackNumber;
                        taskMasterButton.EffectDuration = TaskMaster.duration;
                        taskMasterButton.Timer = taskMasterButton.MaxTimer;
                        return;
                    }

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.treasureHunterPlaceTreasure, false, 100f);

                    TaskMaster.duration = TaskMaster.backUpduration;
                    taskMasterButton.EffectDuration = TaskMaster.duration;
                    taskMasterButton.Timer = taskMasterButton.MaxTimer;

                    MessageWriter writterSpeed = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.TaskMasterActivateSpeed, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(writterSpeed);
                    RPCProcedure.taskMasterActivateSpeed();                    
                },
                () => { return TaskMaster.taskMaster != null && TaskMaster.taskMaster == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => {
                    taskMasterButton.Timer = taskMasterButton.MaxTimer;
                    taskMasterButton.isEffectActive = false;
                    taskMasterButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                },
                TaskMaster.gettaskMasterButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                true,
                0f,
                () => {
                    taskMasterButton.Timer = taskMasterButton.MaxTimer;
                }
            );

            // Jailer jail
            jailerJailButton = new CustomButton(
                () => {
                    MurderAttemptResult murder = Helpers.checkMurderAttempt(Jailer.jailer, Jailer.currentTarget);
                    if (murder == MurderAttemptResult.JinxKill) {
                        SoundManager.Instance.PlaySound(CustomMain.customAssets.jinxQuack, false, 5f);
                        jailerJailButton.Timer = jailerJailButton.MaxTimer;
                        Jailer.currentTarget = null;
                        return;
                    }

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.jailerJail, false, 100f);

                    jailerJailButton.Timer = 0f;

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.JailerSetJailed, Hazel.SendOption.Reliable, -1);
                    writer.Write(Jailer.currentTarget.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.jailedSetJailed(Jailer.currentTarget.PlayerId);
                },
                () => { return Jailer.jailer != null && Jailer.jailer == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return !Jailer.usedJail && Jailer.currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !Challenger.isDueling && !Monja.awakened && !Seeker.isMinigaming; },
                () => { 
                    jailerJailButton.Timer = jailerJailButton.MaxTimer; 
                    Jailer.resetJailed(); 
                },
                Jailer.getButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Jailer button target text
            Jailer.jailButtonText = GameObject.Instantiate(jailerJailButton.actionButton.cooldownTimerText, jailerJailButton.actionButton.cooldownTimerText.transform.parent);
            Jailer.jailButtonText.enableWordWrapping = false;
            Jailer.jailButtonText.transform.localScale = Vector3.one * 0.5f;
            Jailer.jailButtonText.transform.localPosition += new Vector3(-0.05f, 0.7f, 0); 

            // Zoom in/out button
            zoomOutButton = new CustomButton(
                () => { Helpers.toggleZoom();
                },
                () => { if (PlayerInCache.LocalPlayer.PlayerControl == null || !PlayerInCache.LocalPlayer.Data.IsDead || TimeTraveler.isRewinding || (gameType >= 2 && gameType != 5)) return false;
                    var (playerCompleted, playerTotal) = TasksHandler.taskInfo(PlayerInCache.LocalPlayer.Data);
                    int numberOfLeftTasks = playerTotal - playerCompleted;
                    return numberOfLeftTasks <= 0;
                },
                () => { return true; },
                () => { return; },
                Helpers.loadSpriteFromResources("LasMonjas.Images.MinusButton.png", 150f),  // Invisible button!
                new Vector3(0.4f, 2.8f, 0),
                __instance,
                KeyCode.KeypadPlus
                );
            zoomOutButton.Timer = 0f;

            // Who Am I Option
            whoAmIButton = new CustomButton(
                () => {
                    whoAmIFoundRole = true;
                    string roleToGet = "";
                    foreach (GameObject groundItem in whoAmIModeGlobalItems) {
                        if (groundItem != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, groundItem.transform.position) < 0.6f) {
                            roleToGet = groundItem.name;
                        }
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.WhoWasI, Hazel.SendOption.Reliable, -1);
                    writer.Write(PlayerInCache.LocalPlayer.PlayerControl.PlayerId);
                    writer.Write(roleToGet);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.whoWasI(PlayerInCache.LocalPlayer.PlayerControl.PlayerId, roleToGet);

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.mimicPuppeteerTransform, false, 100f);
                },
                () => { return gameType == 1 && !whoAmIFoundRole && !PlayerInCache.LocalPlayer.Data.IsDead && GameOptionsManager.Instance.currentGameOptions.GameMode != GameModes.HideNSeek; },
                () => {
                    bool CanUse = false;
                    if (whoAmIModeGlobalItems.Count != 0) {
                        foreach (GameObject groundItem in whoAmIModeGlobalItems) {
                            if (groundItem != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, groundItem.transform.position) < 0.5f) {
                                CanUse = true;
                            }
                        }
                    }
                    return CanUse && !whoAmIFoundRole && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead; 
                },
                () => { whoAmIButton.Timer = whoAmIButton.MaxTimer; },
                Helpers.loadSpriteFromResources("LasMonjas.Images.WhoAmIRememberButton.png", 90f),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.F
            );


            // Capture the flag buttons
            // Redplayer01 Kill
            redplayer01KillButton = new CustomButton(
                () => {
                    byte targetId = CaptureTheFlag.redplayer01currentTarget.PlayerId;
                    byte sourceId = CaptureTheFlag.redplayer01.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    redplayer01KillButton.Timer = redplayer01KillButton.MaxTimer;
                    CaptureTheFlag.redplayer01currentTarget = null;
                },
                () => { return CaptureTheFlag.redplayer01 != null && CaptureTheFlag.redplayer01 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return CaptureTheFlag.redplayer01currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !CaptureTheFlag.redplayer01IsReviving && PlayerInCache.LocalPlayer.PlayerControl != CaptureTheFlag.redPlayerWhoHasBlueFlag; },
                () => { redplayer01KillButton.Timer = redplayer01KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Redplayer01 TakeFlag Button
            redplayer01TakeFlagButton = new CustomButton(
                () => {
                    if (PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.redPlayerWhoHasBlueFlag) {
                        MessageWriter whichTeamScored = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhichTeamScored, Hazel.SendOption.Reliable, -1);
                        whichTeamScored.Write(1);
                        AmongUsClient.Instance.FinishRpcImmediately(whichTeamScored);
                        RPCProcedure.captureTheFlagWhichTeamScored(1);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        MessageWriter redPlayerStoleBlueFlag = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhoTookTheFlag, Hazel.SendOption.Reliable, -1);
                        redPlayerStoleBlueFlag.Write(targetId);
                        redPlayerStoleBlueFlag.Write(1);
                        AmongUsClient.Instance.FinishRpcImmediately(redPlayerStoleBlueFlag);
                        RPCProcedure.captureTheFlagWhoTookTheFlag(targetId, 1);
                    }
                    redplayer01TakeFlagButton.Timer = redplayer01TakeFlagButton.MaxTimer;
                },
                () => { return CaptureTheFlag.redplayer01 != null && CaptureTheFlag.redplayer01 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (CaptureTheFlag.localRedFlagArrow.Count != 0) {
                        CaptureTheFlag.localRedFlagArrow[0].Update(CaptureTheFlag.redflag.transform.position);
                    }
                    if (CaptureTheFlag.localBlueFlagArrow.Count != 0) {
                        CaptureTheFlag.localBlueFlagArrow[0].Update(CaptureTheFlag.blueflag.transform.position);
                    }
                    if (CaptureTheFlag.redplayer01 == CaptureTheFlag.redPlayerWhoHasBlueFlag)
                        redplayer01TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getDeliverBlueFlagButtonSprite();
                    else
                        redplayer01TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getTakeBlueFlagButtonSprite();
                    bool CanUse = false;
                    if (CaptureTheFlag.blueflag != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.blueflag.transform.position) < 0.5f && !PlayerInCache.LocalPlayer.Data.IsDead && CaptureTheFlag.redPlayerWhoHasBlueFlag == null) {
                        CanUse = true;
                    }
                    else if (CaptureTheFlag.redflagbase != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.redflagbase.transform.position) < 0.5f && PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.redPlayerWhoHasBlueFlag) {
                        CanUse = true;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { redplayer01TakeFlagButton.Timer = redplayer01TakeFlagButton.MaxTimer; },
                CaptureTheFlag.getTakeBlueFlagButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Redplayer02 Kill
            redplayer02KillButton = new CustomButton(
                () => {
                    byte targetId = CaptureTheFlag.redplayer02currentTarget.PlayerId;
                    byte sourceId = CaptureTheFlag.redplayer02.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    redplayer02KillButton.Timer = redplayer02KillButton.MaxTimer;
                    CaptureTheFlag.redplayer02currentTarget = null;
                },
                () => { return CaptureTheFlag.redplayer02 != null && CaptureTheFlag.redplayer02 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return CaptureTheFlag.redplayer02currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !CaptureTheFlag.redplayer02IsReviving && PlayerInCache.LocalPlayer.PlayerControl != CaptureTheFlag.redPlayerWhoHasBlueFlag; },
                () => { redplayer02KillButton.Timer = redplayer02KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Redplayer02 TakeFlag Button
            redplayer02TakeFlagButton = new CustomButton(
                () => {
                    if (PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.redPlayerWhoHasBlueFlag) {
                        MessageWriter whichTeamScored = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhichTeamScored, Hazel.SendOption.Reliable, -1);
                        whichTeamScored.Write(1);
                        AmongUsClient.Instance.FinishRpcImmediately(whichTeamScored);
                        RPCProcedure.captureTheFlagWhichTeamScored(1);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        MessageWriter redPlayerStoleBlueFlag = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhoTookTheFlag, Hazel.SendOption.Reliable, -1);
                        redPlayerStoleBlueFlag.Write(targetId);
                        redPlayerStoleBlueFlag.Write(1);
                        AmongUsClient.Instance.FinishRpcImmediately(redPlayerStoleBlueFlag);
                        RPCProcedure.captureTheFlagWhoTookTheFlag(targetId, 1);
                    }
                    redplayer02TakeFlagButton.Timer = redplayer02TakeFlagButton.MaxTimer;
                },
                () => { return CaptureTheFlag.redplayer02 != null && CaptureTheFlag.redplayer02 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (CaptureTheFlag.localRedFlagArrow.Count != 0) {
                        CaptureTheFlag.localRedFlagArrow[0].Update(CaptureTheFlag.redflag.transform.position);
                    }
                    if (CaptureTheFlag.localBlueFlagArrow.Count != 0) {
                        CaptureTheFlag.localBlueFlagArrow[0].Update(CaptureTheFlag.blueflag.transform.position);
                    }
                    if (CaptureTheFlag.redplayer02 == CaptureTheFlag.redPlayerWhoHasBlueFlag)
                        redplayer02TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getDeliverBlueFlagButtonSprite();
                    else
                        redplayer02TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getTakeBlueFlagButtonSprite();
                    bool CanUse = false;
                    if (CaptureTheFlag.blueflag != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.blueflag.transform.position) < 0.5f && !PlayerInCache.LocalPlayer.Data.IsDead && CaptureTheFlag.redPlayerWhoHasBlueFlag == null) {
                        CanUse = true;
                    }
                    else if (CaptureTheFlag.redflagbase != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.redflagbase.transform.position) < 0.5f && PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.redPlayerWhoHasBlueFlag) {
                        CanUse = true;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { redplayer02TakeFlagButton.Timer = redplayer02TakeFlagButton.MaxTimer; },
                CaptureTheFlag.getTakeBlueFlagButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Redplayer03 Kill
            redplayer03KillButton = new CustomButton(
                () => {
                    byte targetId = CaptureTheFlag.redplayer03currentTarget.PlayerId;
                    byte sourceId = CaptureTheFlag.redplayer03.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    redplayer03KillButton.Timer = redplayer03KillButton.MaxTimer;
                    CaptureTheFlag.redplayer03currentTarget = null;
                },
                () => { return CaptureTheFlag.redplayer03 != null && CaptureTheFlag.redplayer03 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return CaptureTheFlag.redplayer03currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !CaptureTheFlag.redplayer03IsReviving && PlayerInCache.LocalPlayer.PlayerControl != CaptureTheFlag.redPlayerWhoHasBlueFlag; },
                () => { redplayer03KillButton.Timer = redplayer03KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Redplayer03 TakeFlag Button
            redplayer03TakeFlagButton = new CustomButton(
                () => {
                    if (PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.redPlayerWhoHasBlueFlag) {
                        MessageWriter whichTeamScored = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhichTeamScored, Hazel.SendOption.Reliable, -1);
                        whichTeamScored.Write(1);
                        AmongUsClient.Instance.FinishRpcImmediately(whichTeamScored);
                        RPCProcedure.captureTheFlagWhichTeamScored(1);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        MessageWriter redPlayerStoleBlueFlag = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhoTookTheFlag, Hazel.SendOption.Reliable, -1);
                        redPlayerStoleBlueFlag.Write(targetId);
                        redPlayerStoleBlueFlag.Write(1);
                        AmongUsClient.Instance.FinishRpcImmediately(redPlayerStoleBlueFlag);
                        RPCProcedure.captureTheFlagWhoTookTheFlag(targetId, 1);
                    }
                    redplayer03TakeFlagButton.Timer = redplayer03TakeFlagButton.MaxTimer;
                },
                () => { return CaptureTheFlag.redplayer03 != null && CaptureTheFlag.redplayer03 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (CaptureTheFlag.localRedFlagArrow.Count != 0) {
                        CaptureTheFlag.localRedFlagArrow[0].Update(CaptureTheFlag.redflag.transform.position);
                    }
                    if (CaptureTheFlag.localBlueFlagArrow.Count != 0) {
                        CaptureTheFlag.localBlueFlagArrow[0].Update(CaptureTheFlag.blueflag.transform.position);
                    }
                    if (CaptureTheFlag.redplayer03 == CaptureTheFlag.redPlayerWhoHasBlueFlag)
                        redplayer03TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getDeliverBlueFlagButtonSprite();
                    else
                        redplayer03TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getTakeBlueFlagButtonSprite();
                    bool CanUse = false;
                    if (CaptureTheFlag.blueflag != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.blueflag.transform.position) < 0.5f && !PlayerInCache.LocalPlayer.Data.IsDead && CaptureTheFlag.redPlayerWhoHasBlueFlag == null) {
                        CanUse = true;
                    }
                    else if (CaptureTheFlag.redflagbase != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.redflagbase.transform.position) < 0.5f && PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.redPlayerWhoHasBlueFlag) {
                        CanUse = true;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { redplayer03TakeFlagButton.Timer = redplayer03TakeFlagButton.MaxTimer; },
                CaptureTheFlag.getTakeBlueFlagButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Redplayer04 Kill
            redplayer04KillButton = new CustomButton(
                () => {
                    byte targetId = CaptureTheFlag.redplayer04currentTarget.PlayerId;
                    byte sourceId = CaptureTheFlag.redplayer04.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    redplayer04KillButton.Timer = redplayer04KillButton.MaxTimer;
                    CaptureTheFlag.redplayer04currentTarget = null;
                },
                () => { return CaptureTheFlag.redplayer04 != null && CaptureTheFlag.redplayer04 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return CaptureTheFlag.redplayer04currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !CaptureTheFlag.redplayer04IsReviving && PlayerInCache.LocalPlayer.PlayerControl != CaptureTheFlag.redPlayerWhoHasBlueFlag; },
                () => { redplayer04KillButton.Timer = redplayer04KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Redplayer04 TakeFlag Button
            redplayer04TakeFlagButton = new CustomButton(
                () => {
                    if (PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.redPlayerWhoHasBlueFlag) {
                        MessageWriter whichTeamScored = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhichTeamScored, Hazel.SendOption.Reliable, -1);
                        whichTeamScored.Write(1);
                        AmongUsClient.Instance.FinishRpcImmediately(whichTeamScored);
                        RPCProcedure.captureTheFlagWhichTeamScored(1);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        MessageWriter redPlayerStoleBlueFlag = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhoTookTheFlag, Hazel.SendOption.Reliable, -1);
                        redPlayerStoleBlueFlag.Write(targetId);
                        redPlayerStoleBlueFlag.Write(1);
                        AmongUsClient.Instance.FinishRpcImmediately(redPlayerStoleBlueFlag);
                        RPCProcedure.captureTheFlagWhoTookTheFlag(targetId, 1);
                    }
                    redplayer04TakeFlagButton.Timer = redplayer04TakeFlagButton.MaxTimer;
                },
                () => { return CaptureTheFlag.redplayer04 != null && CaptureTheFlag.redplayer04 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (CaptureTheFlag.localRedFlagArrow.Count != 0) {
                        CaptureTheFlag.localRedFlagArrow[0].Update(CaptureTheFlag.redflag.transform.position);
                    }
                    if (CaptureTheFlag.localBlueFlagArrow.Count != 0) {
                        CaptureTheFlag.localBlueFlagArrow[0].Update(CaptureTheFlag.blueflag.transform.position);
                    }
                    if (CaptureTheFlag.redplayer04 == CaptureTheFlag.redPlayerWhoHasBlueFlag)
                        redplayer04TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getDeliverBlueFlagButtonSprite();
                    else
                        redplayer04TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getTakeBlueFlagButtonSprite();
                    bool CanUse = false;
                    if (CaptureTheFlag.blueflag != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.blueflag.transform.position) < 0.5f && !PlayerInCache.LocalPlayer.Data.IsDead && CaptureTheFlag.redPlayerWhoHasBlueFlag == null) {
                        CanUse = true;
                    }
                    else if (CaptureTheFlag.redflagbase != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.redflagbase.transform.position) < 0.5f && PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.redPlayerWhoHasBlueFlag) {
                        CanUse = true;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { redplayer04TakeFlagButton.Timer = redplayer04TakeFlagButton.MaxTimer; },
                CaptureTheFlag.getTakeBlueFlagButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Redplayer05 Kill
            redplayer05KillButton = new CustomButton(
                () => {
                    byte targetId = CaptureTheFlag.redplayer05currentTarget.PlayerId;
                    byte sourceId = CaptureTheFlag.redplayer05.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    redplayer05KillButton.Timer = redplayer05KillButton.MaxTimer;
                    CaptureTheFlag.redplayer05currentTarget = null;
                },
                () => { return CaptureTheFlag.redplayer05 != null && CaptureTheFlag.redplayer05 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return CaptureTheFlag.redplayer05currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !CaptureTheFlag.redplayer05IsReviving && PlayerInCache.LocalPlayer.PlayerControl != CaptureTheFlag.redPlayerWhoHasBlueFlag; },
                () => { redplayer05KillButton.Timer = redplayer05KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Redplayer05 TakeFlag Button
            redplayer05TakeFlagButton = new CustomButton(
                () => {
                    if (PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.redPlayerWhoHasBlueFlag) {
                        MessageWriter whichTeamScored = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhichTeamScored, Hazel.SendOption.Reliable, -1);
                        whichTeamScored.Write(1);
                        AmongUsClient.Instance.FinishRpcImmediately(whichTeamScored);
                        RPCProcedure.captureTheFlagWhichTeamScored(1);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        MessageWriter redPlayerStoleBlueFlag = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhoTookTheFlag, Hazel.SendOption.Reliable, -1);
                        redPlayerStoleBlueFlag.Write(targetId);
                        redPlayerStoleBlueFlag.Write(1);
                        AmongUsClient.Instance.FinishRpcImmediately(redPlayerStoleBlueFlag);
                        RPCProcedure.captureTheFlagWhoTookTheFlag(targetId, 1);
                    }
                    redplayer05TakeFlagButton.Timer = redplayer05TakeFlagButton.MaxTimer;
                },
                () => { return CaptureTheFlag.redplayer05 != null && CaptureTheFlag.redplayer05 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (CaptureTheFlag.localRedFlagArrow.Count != 0) {
                        CaptureTheFlag.localRedFlagArrow[0].Update(CaptureTheFlag.redflag.transform.position);
                    }
                    if (CaptureTheFlag.localBlueFlagArrow.Count != 0) {
                        CaptureTheFlag.localBlueFlagArrow[0].Update(CaptureTheFlag.blueflag.transform.position);
                    }
                    if (CaptureTheFlag.redplayer05 == CaptureTheFlag.redPlayerWhoHasBlueFlag)
                        redplayer05TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getDeliverBlueFlagButtonSprite();
                    else
                        redplayer05TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getTakeBlueFlagButtonSprite();
                    bool CanUse = false;
                    if (CaptureTheFlag.blueflag != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.blueflag.transform.position) < 0.5f && !PlayerInCache.LocalPlayer.Data.IsDead && CaptureTheFlag.redPlayerWhoHasBlueFlag == null) {
                        CanUse = true;
                    }
                    else if (CaptureTheFlag.redflagbase != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.redflagbase.transform.position) < 0.5f && PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.redPlayerWhoHasBlueFlag) {
                        CanUse = true;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { redplayer05TakeFlagButton.Timer = redplayer05TakeFlagButton.MaxTimer; },
                CaptureTheFlag.getTakeBlueFlagButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Redplayer06 Kill
            redplayer06KillButton = new CustomButton(
                () => {
                    byte targetId = CaptureTheFlag.redplayer06currentTarget.PlayerId;
                    byte sourceId = CaptureTheFlag.redplayer06.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    redplayer06KillButton.Timer = redplayer06KillButton.MaxTimer;
                    CaptureTheFlag.redplayer06currentTarget = null;
                },
                () => { return CaptureTheFlag.redplayer06 != null && CaptureTheFlag.redplayer06 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return CaptureTheFlag.redplayer06currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !CaptureTheFlag.redplayer06IsReviving && PlayerInCache.LocalPlayer.PlayerControl != CaptureTheFlag.redPlayerWhoHasBlueFlag; },
                () => { redplayer06KillButton.Timer = redplayer06KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Redplayer06 TakeFlag Button
            redplayer06TakeFlagButton = new CustomButton(
                () => {
                    if (PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.redPlayerWhoHasBlueFlag) {
                        MessageWriter whichTeamScored = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhichTeamScored, Hazel.SendOption.Reliable, -1);
                        whichTeamScored.Write(1);
                        AmongUsClient.Instance.FinishRpcImmediately(whichTeamScored);
                        RPCProcedure.captureTheFlagWhichTeamScored(1);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        MessageWriter redPlayerStoleBlueFlag = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhoTookTheFlag, Hazel.SendOption.Reliable, -1);
                        redPlayerStoleBlueFlag.Write(targetId);
                        redPlayerStoleBlueFlag.Write(1);
                        AmongUsClient.Instance.FinishRpcImmediately(redPlayerStoleBlueFlag);
                        RPCProcedure.captureTheFlagWhoTookTheFlag(targetId, 1);
                    }
                    redplayer06TakeFlagButton.Timer = redplayer06TakeFlagButton.MaxTimer;
                },
                () => { return CaptureTheFlag.redplayer06 != null && CaptureTheFlag.redplayer06 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (CaptureTheFlag.localRedFlagArrow.Count != 0) {
                        CaptureTheFlag.localRedFlagArrow[0].Update(CaptureTheFlag.redflag.transform.position);
                    }
                    if (CaptureTheFlag.localBlueFlagArrow.Count != 0) {
                        CaptureTheFlag.localBlueFlagArrow[0].Update(CaptureTheFlag.blueflag.transform.position);
                    }
                    if (CaptureTheFlag.redplayer06 == CaptureTheFlag.redPlayerWhoHasBlueFlag)
                        redplayer06TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getDeliverBlueFlagButtonSprite();
                    else
                        redplayer06TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getTakeBlueFlagButtonSprite();
                    bool CanUse = false;
                    if (CaptureTheFlag.blueflag != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.blueflag.transform.position) < 0.5f && !PlayerInCache.LocalPlayer.Data.IsDead && CaptureTheFlag.redPlayerWhoHasBlueFlag == null) {
                        CanUse = true;
                    }
                    else if (CaptureTheFlag.redflagbase != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.redflagbase.transform.position) < 0.5f && PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.redPlayerWhoHasBlueFlag) {
                        CanUse = true;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { redplayer06TakeFlagButton.Timer = redplayer06TakeFlagButton.MaxTimer; },
                CaptureTheFlag.getTakeBlueFlagButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Redplayer07  Kill
            redplayer07KillButton = new CustomButton(
                () => {
                    byte targetId = CaptureTheFlag.redplayer07currentTarget.PlayerId;
                    byte sourceId = CaptureTheFlag.redplayer07.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    redplayer07KillButton.Timer = redplayer07KillButton.MaxTimer;
                    CaptureTheFlag.redplayer07currentTarget = null;
                },
                () => { return CaptureTheFlag.redplayer07 != null && CaptureTheFlag.redplayer07 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return CaptureTheFlag.redplayer07currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !CaptureTheFlag.redplayer07IsReviving && PlayerInCache.LocalPlayer.PlayerControl != CaptureTheFlag.redPlayerWhoHasBlueFlag; },
                () => { redplayer07KillButton.Timer = redplayer07KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Redplayer07 TakeFlag Button
            redplayer07TakeFlagButton = new CustomButton(
                () => {
                    if (PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.redPlayerWhoHasBlueFlag) {
                        MessageWriter whichTeamScored = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhichTeamScored, Hazel.SendOption.Reliable, -1);
                        whichTeamScored.Write(1);
                        AmongUsClient.Instance.FinishRpcImmediately(whichTeamScored);
                        RPCProcedure.captureTheFlagWhichTeamScored(1);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        MessageWriter redPlayerStoleBlueFlag = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhoTookTheFlag, Hazel.SendOption.Reliable, -1);
                        redPlayerStoleBlueFlag.Write(targetId);
                        redPlayerStoleBlueFlag.Write(1);
                        AmongUsClient.Instance.FinishRpcImmediately(redPlayerStoleBlueFlag);
                        RPCProcedure.captureTheFlagWhoTookTheFlag(targetId, 1);
                    }
                    redplayer07TakeFlagButton.Timer = redplayer07TakeFlagButton.MaxTimer;
                },
                () => { return CaptureTheFlag.redplayer07 != null && CaptureTheFlag.redplayer07 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (CaptureTheFlag.localRedFlagArrow.Count != 0) {
                        CaptureTheFlag.localRedFlagArrow[0].Update(CaptureTheFlag.redflag.transform.position);
                    }
                    if (CaptureTheFlag.localBlueFlagArrow.Count != 0) {
                        CaptureTheFlag.localBlueFlagArrow[0].Update(CaptureTheFlag.blueflag.transform.position);
                    }
                    if (CaptureTheFlag.redplayer07 == CaptureTheFlag.redPlayerWhoHasBlueFlag)
                        redplayer07TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getDeliverBlueFlagButtonSprite();
                    else
                        redplayer07TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getTakeBlueFlagButtonSprite();
                    bool CanUse = false;
                    if (CaptureTheFlag.blueflag != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.blueflag.transform.position) < 0.5f && !PlayerInCache.LocalPlayer.Data.IsDead && CaptureTheFlag.redPlayerWhoHasBlueFlag == null) {
                        CanUse = true;
                    }
                    else if (CaptureTheFlag.redflagbase != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.redflagbase.transform.position) < 0.5f && PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.redPlayerWhoHasBlueFlag) {
                        CanUse = true;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { redplayer07TakeFlagButton.Timer = redplayer07TakeFlagButton.MaxTimer; },
                CaptureTheFlag.getTakeBlueFlagButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Blueplayer01 Kill
            blueplayer01KillButton = new CustomButton(
                () => {
                    byte targetId = CaptureTheFlag.blueplayer01currentTarget.PlayerId;
                    byte sourceId = CaptureTheFlag.blueplayer01.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    blueplayer01KillButton.Timer = blueplayer01KillButton.MaxTimer;
                    CaptureTheFlag.blueplayer01currentTarget = null;
                },
                () => { return CaptureTheFlag.blueplayer01 != null && CaptureTheFlag.blueplayer01 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return CaptureTheFlag.blueplayer01currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !CaptureTheFlag.blueplayer01IsReviving && PlayerInCache.LocalPlayer.PlayerControl != CaptureTheFlag.bluePlayerWhoHasRedFlag; },
                () => { blueplayer01KillButton.Timer = blueplayer01KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Blueplayer01 TakeFlag Button
            blueplayer01TakeFlagButton = new CustomButton(
                () => {
                    if (PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.bluePlayerWhoHasRedFlag) {
                        MessageWriter whichTeamScored = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhichTeamScored, Hazel.SendOption.Reliable, -1);
                        whichTeamScored.Write(2);
                        AmongUsClient.Instance.FinishRpcImmediately(whichTeamScored);
                        RPCProcedure.captureTheFlagWhichTeamScored(2);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        MessageWriter bluePlayerStoleRedFlag = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhoTookTheFlag, Hazel.SendOption.Reliable, -1);
                        bluePlayerStoleRedFlag.Write(targetId);
                        bluePlayerStoleRedFlag.Write(2);
                        AmongUsClient.Instance.FinishRpcImmediately(bluePlayerStoleRedFlag);
                        RPCProcedure.captureTheFlagWhoTookTheFlag(targetId, 2);
                    }
                    blueplayer01TakeFlagButton.Timer = blueplayer01TakeFlagButton.MaxTimer;
                },
                () => { return CaptureTheFlag.blueplayer01 != null && CaptureTheFlag.blueplayer01 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (CaptureTheFlag.localRedFlagArrow.Count != 0) {
                        CaptureTheFlag.localRedFlagArrow[0].Update(CaptureTheFlag.redflag.transform.position);
                    }
                    if (CaptureTheFlag.localBlueFlagArrow.Count != 0) {
                        CaptureTheFlag.localBlueFlagArrow[0].Update(CaptureTheFlag.blueflag.transform.position);
                    }
                    if (CaptureTheFlag.blueplayer01 == CaptureTheFlag.bluePlayerWhoHasRedFlag)
                        blueplayer01TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getDeliverRedFlagButtonSprite();
                    else
                        blueplayer01TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getTakeRedFlagButtonSprite();
                    bool CanUse = false;
                    if (CaptureTheFlag.redflag != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.redflag.transform.position) < 0.5f && !PlayerInCache.LocalPlayer.Data.IsDead && CaptureTheFlag.bluePlayerWhoHasRedFlag == null) {
                        CanUse = true;
                    }
                    else if (CaptureTheFlag.blueflagbase != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.blueflagbase.transform.position) < 0.5f && PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.bluePlayerWhoHasRedFlag) {
                        CanUse = true;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { blueplayer01TakeFlagButton.Timer = blueplayer01TakeFlagButton.MaxTimer; },
                CaptureTheFlag.getTakeRedFlagButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Blueplayer02 Kill
            blueplayer02KillButton = new CustomButton(
                () => {
                    byte targetId = CaptureTheFlag.blueplayer02currentTarget.PlayerId;
                    byte sourceId = CaptureTheFlag.blueplayer02.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    blueplayer02KillButton.Timer = blueplayer02KillButton.MaxTimer;
                    CaptureTheFlag.blueplayer02currentTarget = null;
                },
                () => { return CaptureTheFlag.blueplayer02 != null && CaptureTheFlag.blueplayer02 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return CaptureTheFlag.blueplayer02currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !CaptureTheFlag.blueplayer02IsReviving && PlayerInCache.LocalPlayer.PlayerControl != CaptureTheFlag.bluePlayerWhoHasRedFlag; },
                () => { blueplayer02KillButton.Timer = blueplayer02KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Blueplayer02 TakeFlag Button
            blueplayer02TakeFlagButton = new CustomButton(
                () => {
                    if (PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.bluePlayerWhoHasRedFlag) {
                        MessageWriter whichTeamScored = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhichTeamScored, Hazel.SendOption.Reliable, -1);
                        whichTeamScored.Write(2);
                        AmongUsClient.Instance.FinishRpcImmediately(whichTeamScored);
                        RPCProcedure.captureTheFlagWhichTeamScored(2);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        MessageWriter bluePlayerStoleRedFlag = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhoTookTheFlag, Hazel.SendOption.Reliable, -1);
                        bluePlayerStoleRedFlag.Write(targetId);
                        bluePlayerStoleRedFlag.Write(2);
                        AmongUsClient.Instance.FinishRpcImmediately(bluePlayerStoleRedFlag);
                        RPCProcedure.captureTheFlagWhoTookTheFlag(targetId, 2);
                    }
                    blueplayer02TakeFlagButton.Timer = blueplayer02TakeFlagButton.MaxTimer;
                },
                () => { return CaptureTheFlag.blueplayer02 != null && CaptureTheFlag.blueplayer02 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (CaptureTheFlag.localRedFlagArrow.Count != 0) {
                        CaptureTheFlag.localRedFlagArrow[0].Update(CaptureTheFlag.redflag.transform.position);
                    }
                    if (CaptureTheFlag.localBlueFlagArrow.Count != 0) {
                        CaptureTheFlag.localBlueFlagArrow[0].Update(CaptureTheFlag.blueflag.transform.position);
                    }
                    if (CaptureTheFlag.blueplayer02 == CaptureTheFlag.bluePlayerWhoHasRedFlag)
                        blueplayer02TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getDeliverRedFlagButtonSprite();
                    else
                        blueplayer02TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getTakeRedFlagButtonSprite();
                    bool CanUse = false;
                    if (CaptureTheFlag.redflag != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.redflag.transform.position) < 0.5f && !PlayerInCache.LocalPlayer.Data.IsDead && CaptureTheFlag.bluePlayerWhoHasRedFlag == null) {
                        CanUse = true;
                    }
                    else if (CaptureTheFlag.blueflagbase != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.blueflagbase.transform.position) < 0.5f && PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.bluePlayerWhoHasRedFlag) {
                        CanUse = true;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { blueplayer02TakeFlagButton.Timer = blueplayer02TakeFlagButton.MaxTimer; },
                CaptureTheFlag.getTakeRedFlagButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Blueplayer03 Kill
            blueplayer03KillButton = new CustomButton(
                () => {
                    byte targetId = CaptureTheFlag.blueplayer03currentTarget.PlayerId;
                    byte sourceId = CaptureTheFlag.blueplayer03.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    blueplayer03KillButton.Timer = blueplayer03KillButton.MaxTimer;
                    CaptureTheFlag.blueplayer03currentTarget = null;
                },
                () => { return CaptureTheFlag.blueplayer03 != null && CaptureTheFlag.blueplayer03 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return CaptureTheFlag.blueplayer03currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !CaptureTheFlag.blueplayer03IsReviving && PlayerInCache.LocalPlayer.PlayerControl != CaptureTheFlag.bluePlayerWhoHasRedFlag; },
                () => { blueplayer03KillButton.Timer = blueplayer03KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Blueplayer03 TakeFlag Button
            blueplayer03TakeFlagButton = new CustomButton(
                () => {
                    if (PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.bluePlayerWhoHasRedFlag) {
                        MessageWriter whichTeamScored = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhichTeamScored, Hazel.SendOption.Reliable, -1);
                        whichTeamScored.Write(2);
                        AmongUsClient.Instance.FinishRpcImmediately(whichTeamScored);
                        RPCProcedure.captureTheFlagWhichTeamScored(2);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        MessageWriter bluePlayerStoleRedFlag = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhoTookTheFlag, Hazel.SendOption.Reliable, -1);
                        bluePlayerStoleRedFlag.Write(targetId);
                        bluePlayerStoleRedFlag.Write(2);
                        AmongUsClient.Instance.FinishRpcImmediately(bluePlayerStoleRedFlag);
                        RPCProcedure.captureTheFlagWhoTookTheFlag(targetId, 2);
                    }
                    blueplayer03TakeFlagButton.Timer = blueplayer03TakeFlagButton.MaxTimer;
                },
                () => { return CaptureTheFlag.blueplayer03 != null && CaptureTheFlag.blueplayer03 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (CaptureTheFlag.localRedFlagArrow.Count != 0) {
                        CaptureTheFlag.localRedFlagArrow[0].Update(CaptureTheFlag.redflag.transform.position);
                    }
                    if (CaptureTheFlag.localBlueFlagArrow.Count != 0) {
                        CaptureTheFlag.localBlueFlagArrow[0].Update(CaptureTheFlag.blueflag.transform.position);
                    }
                    if (CaptureTheFlag.blueplayer03 == CaptureTheFlag.bluePlayerWhoHasRedFlag)
                        blueplayer03TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getDeliverRedFlagButtonSprite();
                    else
                        blueplayer03TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getTakeRedFlagButtonSprite();
                    bool CanUse = false;
                    if (CaptureTheFlag.redflag != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.redflag.transform.position) < 0.5f && !PlayerInCache.LocalPlayer.Data.IsDead && CaptureTheFlag.bluePlayerWhoHasRedFlag == null) {
                        CanUse = true;
                    }
                    else if (CaptureTheFlag.blueflagbase != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.blueflagbase.transform.position) < 0.5f && PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.bluePlayerWhoHasRedFlag) {
                        CanUse = true;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { blueplayer03TakeFlagButton.Timer = blueplayer03TakeFlagButton.MaxTimer; },
                CaptureTheFlag.getTakeRedFlagButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Blueplayer04 Kill
            blueplayer04KillButton = new CustomButton(
                () => {
                    byte targetId = CaptureTheFlag.blueplayer04currentTarget.PlayerId;
                    byte sourceId = CaptureTheFlag.blueplayer04.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    blueplayer04KillButton.Timer = blueplayer04KillButton.MaxTimer;
                    CaptureTheFlag.blueplayer04currentTarget = null;
                },
                () => { return CaptureTheFlag.blueplayer04 != null && CaptureTheFlag.blueplayer04 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return CaptureTheFlag.blueplayer04currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !CaptureTheFlag.blueplayer04IsReviving && PlayerInCache.LocalPlayer.PlayerControl != CaptureTheFlag.bluePlayerWhoHasRedFlag; },
                () => { blueplayer04KillButton.Timer = blueplayer04KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Blueplayer04 TakeFlag Button
            blueplayer04TakeFlagButton = new CustomButton(
                () => {
                    if (PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.bluePlayerWhoHasRedFlag) {
                        MessageWriter whichTeamScored = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhichTeamScored, Hazel.SendOption.Reliable, -1);
                        whichTeamScored.Write(2);
                        AmongUsClient.Instance.FinishRpcImmediately(whichTeamScored);
                        RPCProcedure.captureTheFlagWhichTeamScored(2);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        MessageWriter bluePlayerStoleRedFlag = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhoTookTheFlag, Hazel.SendOption.Reliable, -1);
                        bluePlayerStoleRedFlag.Write(targetId);
                        bluePlayerStoleRedFlag.Write(2);
                        AmongUsClient.Instance.FinishRpcImmediately(bluePlayerStoleRedFlag);
                        RPCProcedure.captureTheFlagWhoTookTheFlag(targetId, 2);
                    }
                    blueplayer04TakeFlagButton.Timer = blueplayer04TakeFlagButton.MaxTimer;
                },
                () => { return CaptureTheFlag.blueplayer04 != null && CaptureTheFlag.blueplayer04 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (CaptureTheFlag.localRedFlagArrow.Count != 0) {
                        CaptureTheFlag.localRedFlagArrow[0].Update(CaptureTheFlag.redflag.transform.position);
                    }
                    if (CaptureTheFlag.localBlueFlagArrow.Count != 0) {
                        CaptureTheFlag.localBlueFlagArrow[0].Update(CaptureTheFlag.blueflag.transform.position);
                    }
                    if (CaptureTheFlag.blueplayer04 == CaptureTheFlag.bluePlayerWhoHasRedFlag)
                        blueplayer04TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getDeliverRedFlagButtonSprite();
                    else
                        blueplayer04TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getTakeRedFlagButtonSprite();
                    bool CanUse = false;
                    if (CaptureTheFlag.redflag != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.redflag.transform.position) < 0.5f && !PlayerInCache.LocalPlayer.Data.IsDead && CaptureTheFlag.bluePlayerWhoHasRedFlag == null) {
                        CanUse = true;
                    }
                    else if (CaptureTheFlag.blueflagbase != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.blueflagbase.transform.position) < 0.5f && PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.bluePlayerWhoHasRedFlag) {
                        CanUse = true;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { blueplayer04TakeFlagButton.Timer = blueplayer04TakeFlagButton.MaxTimer; },
                CaptureTheFlag.getTakeRedFlagButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Blueplayer05 Kill
            blueplayer05KillButton = new CustomButton(
                () => {
                    byte targetId = CaptureTheFlag.blueplayer05currentTarget.PlayerId;
                    byte sourceId = CaptureTheFlag.blueplayer05.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    blueplayer05KillButton.Timer = blueplayer05KillButton.MaxTimer;
                    CaptureTheFlag.blueplayer05currentTarget = null;
                },
                () => { return CaptureTheFlag.blueplayer05 != null && CaptureTheFlag.blueplayer05 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return CaptureTheFlag.blueplayer05currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !CaptureTheFlag.blueplayer05IsReviving && PlayerInCache.LocalPlayer.PlayerControl != CaptureTheFlag.bluePlayerWhoHasRedFlag; },
                () => { blueplayer05KillButton.Timer = blueplayer05KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Blueplayer05 TakeFlag Button
            blueplayer05TakeFlagButton = new CustomButton(
                () => {
                    if (PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.bluePlayerWhoHasRedFlag) {
                        MessageWriter whichTeamScored = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhichTeamScored, Hazel.SendOption.Reliable, -1);
                        whichTeamScored.Write(2);
                        AmongUsClient.Instance.FinishRpcImmediately(whichTeamScored);
                        RPCProcedure.captureTheFlagWhichTeamScored(2);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        MessageWriter bluePlayerStoleRedFlag = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhoTookTheFlag, Hazel.SendOption.Reliable, -1);
                        bluePlayerStoleRedFlag.Write(targetId);
                        bluePlayerStoleRedFlag.Write(2);
                        AmongUsClient.Instance.FinishRpcImmediately(bluePlayerStoleRedFlag);
                        RPCProcedure.captureTheFlagWhoTookTheFlag(targetId, 2);
                    }
                    blueplayer05TakeFlagButton.Timer = blueplayer05TakeFlagButton.MaxTimer;
                },
                () => { return CaptureTheFlag.blueplayer05 != null && CaptureTheFlag.blueplayer05 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (CaptureTheFlag.localRedFlagArrow.Count != 0) {
                        CaptureTheFlag.localRedFlagArrow[0].Update(CaptureTheFlag.redflag.transform.position);
                    }
                    if (CaptureTheFlag.localBlueFlagArrow.Count != 0) {
                        CaptureTheFlag.localBlueFlagArrow[0].Update(CaptureTheFlag.blueflag.transform.position);
                    }
                    if (CaptureTheFlag.blueplayer05 == CaptureTheFlag.bluePlayerWhoHasRedFlag)
                        blueplayer05TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getDeliverRedFlagButtonSprite();
                    else
                        blueplayer05TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getTakeRedFlagButtonSprite();
                    bool CanUse = false;
                    if (CaptureTheFlag.redflag != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.redflag.transform.position) < 0.5f && !PlayerInCache.LocalPlayer.Data.IsDead && CaptureTheFlag.bluePlayerWhoHasRedFlag == null) {
                        CanUse = true;
                    }
                    else if (CaptureTheFlag.blueflagbase != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.blueflagbase.transform.position) < 0.5f && PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.bluePlayerWhoHasRedFlag) {
                        CanUse = true;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { blueplayer05TakeFlagButton.Timer = blueplayer05TakeFlagButton.MaxTimer; },
                CaptureTheFlag.getTakeRedFlagButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Blueplayer06 Kill
            blueplayer06KillButton = new CustomButton(
                () => {
                    byte targetId = CaptureTheFlag.blueplayer06currentTarget.PlayerId;
                    byte sourceId = CaptureTheFlag.blueplayer06.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    blueplayer06KillButton.Timer = blueplayer06KillButton.MaxTimer;
                    CaptureTheFlag.blueplayer06currentTarget = null;
                },
                () => { return CaptureTheFlag.blueplayer06 != null && CaptureTheFlag.blueplayer06 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return CaptureTheFlag.blueplayer06currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !CaptureTheFlag.blueplayer06IsReviving && PlayerInCache.LocalPlayer.PlayerControl != CaptureTheFlag.bluePlayerWhoHasRedFlag; },
                () => { blueplayer06KillButton.Timer = blueplayer06KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Blueplayer06 TakeFlag Button
            blueplayer06TakeFlagButton = new CustomButton(
                () => {
                    if (PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.bluePlayerWhoHasRedFlag) {
                        MessageWriter whichTeamScored = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhichTeamScored, Hazel.SendOption.Reliable, -1);
                        whichTeamScored.Write(2);
                        AmongUsClient.Instance.FinishRpcImmediately(whichTeamScored);
                        RPCProcedure.captureTheFlagWhichTeamScored(2);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        MessageWriter bluePlayerStoleRedFlag = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhoTookTheFlag, Hazel.SendOption.Reliable, -1);
                        bluePlayerStoleRedFlag.Write(targetId);
                        bluePlayerStoleRedFlag.Write(2);
                        AmongUsClient.Instance.FinishRpcImmediately(bluePlayerStoleRedFlag);
                        RPCProcedure.captureTheFlagWhoTookTheFlag(targetId, 2);
                    }
                    blueplayer06TakeFlagButton.Timer = blueplayer06TakeFlagButton.MaxTimer;
                },
                () => { return CaptureTheFlag.blueplayer06 != null && CaptureTheFlag.blueplayer06 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (CaptureTheFlag.localRedFlagArrow.Count != 0) {
                        CaptureTheFlag.localRedFlagArrow[0].Update(CaptureTheFlag.redflag.transform.position);
                    }
                    if (CaptureTheFlag.localBlueFlagArrow.Count != 0) {
                        CaptureTheFlag.localBlueFlagArrow[0].Update(CaptureTheFlag.blueflag.transform.position);
                    }
                    if (CaptureTheFlag.blueplayer06 == CaptureTheFlag.bluePlayerWhoHasRedFlag)
                        blueplayer06TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getDeliverRedFlagButtonSprite();
                    else
                        blueplayer06TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getTakeRedFlagButtonSprite();
                    bool CanUse = false;
                    if (CaptureTheFlag.redflag != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.redflag.transform.position) < 0.5f && !PlayerInCache.LocalPlayer.Data.IsDead && CaptureTheFlag.bluePlayerWhoHasRedFlag == null) {
                        CanUse = true;
                    }
                    else if (CaptureTheFlag.blueflagbase != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.blueflagbase.transform.position) < 0.5f && PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.bluePlayerWhoHasRedFlag) {
                        CanUse = true;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { blueplayer06TakeFlagButton.Timer = blueplayer06TakeFlagButton.MaxTimer; },
                CaptureTheFlag.getTakeRedFlagButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Blueplayer07 Kill
            blueplayer07KillButton = new CustomButton(
                () => {
                    byte targetId = CaptureTheFlag.blueplayer07currentTarget.PlayerId;
                    byte sourceId = CaptureTheFlag.blueplayer07.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    blueplayer07KillButton.Timer = blueplayer07KillButton.MaxTimer;
                    CaptureTheFlag.blueplayer07currentTarget = null;
                },
                () => { return CaptureTheFlag.blueplayer07 != null && CaptureTheFlag.blueplayer07 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return CaptureTheFlag.blueplayer07currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !CaptureTheFlag.blueplayer07IsReviving && PlayerInCache.LocalPlayer.PlayerControl != CaptureTheFlag.bluePlayerWhoHasRedFlag; },
                () => { blueplayer07KillButton.Timer = blueplayer07KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Blueplayer07 TakeFlag Button
            blueplayer07TakeFlagButton = new CustomButton(
                () => {
                    if (PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.bluePlayerWhoHasRedFlag) {
                        MessageWriter whichTeamScored = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhichTeamScored, Hazel.SendOption.Reliable, -1);
                        whichTeamScored.Write(2);
                        AmongUsClient.Instance.FinishRpcImmediately(whichTeamScored);
                        RPCProcedure.captureTheFlagWhichTeamScored(2);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        MessageWriter bluePlayerStoleRedFlag = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.CaptureTheFlagWhoTookTheFlag, Hazel.SendOption.Reliable, -1);
                        bluePlayerStoleRedFlag.Write(targetId);
                        bluePlayerStoleRedFlag.Write(2);
                        AmongUsClient.Instance.FinishRpcImmediately(bluePlayerStoleRedFlag);
                        RPCProcedure.captureTheFlagWhoTookTheFlag(targetId, 2);
                    }
                    blueplayer07TakeFlagButton.Timer = blueplayer07TakeFlagButton.MaxTimer;
                },
                () => { return CaptureTheFlag.blueplayer07 != null && CaptureTheFlag.blueplayer07 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (CaptureTheFlag.localRedFlagArrow.Count != 0) {
                        CaptureTheFlag.localRedFlagArrow[0].Update(CaptureTheFlag.redflag.transform.position);
                    }
                    if (CaptureTheFlag.localBlueFlagArrow.Count != 0) {
                        CaptureTheFlag.localBlueFlagArrow[0].Update(CaptureTheFlag.blueflag.transform.position);
                    }
                    if (CaptureTheFlag.blueplayer07 == CaptureTheFlag.bluePlayerWhoHasRedFlag)
                        blueplayer07TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getDeliverRedFlagButtonSprite();
                    else
                        blueplayer07TakeFlagButton.actionButton.graphic.sprite = CaptureTheFlag.getTakeRedFlagButtonSprite();
                    bool CanUse = false;
                    if (CaptureTheFlag.redflag != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.redflag.transform.position) < 0.5f && !PlayerInCache.LocalPlayer.Data.IsDead && CaptureTheFlag.bluePlayerWhoHasRedFlag == null) {
                        CanUse = true;
                    }
                    else if (CaptureTheFlag.blueflagbase != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, CaptureTheFlag.blueflagbase.transform.position) < 0.5f && PlayerInCache.LocalPlayer.PlayerControl == CaptureTheFlag.bluePlayerWhoHasRedFlag) {
                        CanUse = true;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { blueplayer07TakeFlagButton.Timer = blueplayer07TakeFlagButton.MaxTimer; },
                CaptureTheFlag.getTakeRedFlagButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // stealer Kill
            stealerPlayerKillButton = new CustomButton(
                () => {
                    byte targetId = CaptureTheFlag.stealerPlayercurrentTarget.PlayerId;
                    byte sourceId = CaptureTheFlag.stealerPlayer.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    stealerPlayerKillButton.Timer = stealerPlayerKillButton.MaxTimer;
                    CaptureTheFlag.stealerPlayercurrentTarget = null;
                },
                () => { return CaptureTheFlag.stealerPlayer != null && CaptureTheFlag.stealerPlayer == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (CaptureTheFlag.localRedFlagArrow.Count != 0) {
                        CaptureTheFlag.localRedFlagArrow[0].Update(CaptureTheFlag.redflag.transform.position);
                    }
                    if (CaptureTheFlag.localBlueFlagArrow.Count != 0) {
                        CaptureTheFlag.localBlueFlagArrow[0].Update(CaptureTheFlag.blueflag.transform.position);
                    }
                    bool canUse = true;
                    foreach (GameObject spawns in CaptureTheFlag.stealerSpawns) {
                        if (spawns != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, spawns.transform.position) < 2.5f) {
                            canUse = false;
                        }
                    }
                    return canUse && CaptureTheFlag.stealerPlayercurrentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !CaptureTheFlag.stealerPlayerIsReviving;
                },
                () => { stealerPlayerKillButton.Timer = stealerPlayerKillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Police and Thief Mode
            // Policeplayer01 Kill
            policeplayer01KillButton = new CustomButton(
                () => {
                    byte targetId = PoliceAndThief.policeplayer01currentTarget.PlayerId;
                    byte sourceId = PoliceAndThief.policeplayer01.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    policeplayer01KillButton.Timer = policeplayer01KillButton.MaxTimer;
                    PoliceAndThief.policeplayer01currentTarget = null;
                },
                () => { return PoliceAndThief.policeplayer01 != null && PoliceAndThief.policeplayer01 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    bool CanUse = true;
                    if ((PoliceAndThief.cellbuttontwo != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.cellbuttontwo.transform.position) <= 3f || PoliceAndThief.cellbutton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.cellbutton.transform.position) <= 3f) && !PlayerInCache.LocalPlayer.Data.IsDead) {
                        CanUse = false;
                    }
                    return CanUse && PoliceAndThief.policeplayer01currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.policeplayer01IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { policeplayer01KillButton.Timer = policeplayer01KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Policeplayer01 Jail
            policeplayer01JailButton = new CustomButton(
                () => {
                    if (PoliceAndThief.policeplayer01currentTarget != null) {
                        PoliceAndThief.policeplayer01targetedPlayer = PoliceAndThief.policeplayer01currentTarget;
                        policeplayer01JailButton.HasEffect = true;
                    }
                },
                () => { return PoliceAndThief.policeplayer01 != null && PoliceAndThief.policeplayer01 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (policeplayer01JailButton.isEffectActive && PoliceAndThief.policeplayer01targetedPlayer != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.policeplayer01targetedPlayer.transform.position) > GameOptionsData.KillDistances[Mathf.Clamp(GameOptionsManager.Instance.currentGameOptions.GetInt(Int32OptionNames.KillDistance), 0, 2)]) {
                        PoliceAndThief.policeplayer01targetedPlayer = null;
                        policeplayer01JailButton.Timer = 0f;
                        policeplayer01JailButton.isEffectActive = false;
                    }
                    bool CanUse = true;
                    if ((PoliceAndThief.jewelbuttontwo != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbuttontwo.transform.position) <= 3f || PoliceAndThief.jewelbutton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbutton.transform.position) <= 3f) && !PlayerInCache.LocalPlayer.Data.IsDead) {
                        CanUse = false;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.policeplayer01IsReviving && PoliceAndThief.policeplayer01currentTarget != null;
                },
                () => {
                    PoliceAndThief.policeplayer01targetedPlayer = null;
                    policeplayer01JailButton.isEffectActive = false;
                    policeplayer01JailButton.Timer = policeplayer01JailButton.MaxTimer;
                    policeplayer01JailButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                },
                PoliceAndThief.getCaptureThiefButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                true,
                PoliceAndThief.captureThiefTime,
                () => {
                    if (PoliceAndThief.policeplayer01targetedPlayer != null && !PoliceAndThief.policeplayer01targetedPlayer.Data.IsDead) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefJail, Hazel.SendOption.Reliable, -1);
                        writer.Write(PoliceAndThief.policeplayer01targetedPlayer.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.policeandThiefJail(PoliceAndThief.policeplayer01targetedPlayer.PlayerId);
                        PoliceAndThief.policeplayer01targetedPlayer = null;
                        policeplayer01JailButton.Timer = policeplayer01JailButton.MaxTimer;
                    }
                }
            );

            // Policeplayer01 Light
            policeplayer01LightButton = new CustomButton(
                () => {
                    PoliceAndThief.policeplayer01lightTimer = 10;
                },
                () => { return PoliceAndThief.policeplayer01 != null && PoliceAndThief.policeplayer01 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.policeplayer01IsReviving; },
                () => {
                    policeplayer01LightButton.Timer = policeplayer01LightButton.MaxTimer;
                    policeplayer01LightButton.isEffectActive = false;
                    policeplayer01LightButton.actionButton.graphic.color = Palette.EnabledColor;
                },
                PoliceAndThief.getLightButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T,
                true,
                10,
                () => { policeplayer01LightButton.Timer = policeplayer01LightButton.MaxTimer; }
            );

            // Policeplayer02 Kill
            policeplayer02KillButton = new CustomButton(
                () => {
                    byte targetId = PoliceAndThief.policeplayer02currentTarget.PlayerId;
                    byte sourceId = PoliceAndThief.policeplayer02.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    policeplayer02KillButton.Timer = policeplayer02KillButton.MaxTimer;
                    PoliceAndThief.policeplayer02currentTarget = null;
                },
                () => { return PoliceAndThief.policeplayer02 != null && PoliceAndThief.policeplayer02 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    bool CanUse = true;
                    if ((PoliceAndThief.cellbuttontwo != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.cellbuttontwo.transform.position) <= 3f || PoliceAndThief.cellbutton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.cellbutton.transform.position) <= 3f) && !PlayerInCache.LocalPlayer.Data.IsDead) {
                        CanUse = false;
                    }
                    return CanUse && PoliceAndThief.policeplayer02currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.policeplayer02IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { policeplayer02KillButton.Timer = policeplayer02KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Policeplayer02 Tase
            policeplayer02TaseButton = new CustomButton(
                () => {
                    PlayerControl target = PoliceAndThief.GetTasedPlayer(2 * 0.2f, 6, true);

                    if (target == null) {
                        target = PlayerInCache.LocalPlayer.PlayerControl;
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefsTased, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.policeandThiefsTased(target.PlayerId);

                    policeplayer02TaseButton.Timer = policeplayer02TaseButton.MaxTimer;
                    PoliceAndThief.policeplayer02currentTarget = null; 

                    target = null; 
                },
                () => { return PoliceAndThief.policeplayer02 != null && PoliceAndThief.policeplayer02 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (PoliceAndThief.policeplayer02Taser == null) {
                        PoliceAndThief.policeplayer02Taser = new GameObject("Weapon");
                        var renderer = PoliceAndThief.policeplayer02Taser.AddComponent<SpriteRenderer>();

                        renderer.sprite = PoliceAndThief.getTaserSprite();
                        renderer.transform.parent = PoliceAndThief.policeplayer02.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {
                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        PoliceAndThief.policeplayer02mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = PoliceAndThief.policeplayer02.transform.position + new Vector3(0.8f * (float)Math.Cos(PoliceAndThief.policeplayer02mouseAngle), 0.8f * (float)Math.Sin(PoliceAndThief.policeplayer02mouseAngle));
                        PoliceAndThief.policeplayer02Taser.transform.position += (targetPosition - PoliceAndThief.policeplayer02Taser.transform.position) * 0.4f;
                        PoliceAndThief.policeplayer02Taser.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(PoliceAndThief.policeplayer02mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(PoliceAndThief.policeplayer02mouseAngle) < 0.0) {
                            if (PoliceAndThief.policeplayer02Taser.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                PoliceAndThief.policeplayer02Taser.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (PoliceAndThief.policeplayer02Taser.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                PoliceAndThief.policeplayer02Taser.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    bool CanUse = true;
                    if ((PoliceAndThief.jewelbuttontwo != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbuttontwo.transform.position) <= 3f || PoliceAndThief.jewelbutton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbutton.transform.position) <= 3f) && !PlayerInCache.LocalPlayer.Data.IsDead) {
                        CanUse = false;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.policeplayer02IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { policeplayer02TaseButton.Timer = policeplayer02TaseButton.MaxTimer; },
                PoliceAndThief.getTaserThiefButtonSprite(),
                 CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // Policeplayer02 Light
            policeplayer02LightButton = new CustomButton(
                () => {
                    PoliceAndThief.policeplayer02lightTimer = 10;
                },
                () => { return PoliceAndThief.policeplayer02 != null && PoliceAndThief.policeplayer02 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.policeplayer02IsReviving; },
                () => {
                    policeplayer02LightButton.Timer = policeplayer02LightButton.MaxTimer;
                    policeplayer02LightButton.isEffectActive = false;
                    policeplayer02LightButton.actionButton.graphic.color = Palette.EnabledColor;
                },
                PoliceAndThief.getLightButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T,
                true,
                10,
                () => { policeplayer02LightButton.Timer = policeplayer02LightButton.MaxTimer; }
            );

            // Policeplayer03 Kill
            policeplayer03KillButton = new CustomButton(
                () => {
                    byte targetId = PoliceAndThief.policeplayer03currentTarget.PlayerId;
                    byte sourceId = PoliceAndThief.policeplayer03.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    policeplayer03KillButton.Timer = policeplayer03KillButton.MaxTimer;
                    PoliceAndThief.policeplayer03currentTarget = null;
                },
                () => { return PoliceAndThief.policeplayer03 != null && PoliceAndThief.policeplayer03 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    bool CanUse = true;
                    if ((PoliceAndThief.cellbuttontwo != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.cellbuttontwo.transform.position) <= 3f || PoliceAndThief.cellbutton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.cellbutton.transform.position) <= 3f) && !PlayerInCache.LocalPlayer.Data.IsDead) {
                        CanUse = false;
                    }
                    return CanUse && PoliceAndThief.policeplayer03currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.policeplayer03IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { policeplayer03KillButton.Timer = policeplayer03KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Policeplayer03 Jail
            policeplayer03JailButton = new CustomButton(
                () => {
                    if (PoliceAndThief.policeplayer03currentTarget != null) {
                        PoliceAndThief.policeplayer03targetedPlayer = PoliceAndThief.policeplayer03currentTarget;
                        policeplayer03JailButton.HasEffect = true;
                    }
                },
                () => { return PoliceAndThief.policeplayer03 != null && PoliceAndThief.policeplayer03 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (policeplayer03JailButton.isEffectActive && PoliceAndThief.policeplayer03targetedPlayer != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.policeplayer03targetedPlayer.transform.position) > GameOptionsData.KillDistances[Mathf.Clamp(GameOptionsManager.Instance.currentGameOptions.GetInt(Int32OptionNames.KillDistance), 0, 2)]) {
                        PoliceAndThief.policeplayer03targetedPlayer = null;
                        policeplayer03JailButton.Timer = 0f;
                        policeplayer03JailButton.isEffectActive = false;
                    }

                    bool CanUse = true;
                    if ((PoliceAndThief.jewelbuttontwo != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbuttontwo.transform.position) <= 3f || PoliceAndThief.jewelbutton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbutton.transform.position) <= 3f) && !PlayerInCache.LocalPlayer.Data.IsDead) {
                        CanUse = false;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.policeplayer03IsReviving && PoliceAndThief.policeplayer03currentTarget != null;
                },
                () => {
                    PoliceAndThief.policeplayer03targetedPlayer = null;
                    policeplayer03JailButton.isEffectActive = false;
                    policeplayer03JailButton.Timer = policeplayer03JailButton.MaxTimer;
                    policeplayer03JailButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                },
                PoliceAndThief.getCaptureThiefButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                true,
                PoliceAndThief.captureThiefTime,
                () => {
                    if (PoliceAndThief.policeplayer03targetedPlayer != null && !PoliceAndThief.policeplayer03targetedPlayer.Data.IsDead) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefJail, Hazel.SendOption.Reliable, -1);
                        writer.Write(PoliceAndThief.policeplayer03targetedPlayer.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.policeandThiefJail(PoliceAndThief.policeplayer03targetedPlayer.PlayerId);
                        PoliceAndThief.policeplayer03targetedPlayer = null;
                        policeplayer03JailButton.Timer = policeplayer03JailButton.MaxTimer;
                    }
                }
            );

            // Policeplayer03 Light
            policeplayer03LightButton = new CustomButton(
                () => {
                    PoliceAndThief.policeplayer03lightTimer = 10;
                },
                () => { return PoliceAndThief.policeplayer03 != null && PoliceAndThief.policeplayer03 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.policeplayer03IsReviving; },
                () => {
                    policeplayer03LightButton.Timer = policeplayer03LightButton.MaxTimer;
                    policeplayer03LightButton.isEffectActive = false;
                    policeplayer03LightButton.actionButton.graphic.color = Palette.EnabledColor;
                },
                PoliceAndThief.getLightButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T,
                true,
                10,
                () => { policeplayer03LightButton.Timer = policeplayer03LightButton.MaxTimer; }
            );

            // Policeplayer04 Kill
            policeplayer04KillButton = new CustomButton(
                () => {
                    byte targetId = PoliceAndThief.policeplayer04currentTarget.PlayerId;
                    byte sourceId = PoliceAndThief.policeplayer04.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    policeplayer04KillButton.Timer = policeplayer04KillButton.MaxTimer;
                    PoliceAndThief.policeplayer04currentTarget = null;
                },
                () => { return PoliceAndThief.policeplayer04 != null && PoliceAndThief.policeplayer04 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    bool CanUse = true;
                    if ((PoliceAndThief.cellbuttontwo != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.cellbuttontwo.transform.position) <= 3f || PoliceAndThief.cellbutton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.cellbutton.transform.position) <= 3f) && !PlayerInCache.LocalPlayer.Data.IsDead) {
                        CanUse = false;
                    }
                    return CanUse && PoliceAndThief.policeplayer04currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.policeplayer04IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { policeplayer04KillButton.Timer = policeplayer04KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Policeplayer04 Tase
            policeplayer04TaseButton = new CustomButton(
                () => {
                    PlayerControl target = PoliceAndThief.GetTasedPlayer(2 * 0.2f, 6, false);

                    if (target == null) {
                        target = PlayerInCache.LocalPlayer.PlayerControl;
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefsTased, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.policeandThiefsTased(target.PlayerId);

                    policeplayer04TaseButton.Timer = policeplayer04TaseButton.MaxTimer;
                    PoliceAndThief.policeplayer04currentTarget = null;

                    target = null;
                },
                () => { return PoliceAndThief.policeplayer04 != null && PoliceAndThief.policeplayer04 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (PoliceAndThief.policeplayer04Taser == null) {
                        PoliceAndThief.policeplayer04Taser = new GameObject("Weapon");
                        var renderer = PoliceAndThief.policeplayer04Taser.AddComponent<SpriteRenderer>();

                        renderer.sprite = PoliceAndThief.getTaserSprite();
                        renderer.transform.parent = PoliceAndThief.policeplayer04.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {
                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        PoliceAndThief.policeplayer04mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = PoliceAndThief.policeplayer04.transform.position + new Vector3(0.8f * (float)Math.Cos(PoliceAndThief.policeplayer04mouseAngle), 0.8f * (float)Math.Sin(PoliceAndThief.policeplayer04mouseAngle));
                        PoliceAndThief.policeplayer04Taser.transform.position += (targetPosition - PoliceAndThief.policeplayer04Taser.transform.position) * 0.4f;
                        PoliceAndThief.policeplayer04Taser.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(PoliceAndThief.policeplayer04mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(PoliceAndThief.policeplayer04mouseAngle) < 0.0) {
                            if (PoliceAndThief.policeplayer04Taser.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                PoliceAndThief.policeplayer04Taser.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (PoliceAndThief.policeplayer04Taser.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                PoliceAndThief.policeplayer04Taser.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    bool CanUse = true;
                    if ((PoliceAndThief.jewelbuttontwo != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbuttontwo.transform.position) <= 3f || PoliceAndThief.jewelbutton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbutton.transform.position) <= 3f) && !PlayerInCache.LocalPlayer.Data.IsDead) {
                        CanUse = false;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.policeplayer04IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { policeplayer04TaseButton.Timer = policeplayer04TaseButton.MaxTimer; },
                PoliceAndThief.getTaserThiefButtonSprite(),
                 CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // Policeplayer04 Light
            policeplayer04LightButton = new CustomButton(
                () => {
                    PoliceAndThief.policeplayer04lightTimer = 10;
                },
                () => { return PoliceAndThief.policeplayer04 != null && PoliceAndThief.policeplayer04 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.policeplayer04IsReviving; },
                () => {
                    policeplayer04LightButton.Timer = policeplayer04LightButton.MaxTimer;
                    policeplayer04LightButton.isEffectActive = false;
                    policeplayer04LightButton.actionButton.graphic.color = Palette.EnabledColor;
                },
                PoliceAndThief.getLightButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T,
                true,
                10,
                () => { policeplayer04LightButton.Timer = policeplayer04LightButton.MaxTimer; }
            );

            // Policeplayer05 Kill
            policeplayer05KillButton = new CustomButton(
                () => {
                    byte targetId = PoliceAndThief.policeplayer05currentTarget.PlayerId;
                    byte sourceId = PoliceAndThief.policeplayer05.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    policeplayer05KillButton.Timer = policeplayer05KillButton.MaxTimer;
                    PoliceAndThief.policeplayer05currentTarget = null;
                },
                () => { return PoliceAndThief.policeplayer05 != null && PoliceAndThief.policeplayer05 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    bool CanUse = true;
                    if ((PoliceAndThief.cellbuttontwo != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.cellbuttontwo.transform.position) <= 3f || PoliceAndThief.cellbutton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.cellbutton.transform.position) <= 3f) && !PlayerInCache.LocalPlayer.Data.IsDead) {
                        CanUse = false;
                    }
                    return CanUse && PoliceAndThief.policeplayer05currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.policeplayer05IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { policeplayer05KillButton.Timer = policeplayer05KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Policeplayer05 Jail
            policeplayer05JailButton = new CustomButton(
                () => {
                    if (PoliceAndThief.policeplayer05currentTarget != null) {
                        PoliceAndThief.policeplayer05targetedPlayer = PoliceAndThief.policeplayer05currentTarget;
                        policeplayer05JailButton.HasEffect = true;
                    }
                },
                () => { return PoliceAndThief.policeplayer05 != null && PoliceAndThief.policeplayer05 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (policeplayer05JailButton.isEffectActive && PoliceAndThief.policeplayer05targetedPlayer != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.policeplayer05targetedPlayer.transform.position) > GameOptionsData.KillDistances[Mathf.Clamp(GameOptionsManager.Instance.currentGameOptions.GetInt(Int32OptionNames.KillDistance), 0, 2)]) {
                        PoliceAndThief.policeplayer05targetedPlayer = null;
                        policeplayer05JailButton.Timer = 0f;
                        policeplayer05JailButton.isEffectActive = false;
                    }

                    bool CanUse = true;
                    if ((PoliceAndThief.jewelbuttontwo != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbuttontwo.transform.position) <= 3f || PoliceAndThief.jewelbutton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbutton.transform.position) <= 3f) && !PlayerInCache.LocalPlayer.Data.IsDead) {
                        CanUse = false;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.policeplayer05IsReviving && PoliceAndThief.policeplayer05currentTarget != null;
                },
                () => {
                    PoliceAndThief.policeplayer05targetedPlayer = null;
                    policeplayer05JailButton.isEffectActive = false;
                    policeplayer05JailButton.Timer = policeplayer05JailButton.MaxTimer;
                    policeplayer05JailButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                },
                PoliceAndThief.getCaptureThiefButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                true,
                PoliceAndThief.captureThiefTime,
                () => {
                    if (PoliceAndThief.policeplayer05targetedPlayer != null && !PoliceAndThief.policeplayer05targetedPlayer.Data.IsDead) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefJail, Hazel.SendOption.Reliable, -1);
                        writer.Write(PoliceAndThief.policeplayer05targetedPlayer.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.policeandThiefJail(PoliceAndThief.policeplayer05targetedPlayer.PlayerId);
                        PoliceAndThief.policeplayer05targetedPlayer = null;
                        policeplayer05JailButton.Timer = policeplayer05JailButton.MaxTimer;
                    }
                }
            );

            // Policeplayer05 Light
            policeplayer05LightButton = new CustomButton(
                () => {
                    PoliceAndThief.policeplayer05lightTimer = 10;
                },
                () => { return PoliceAndThief.policeplayer05 != null && PoliceAndThief.policeplayer05 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.policeplayer05IsReviving; },
                () => {
                    policeplayer05LightButton.Timer = policeplayer05LightButton.MaxTimer;
                    policeplayer05LightButton.isEffectActive = false;
                    policeplayer05LightButton.actionButton.graphic.color = Palette.EnabledColor;
                },
                PoliceAndThief.getLightButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T,
                true,
                10,
                () => { policeplayer05LightButton.Timer = policeplayer05LightButton.MaxTimer; }
            );

            // Policeplayer06 Kill
            policeplayer06KillButton = new CustomButton(
                () => {
                    byte targetId = PoliceAndThief.policeplayer06currentTarget.PlayerId;
                    byte sourceId = PoliceAndThief.policeplayer06.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    policeplayer06KillButton.Timer = policeplayer06KillButton.MaxTimer;
                    PoliceAndThief.policeplayer06currentTarget = null;
                },
                () => { return PoliceAndThief.policeplayer06 != null && PoliceAndThief.policeplayer06 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    bool CanUse = true;
                    if ((PoliceAndThief.cellbuttontwo != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.cellbuttontwo.transform.position) <= 3f || PoliceAndThief.cellbutton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.cellbutton.transform.position) <= 3f) && !PlayerInCache.LocalPlayer.Data.IsDead) {
                        CanUse = false;
                    }
                    return CanUse && PoliceAndThief.policeplayer06currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.policeplayer06IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { policeplayer06KillButton.Timer = policeplayer06KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Policeplayer06 Jail
            policeplayer06JailButton = new CustomButton(
                () => {
                    if (PoliceAndThief.policeplayer06currentTarget != null) {
                        PoliceAndThief.policeplayer06targetedPlayer = PoliceAndThief.policeplayer06currentTarget;
                        policeplayer06JailButton.HasEffect = true;
                    }
                },
                () => { return PoliceAndThief.policeplayer06 != null && PoliceAndThief.policeplayer06 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (policeplayer06JailButton.isEffectActive && PoliceAndThief.policeplayer06targetedPlayer != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.policeplayer06targetedPlayer.transform.position) > GameOptionsData.KillDistances[Mathf.Clamp(GameOptionsManager.Instance.currentGameOptions.GetInt(Int32OptionNames.KillDistance), 0, 2)]) {
                        PoliceAndThief.policeplayer06targetedPlayer = null;
                        policeplayer06JailButton.Timer = 0f;
                        policeplayer06JailButton.isEffectActive = false;
                    }

                    bool CanUse = true;
                    if ((PoliceAndThief.jewelbuttontwo != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbuttontwo.transform.position) <= 3f || PoliceAndThief.jewelbutton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbutton.transform.position) <= 3f) && !PlayerInCache.LocalPlayer.Data.IsDead) {
                        CanUse = false;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.policeplayer06IsReviving && PoliceAndThief.policeplayer06currentTarget != null;
                },
                () => {
                    PoliceAndThief.policeplayer06targetedPlayer = null;
                    policeplayer06JailButton.isEffectActive = false;
                    policeplayer06JailButton.Timer = policeplayer06JailButton.MaxTimer;
                    policeplayer06JailButton.actionButton.cooldownTimerText.color = Palette.EnabledColor;
                },
                PoliceAndThief.getCaptureThiefButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                true,
                PoliceAndThief.captureThiefTime,
                () => {
                    if (PoliceAndThief.policeplayer06targetedPlayer != null && !PoliceAndThief.policeplayer06targetedPlayer.Data.IsDead) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefJail, Hazel.SendOption.Reliable, -1);
                        writer.Write(PoliceAndThief.policeplayer06targetedPlayer.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.policeandThiefJail(PoliceAndThief.policeplayer06targetedPlayer.PlayerId);
                        PoliceAndThief.policeplayer06targetedPlayer = null;
                        policeplayer06JailButton.Timer = policeplayer06JailButton.MaxTimer;
                    }
                }
            );

            // Policeplayer06 Light
            policeplayer06LightButton = new CustomButton(
                () => {
                    PoliceAndThief.policeplayer06lightTimer = 10;
                },
                () => { return PoliceAndThief.policeplayer06 != null && PoliceAndThief.policeplayer06 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.policeplayer06IsReviving; },
                () => {
                    policeplayer06LightButton.Timer = policeplayer06LightButton.MaxTimer;
                    policeplayer06LightButton.isEffectActive = false;
                    policeplayer06LightButton.actionButton.graphic.color = Palette.EnabledColor;
                },
                PoliceAndThief.getLightButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T,
                true,
                10,
                () => { policeplayer06LightButton.Timer = policeplayer06LightButton.MaxTimer; }
            );

            // Thiefplayer01 Kill
            thiefplayer01KillButton = new CustomButton(
                () => {
                    byte targetId = PoliceAndThief.thiefplayer01currentTarget.PlayerId;
                    byte sourceId = PoliceAndThief.thiefplayer01.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    thiefplayer01KillButton.Timer = thiefplayer01KillButton.MaxTimer;
                    PoliceAndThief.thiefplayer01currentTarget = null;
                },
                () => { return PoliceAndThief.thiefplayer01 != null && PoliceAndThief.thiefplayer01 == PlayerInCache.LocalPlayer.PlayerControl && PoliceAndThief.whoCanThiefsKill != 2; },
                () => {
                    bool canUse = false;
                    switch (PoliceAndThief.whoCanThiefsKill) {
                        case 0:
                            if (PoliceAndThief.policeplayer02 != null && PoliceAndThief.thiefplayer01currentTarget == PoliceAndThief.policeplayer02 || PoliceAndThief.policeplayer04 != null && PoliceAndThief.thiefplayer01currentTarget == PoliceAndThief.policeplayer04) {
                                canUse = true;
                            }
                            break;
                        case 1:
                            canUse = true;
                            break;
                    }
                    return canUse && PoliceAndThief.thiefplayer01currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !PoliceAndThief.thiefplayer01IsReviving && !PoliceAndThief.thiefplayer01IsStealing; },
                () => { thiefplayer01KillButton.Timer = thiefplayer01KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Thiefplayer01 FreeThief Button
            thiefplayer01FreeThiefButton = new CustomButton(
                () => {
                    MessageWriter thiefFree = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefFreeThief, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(thiefFree);
                    RPCProcedure.policeandThiefFreeThief();
                    thiefplayer01FreeThiefButton.Timer = thiefplayer01FreeThiefButton.MaxTimer;
                },
                () => { return PoliceAndThief.thiefplayer01 != null && PoliceAndThief.thiefplayer01 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (PoliceAndThief.localThiefReleaseArrow.Count != 0) {
                        PoliceAndThief.localThiefReleaseArrow[0].Update(PoliceAndThief.cellbutton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            PoliceAndThief.localThiefReleaseArrow[1].Update(PoliceAndThief.cellbuttontwo.transform.position);
                        }
                    }
                    if (PoliceAndThief.localThiefDeliverArrow.Count != 0) {
                        PoliceAndThief.localThiefDeliverArrow[0].Update(PoliceAndThief.jewelbutton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            PoliceAndThief.localThiefDeliverArrow[1].Update(PoliceAndThief.jewelbuttontwo.transform.position);
                        }
                    }

                    bool CanUse = false;
                    if (PoliceAndThief.currentThiefsCaptured > 0) {
                        if ((PoliceAndThief.cellbuttontwo != null && Vector2.Distance(PoliceAndThief.thiefplayer01.transform.position, PoliceAndThief.cellbuttontwo.transform.position) < 0.4f || Vector2.Distance(PoliceAndThief.thiefplayer01.transform.position, PoliceAndThief.cellbutton.transform.position) < 0.4f) && !PoliceAndThief.thiefplayer01.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer01IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { thiefplayer01FreeThiefButton.Timer = thiefplayer01FreeThiefButton.MaxTimer; },
                PoliceAndThief.getFreeThiefButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T
            );

            // Thiefplayer01 Take/Deliver Jewel Button
            thiefplayer01TakeDeliverJewelButton = new CustomButton(
                () => {
                    if (PoliceAndThief.thiefplayer01IsStealing) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte jewelId = PoliceAndThief.thiefplayer01JewelId;
                        MessageWriter thiefScore = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefDeliverJewel, Hazel.SendOption.Reliable, -1);
                        thiefScore.Write(targetId);
                        thiefScore.Write(jewelId);
                        AmongUsClient.Instance.FinishRpcImmediately(thiefScore);
                        RPCProcedure.policeandThiefDeliverJewel(targetId, jewelId);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte jewelId = PoliceAndThief.thiefplayer01JewelId;
                        MessageWriter thiefWhoTookATreasure = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefTakeJewel, Hazel.SendOption.Reliable, -1);
                        thiefWhoTookATreasure.Write(targetId);
                        thiefWhoTookATreasure.Write(jewelId);
                        AmongUsClient.Instance.FinishRpcImmediately(thiefWhoTookATreasure);
                        RPCProcedure.policeandThiefTakeJewel(targetId, jewelId);
                    }
                    thiefplayer01TakeDeliverJewelButton.Timer = thiefplayer01TakeDeliverJewelButton.MaxTimer;
                },
                () => { return PoliceAndThief.thiefplayer01 != null && PoliceAndThief.thiefplayer01 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (PoliceAndThief.thiefplayer01IsStealing)
                        thiefplayer01TakeDeliverJewelButton.actionButton.graphic.sprite = PoliceAndThief.getDeliverJewelButtonSprite();
                    else
                        thiefplayer01TakeDeliverJewelButton.actionButton.graphic.sprite = PoliceAndThief.getTakeJewelButtonSprite();
                    bool CanUse = false;
                    if (PoliceAndThief.thiefTreasures.Count != 0) {
                        foreach (GameObject jewel in PoliceAndThief.thiefTreasures) {
                            if (jewel != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, jewel.transform.position) < 0.5f && !PoliceAndThief.thiefplayer01IsStealing) {
                                switch (jewel.name) {
                                    case "jewel01":
                                        PoliceAndThief.thiefplayer01JewelId = 1;
                                        CanUse = !PoliceAndThief.jewel01BeingStealed;
                                        break;
                                    case "jewel02":
                                        PoliceAndThief.thiefplayer01JewelId = 2;
                                        CanUse = !PoliceAndThief.jewel02BeingStealed;
                                        break;
                                    case "jewel03":
                                        PoliceAndThief.thiefplayer01JewelId = 3;
                                        CanUse = !PoliceAndThief.jewel03BeingStealed;
                                        break;
                                    case "jewel04":
                                        PoliceAndThief.thiefplayer01JewelId = 4;
                                        CanUse = !PoliceAndThief.jewel04BeingStealed;
                                        break;
                                    case "jewel05":
                                        PoliceAndThief.thiefplayer01JewelId = 5;
                                        CanUse = !PoliceAndThief.jewel05BeingStealed;
                                        break;
                                    case "jewel06":
                                        PoliceAndThief.thiefplayer01JewelId = 6;
                                        CanUse = !PoliceAndThief.jewel06BeingStealed;
                                        break;
                                    case "jewel07":
                                        PoliceAndThief.thiefplayer01JewelId = 7;
                                        CanUse = !PoliceAndThief.jewel07BeingStealed;
                                        break;
                                    case "jewel08":
                                        PoliceAndThief.thiefplayer01JewelId = 8;
                                        CanUse = !PoliceAndThief.jewel08BeingStealed;
                                        break;
                                    case "jewel09":
                                        PoliceAndThief.thiefplayer01JewelId = 9;
                                        CanUse = !PoliceAndThief.jewel09BeingStealed;
                                        break;
                                    case "jewel10":
                                        PoliceAndThief.thiefplayer01JewelId = 10;
                                        CanUse = !PoliceAndThief.jewel10BeingStealed;
                                        break;
                                    case "jewel11":
                                        PoliceAndThief.thiefplayer01JewelId = 11;
                                        CanUse = !PoliceAndThief.jewel11BeingStealed;
                                        break;
                                    case "jewel12":
                                        PoliceAndThief.thiefplayer01JewelId = 12;
                                        CanUse = !PoliceAndThief.jewel12BeingStealed;
                                        break;
                                    case "jewel13":
                                        PoliceAndThief.thiefplayer01JewelId = 13;
                                        CanUse = !PoliceAndThief.jewel13BeingStealed;
                                        break;
                                    case "jewel14":
                                        PoliceAndThief.thiefplayer01JewelId = 14;
                                        CanUse = !PoliceAndThief.jewel14BeingStealed;
                                        break;
                                    case "jewel15":
                                        PoliceAndThief.thiefplayer01JewelId = 15;
                                        CanUse = !PoliceAndThief.jewel15BeingStealed;
                                        break;
                                }
                            }
                            else if ((PoliceAndThief.jewelbuttontwo != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbuttontwo.transform.position) < 0.5f || PoliceAndThief.jewelbutton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbutton.transform.position) < 0.5f) && PoliceAndThief.thiefplayer01IsStealing) {
                                CanUse = true;
                            }
                        }

                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer01IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { thiefplayer01TakeDeliverJewelButton.Timer = thiefplayer01TakeDeliverJewelButton.MaxTimer; },
                PoliceAndThief.getTakeJewelButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Thiefplayer02 Kill
            thiefplayer02KillButton = new CustomButton(
                () => {
                    byte targetId = PoliceAndThief.thiefplayer02currentTarget.PlayerId;
                    byte sourceId = PoliceAndThief.thiefplayer02.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    thiefplayer02KillButton.Timer = thiefplayer02KillButton.MaxTimer;
                    PoliceAndThief.thiefplayer02currentTarget = null;
                },
                () => { return PoliceAndThief.thiefplayer02 != null && PoliceAndThief.thiefplayer02 == PlayerInCache.LocalPlayer.PlayerControl && PoliceAndThief.whoCanThiefsKill != 2; },
                () => {
                    bool canUse = false;
                    switch (PoliceAndThief.whoCanThiefsKill) {
                        case 0:
                            if (PoliceAndThief.policeplayer02 != null && PoliceAndThief.thiefplayer02currentTarget == PoliceAndThief.policeplayer02 || PoliceAndThief.policeplayer04 != null && PoliceAndThief.thiefplayer02currentTarget == PoliceAndThief.policeplayer04) {
                                canUse = true;
                            }
                            break;
                        case 1:
                            canUse = true;
                            break;
                    }
                    return canUse && PoliceAndThief.thiefplayer02currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer02IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead && !PoliceAndThief.thiefplayer02IsStealing; },
                () => { thiefplayer02KillButton.Timer = thiefplayer02KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Thiefplayer02 FreeThief Button
            thiefplayer02FreeThiefButton = new CustomButton(
                () => {
                    MessageWriter thiefFree = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefFreeThief, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(thiefFree);
                    RPCProcedure.policeandThiefFreeThief();
                    thiefplayer02FreeThiefButton.Timer = thiefplayer02FreeThiefButton.MaxTimer;
                },
                () => { return PoliceAndThief.thiefplayer02 != null && PoliceAndThief.thiefplayer02 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (PoliceAndThief.localThiefReleaseArrow.Count != 0) {
                        PoliceAndThief.localThiefReleaseArrow[0].Update(PoliceAndThief.cellbutton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            PoliceAndThief.localThiefReleaseArrow[1].Update(PoliceAndThief.cellbuttontwo.transform.position);
                        }
                    }
                    if (PoliceAndThief.localThiefDeliverArrow.Count != 0) {
                        PoliceAndThief.localThiefDeliverArrow[0].Update(PoliceAndThief.jewelbutton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            PoliceAndThief.localThiefDeliverArrow[1].Update(PoliceAndThief.jewelbuttontwo.transform.position);
                        }
                    }

                    bool CanUse = false;
                    if (PoliceAndThief.currentThiefsCaptured > 0) {
                        if ((PoliceAndThief.cellbuttontwo != null && Vector2.Distance(PoliceAndThief.thiefplayer02.transform.position, PoliceAndThief.cellbuttontwo.transform.position) < 0.4f || Vector2.Distance(PoliceAndThief.thiefplayer02.transform.position, PoliceAndThief.cellbutton.transform.position) < 0.4f) && !PoliceAndThief.thiefplayer02.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer02IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { thiefplayer02FreeThiefButton.Timer = thiefplayer02FreeThiefButton.MaxTimer; },
                PoliceAndThief.getFreeThiefButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T
            );

            // Thiefplayer02 Take/Deliver Jewel Button
            thiefplayer02TakeDeliverJewelButton = new CustomButton(
                () => {
                    if (PoliceAndThief.thiefplayer02IsStealing) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte jewelId = PoliceAndThief.thiefplayer02JewelId;
                        MessageWriter thiefScore = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefDeliverJewel, Hazel.SendOption.Reliable, -1);
                        thiefScore.Write(targetId);
                        thiefScore.Write(jewelId);
                        AmongUsClient.Instance.FinishRpcImmediately(thiefScore);
                        RPCProcedure.policeandThiefDeliverJewel(targetId, jewelId);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte jewelId = PoliceAndThief.thiefplayer02JewelId;
                        MessageWriter thiefWhoTookATreasure = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefTakeJewel, Hazel.SendOption.Reliable, -1);
                        thiefWhoTookATreasure.Write(targetId);
                        thiefWhoTookATreasure.Write(jewelId);
                        AmongUsClient.Instance.FinishRpcImmediately(thiefWhoTookATreasure);
                        RPCProcedure.policeandThiefTakeJewel(targetId, jewelId);
                    }
                    thiefplayer02TakeDeliverJewelButton.Timer = thiefplayer02TakeDeliverJewelButton.MaxTimer;
                },
                () => { return PoliceAndThief.thiefplayer02 != null && PoliceAndThief.thiefplayer02 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (PoliceAndThief.thiefplayer02IsStealing)
                        thiefplayer02TakeDeliverJewelButton.actionButton.graphic.sprite = PoliceAndThief.getDeliverJewelButtonSprite();
                    else
                        thiefplayer02TakeDeliverJewelButton.actionButton.graphic.sprite = PoliceAndThief.getTakeJewelButtonSprite();
                    bool CanUse = false;
                    if (PoliceAndThief.thiefTreasures.Count != 0) {
                        foreach (GameObject jewel in PoliceAndThief.thiefTreasures) {
                            if (jewel != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, jewel.transform.position) < 0.5f && !PoliceAndThief.thiefplayer02IsStealing) {
                                switch (jewel.name) {
                                    case "jewel01":
                                        PoliceAndThief.thiefplayer02JewelId = 1;
                                        CanUse = !PoliceAndThief.jewel01BeingStealed;
                                        break;
                                    case "jewel02":
                                        PoliceAndThief.thiefplayer02JewelId = 2;
                                        CanUse = !PoliceAndThief.jewel02BeingStealed;
                                        break;
                                    case "jewel03":
                                        PoliceAndThief.thiefplayer02JewelId = 3;
                                        CanUse = !PoliceAndThief.jewel03BeingStealed;
                                        break;
                                    case "jewel04":
                                        PoliceAndThief.thiefplayer02JewelId = 4;
                                        CanUse = !PoliceAndThief.jewel04BeingStealed;
                                        break;
                                    case "jewel05":
                                        PoliceAndThief.thiefplayer02JewelId = 5;
                                        CanUse = !PoliceAndThief.jewel05BeingStealed;
                                        break;
                                    case "jewel06":
                                        PoliceAndThief.thiefplayer02JewelId = 6;
                                        CanUse = !PoliceAndThief.jewel06BeingStealed;
                                        break;
                                    case "jewel07":
                                        PoliceAndThief.thiefplayer02JewelId = 7;
                                        CanUse = !PoliceAndThief.jewel07BeingStealed;
                                        break;
                                    case "jewel08":
                                        PoliceAndThief.thiefplayer02JewelId = 8;
                                        CanUse = !PoliceAndThief.jewel08BeingStealed;
                                        break;
                                    case "jewel09":
                                        PoliceAndThief.thiefplayer02JewelId = 9;
                                        CanUse = !PoliceAndThief.jewel09BeingStealed;
                                        break;
                                    case "jewel10":
                                        PoliceAndThief.thiefplayer02JewelId = 10;
                                        CanUse = !PoliceAndThief.jewel10BeingStealed;
                                        break;
                                    case "jewel11":
                                        PoliceAndThief.thiefplayer02JewelId = 11;
                                        CanUse = !PoliceAndThief.jewel11BeingStealed;
                                        break;
                                    case "jewel12":
                                        PoliceAndThief.thiefplayer02JewelId = 12;
                                        CanUse = !PoliceAndThief.jewel12BeingStealed;
                                        break;
                                    case "jewel13":
                                        PoliceAndThief.thiefplayer02JewelId = 13;
                                        CanUse = !PoliceAndThief.jewel13BeingStealed;
                                        break;
                                    case "jewel14":
                                        PoliceAndThief.thiefplayer02JewelId = 14;
                                        CanUse = !PoliceAndThief.jewel14BeingStealed;
                                        break;
                                    case "jewel15":
                                        PoliceAndThief.thiefplayer02JewelId = 15;
                                        CanUse = !PoliceAndThief.jewel15BeingStealed;
                                        break;
                                }
                            }
                            else if ((PoliceAndThief.jewelbuttontwo != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbuttontwo.transform.position) < 0.5f || PoliceAndThief.jewelbutton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbutton.transform.position) < 0.5f) && PoliceAndThief.thiefplayer02IsStealing) {
                                CanUse = true;
                            }
                        }

                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer02IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { thiefplayer02TakeDeliverJewelButton.Timer = thiefplayer02TakeDeliverJewelButton.MaxTimer; },
                PoliceAndThief.getTakeJewelButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Thiefplayer03 Kill
            thiefplayer03KillButton = new CustomButton(
                () => {
                    byte targetId = PoliceAndThief.thiefplayer03currentTarget.PlayerId;
                    byte sourceId = PoliceAndThief.thiefplayer03.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    thiefplayer03KillButton.Timer = thiefplayer03KillButton.MaxTimer;
                    PoliceAndThief.thiefplayer03currentTarget = null;
                },
                () => { return PoliceAndThief.thiefplayer03 != null && PoliceAndThief.thiefplayer03 == PlayerInCache.LocalPlayer.PlayerControl && PoliceAndThief.whoCanThiefsKill != 2; },
                () => {
                    bool canUse = false;
                    switch (PoliceAndThief.whoCanThiefsKill) {
                        case 0:
                            if (PoliceAndThief.policeplayer02 != null && PoliceAndThief.thiefplayer03currentTarget == PoliceAndThief.policeplayer02 || PoliceAndThief.policeplayer04 != null && PoliceAndThief.thiefplayer03currentTarget == PoliceAndThief.policeplayer04) {
                                canUse = true;
                            }
                            break;
                        case 1:
                            canUse = true;
                            break;
                    }
                    return canUse && PoliceAndThief.thiefplayer03currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer03IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead && !PoliceAndThief.thiefplayer03IsStealing; },
                () => { thiefplayer03KillButton.Timer = thiefplayer03KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Thiefplayer03 FreeThief Button
            thiefplayer03FreeThiefButton = new CustomButton(
                () => {
                    MessageWriter thiefFree = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefFreeThief, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(thiefFree);
                    RPCProcedure.policeandThiefFreeThief();
                    thiefplayer03FreeThiefButton.Timer = thiefplayer03FreeThiefButton.MaxTimer;
                },
                () => { return PoliceAndThief.thiefplayer03 != null && PoliceAndThief.thiefplayer03 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (PoliceAndThief.localThiefReleaseArrow.Count != 0) {
                        PoliceAndThief.localThiefReleaseArrow[0].Update(PoliceAndThief.cellbutton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            PoliceAndThief.localThiefReleaseArrow[1].Update(PoliceAndThief.cellbuttontwo.transform.position);
                        }
                    }
                    if (PoliceAndThief.localThiefDeliverArrow.Count != 0) {
                        PoliceAndThief.localThiefDeliverArrow[0].Update(PoliceAndThief.jewelbutton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            PoliceAndThief.localThiefDeliverArrow[1].Update(PoliceAndThief.jewelbuttontwo.transform.position);
                        }
                    }

                    bool CanUse = false;
                    if (PoliceAndThief.currentThiefsCaptured > 0) {
                        if ((PoliceAndThief.cellbuttontwo != null && Vector2.Distance(PoliceAndThief.thiefplayer03.transform.position, PoliceAndThief.cellbuttontwo.transform.position) < 0.4f || Vector2.Distance(PoliceAndThief.thiefplayer03.transform.position, PoliceAndThief.cellbutton.transform.position) < 0.4f) && !PoliceAndThief.thiefplayer03.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer03IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { thiefplayer03FreeThiefButton.Timer = thiefplayer03FreeThiefButton.MaxTimer; },
                PoliceAndThief.getFreeThiefButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T
            );

            // Thiefplayer03 Take/Deliver Jewel Button
            thiefplayer03TakeDeliverJewelButton = new CustomButton(
                () => {
                    if (PoliceAndThief.thiefplayer03IsStealing) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte jewelId = PoliceAndThief.thiefplayer03JewelId;
                        MessageWriter thiefScore = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefDeliverJewel, Hazel.SendOption.Reliable, -1);
                        thiefScore.Write(targetId);
                        thiefScore.Write(jewelId);
                        AmongUsClient.Instance.FinishRpcImmediately(thiefScore);
                        RPCProcedure.policeandThiefDeliverJewel(targetId, jewelId);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte jewelId = PoliceAndThief.thiefplayer03JewelId;
                        MessageWriter thiefWhoTookATreasure = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefTakeJewel, Hazel.SendOption.Reliable, -1);
                        thiefWhoTookATreasure.Write(targetId);
                        thiefWhoTookATreasure.Write(jewelId);
                        AmongUsClient.Instance.FinishRpcImmediately(thiefWhoTookATreasure);
                        RPCProcedure.policeandThiefTakeJewel(targetId, jewelId);
                    }
                    thiefplayer03TakeDeliverJewelButton.Timer = thiefplayer03TakeDeliverJewelButton.MaxTimer;
                },
                () => { return PoliceAndThief.thiefplayer03 != null && PoliceAndThief.thiefplayer03 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (PoliceAndThief.thiefplayer03IsStealing)
                        thiefplayer03TakeDeliverJewelButton.actionButton.graphic.sprite = PoliceAndThief.getDeliverJewelButtonSprite();
                    else
                        thiefplayer03TakeDeliverJewelButton.actionButton.graphic.sprite = PoliceAndThief.getTakeJewelButtonSprite();
                    bool CanUse = false;
                    if (PoliceAndThief.thiefTreasures.Count != 0) {
                        foreach (GameObject jewel in PoliceAndThief.thiefTreasures) {
                            if (jewel != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, jewel.transform.position) < 0.5f && !PoliceAndThief.thiefplayer03IsStealing) {
                                switch (jewel.name) {
                                    case "jewel01":
                                        PoliceAndThief.thiefplayer03JewelId = 1;
                                        CanUse = !PoliceAndThief.jewel01BeingStealed;
                                        break;
                                    case "jewel02":
                                        PoliceAndThief.thiefplayer03JewelId = 2;
                                        CanUse = !PoliceAndThief.jewel02BeingStealed;
                                        break;
                                    case "jewel03":
                                        PoliceAndThief.thiefplayer03JewelId = 3;
                                        CanUse = !PoliceAndThief.jewel03BeingStealed;
                                        break;
                                    case "jewel04":
                                        PoliceAndThief.thiefplayer03JewelId = 4;
                                        CanUse = !PoliceAndThief.jewel04BeingStealed;
                                        break;
                                    case "jewel05":
                                        PoliceAndThief.thiefplayer03JewelId = 5;
                                        CanUse = !PoliceAndThief.jewel05BeingStealed;
                                        break;
                                    case "jewel06":
                                        PoliceAndThief.thiefplayer03JewelId = 6;
                                        CanUse = !PoliceAndThief.jewel06BeingStealed;
                                        break;
                                    case "jewel07":
                                        PoliceAndThief.thiefplayer03JewelId = 7;
                                        CanUse = !PoliceAndThief.jewel07BeingStealed;
                                        break;
                                    case "jewel08":
                                        PoliceAndThief.thiefplayer03JewelId = 8;
                                        CanUse = !PoliceAndThief.jewel08BeingStealed;
                                        break;
                                    case "jewel09":
                                        PoliceAndThief.thiefplayer03JewelId = 9;
                                        CanUse = !PoliceAndThief.jewel09BeingStealed;
                                        break;
                                    case "jewel10":
                                        PoliceAndThief.thiefplayer03JewelId = 10;
                                        CanUse = !PoliceAndThief.jewel10BeingStealed;
                                        break;
                                    case "jewel11":
                                        PoliceAndThief.thiefplayer03JewelId = 11;
                                        CanUse = !PoliceAndThief.jewel11BeingStealed;
                                        break;
                                    case "jewel12":
                                        PoliceAndThief.thiefplayer03JewelId = 12;
                                        CanUse = !PoliceAndThief.jewel12BeingStealed;
                                        break;
                                    case "jewel13":
                                        PoliceAndThief.thiefplayer03JewelId = 13;
                                        CanUse = !PoliceAndThief.jewel13BeingStealed;
                                        break;
                                    case "jewel14":
                                        PoliceAndThief.thiefplayer03JewelId = 14;
                                        CanUse = !PoliceAndThief.jewel14BeingStealed;
                                        break;
                                    case "jewel15":
                                        PoliceAndThief.thiefplayer03JewelId = 15;
                                        CanUse = !PoliceAndThief.jewel15BeingStealed;
                                        break;
                                }
                            }
                            else if ((PoliceAndThief.jewelbuttontwo != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbuttontwo.transform.position) < 0.5f || PoliceAndThief.jewelbutton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbutton.transform.position) < 0.5f) && PoliceAndThief.thiefplayer03IsStealing) {
                                CanUse = true;
                            }
                        }

                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer03IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { thiefplayer03TakeDeliverJewelButton.Timer = thiefplayer03TakeDeliverJewelButton.MaxTimer; },
                PoliceAndThief.getTakeJewelButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Thiefplayer04 Kill
            thiefplayer04KillButton = new CustomButton(
                () => {
                    byte targetId = PoliceAndThief.thiefplayer04currentTarget.PlayerId;
                    byte sourceId = PoliceAndThief.thiefplayer04.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    thiefplayer04KillButton.Timer = thiefplayer04KillButton.MaxTimer;
                    PoliceAndThief.thiefplayer04currentTarget = null;
                },
                () => { return PoliceAndThief.thiefplayer04 != null && PoliceAndThief.thiefplayer04 == PlayerInCache.LocalPlayer.PlayerControl && PoliceAndThief.whoCanThiefsKill != 2; },
                () => {
                    bool canUse = false;
                    switch (PoliceAndThief.whoCanThiefsKill) {
                        case 0:
                            if (PoliceAndThief.policeplayer02 != null && PoliceAndThief.thiefplayer04currentTarget == PoliceAndThief.policeplayer02 || PoliceAndThief.policeplayer04 != null && PoliceAndThief.thiefplayer04currentTarget == PoliceAndThief.policeplayer04) {
                                canUse = true;
                            }
                            break;
                        case 1:
                            canUse = true;
                            break;
                    }
                    return canUse && PoliceAndThief.thiefplayer04currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer04IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead && !PoliceAndThief.thiefplayer04IsStealing; },
                () => { thiefplayer04KillButton.Timer = thiefplayer04KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Thiefplayer04 FreeThief Button
            thiefplayer04FreeThiefButton = new CustomButton(
                () => {
                    MessageWriter thiefFree = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefFreeThief, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(thiefFree);
                    RPCProcedure.policeandThiefFreeThief();
                    thiefplayer04FreeThiefButton.Timer = thiefplayer04FreeThiefButton.MaxTimer;
                },
                () => { return PoliceAndThief.thiefplayer04 != null && PoliceAndThief.thiefplayer04 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (PoliceAndThief.localThiefReleaseArrow.Count != 0) {
                        PoliceAndThief.localThiefReleaseArrow[0].Update(PoliceAndThief.cellbutton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            PoliceAndThief.localThiefReleaseArrow[1].Update(PoliceAndThief.cellbuttontwo.transform.position);
                        }
                    }
                    if (PoliceAndThief.localThiefDeliverArrow.Count != 0) {
                        PoliceAndThief.localThiefDeliverArrow[0].Update(PoliceAndThief.jewelbutton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            PoliceAndThief.localThiefDeliverArrow[1].Update(PoliceAndThief.jewelbuttontwo.transform.position);
                        }
                    }

                    bool CanUse = false;
                    if (PoliceAndThief.currentThiefsCaptured > 0) {
                        if ((PoliceAndThief.cellbuttontwo != null && Vector2.Distance(PoliceAndThief.thiefplayer04.transform.position, PoliceAndThief.cellbuttontwo.transform.position) < 0.4f || Vector2.Distance(PoliceAndThief.thiefplayer04.transform.position, PoliceAndThief.cellbutton.transform.position) < 0.4f) && !PoliceAndThief.thiefplayer04.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer04IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { thiefplayer04FreeThiefButton.Timer = thiefplayer04FreeThiefButton.MaxTimer; },
                PoliceAndThief.getFreeThiefButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T
            );

            // Thiefplayer04 Take/Deliver Jewel Button
            thiefplayer04TakeDeliverJewelButton = new CustomButton(
                () => {
                    if (PoliceAndThief.thiefplayer04IsStealing) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte jewelId = PoliceAndThief.thiefplayer04JewelId;
                        MessageWriter thiefScore = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefDeliverJewel, Hazel.SendOption.Reliable, -1);
                        thiefScore.Write(targetId);
                        thiefScore.Write(jewelId);
                        AmongUsClient.Instance.FinishRpcImmediately(thiefScore);
                        RPCProcedure.policeandThiefDeliverJewel(targetId, jewelId);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte jewelId = PoliceAndThief.thiefplayer04JewelId;
                        MessageWriter thiefWhoTookATreasure = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefTakeJewel, Hazel.SendOption.Reliable, -1);
                        thiefWhoTookATreasure.Write(targetId);
                        thiefWhoTookATreasure.Write(jewelId);
                        AmongUsClient.Instance.FinishRpcImmediately(thiefWhoTookATreasure);
                        RPCProcedure.policeandThiefTakeJewel(targetId, jewelId);
                    }
                    thiefplayer04TakeDeliverJewelButton.Timer = thiefplayer04TakeDeliverJewelButton.MaxTimer;
                },
                () => { return PoliceAndThief.thiefplayer04 != null && PoliceAndThief.thiefplayer04 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (PoliceAndThief.thiefplayer04IsStealing)
                        thiefplayer04TakeDeliverJewelButton.actionButton.graphic.sprite = PoliceAndThief.getDeliverJewelButtonSprite();
                    else
                        thiefplayer04TakeDeliverJewelButton.actionButton.graphic.sprite = PoliceAndThief.getTakeJewelButtonSprite();
                    bool CanUse = false;
                    if (PoliceAndThief.thiefTreasures.Count != 0) {
                        foreach (GameObject jewel in PoliceAndThief.thiefTreasures) {
                            if (jewel != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, jewel.transform.position) < 0.5f && !PoliceAndThief.thiefplayer04IsStealing) {
                                switch (jewel.name) {
                                    case "jewel01":
                                        PoliceAndThief.thiefplayer04JewelId = 1;
                                        CanUse = !PoliceAndThief.jewel01BeingStealed;
                                        break;
                                    case "jewel02":
                                        PoliceAndThief.thiefplayer04JewelId = 2;
                                        CanUse = !PoliceAndThief.jewel02BeingStealed;
                                        break;
                                    case "jewel03":
                                        PoliceAndThief.thiefplayer04JewelId = 3;
                                        CanUse = !PoliceAndThief.jewel03BeingStealed;
                                        break;
                                    case "jewel04":
                                        PoliceAndThief.thiefplayer04JewelId = 4;
                                        CanUse = !PoliceAndThief.jewel04BeingStealed;
                                        break;
                                    case "jewel05":
                                        PoliceAndThief.thiefplayer04JewelId = 5;
                                        CanUse = !PoliceAndThief.jewel05BeingStealed;
                                        break;
                                    case "jewel06":
                                        PoliceAndThief.thiefplayer04JewelId = 6;
                                        CanUse = !PoliceAndThief.jewel06BeingStealed;
                                        break;
                                    case "jewel07":
                                        PoliceAndThief.thiefplayer04JewelId = 7;
                                        CanUse = !PoliceAndThief.jewel07BeingStealed;
                                        break;
                                    case "jewel08":
                                        PoliceAndThief.thiefplayer04JewelId = 8;
                                        CanUse = !PoliceAndThief.jewel08BeingStealed;
                                        break;
                                    case "jewel09":
                                        PoliceAndThief.thiefplayer04JewelId = 9;
                                        CanUse = !PoliceAndThief.jewel09BeingStealed;
                                        break;
                                    case "jewel10":
                                        PoliceAndThief.thiefplayer04JewelId = 10;
                                        CanUse = !PoliceAndThief.jewel10BeingStealed;
                                        break;
                                    case "jewel11":
                                        PoliceAndThief.thiefplayer04JewelId = 11;
                                        CanUse = !PoliceAndThief.jewel11BeingStealed;
                                        break;
                                    case "jewel12":
                                        PoliceAndThief.thiefplayer04JewelId = 12;
                                        CanUse = !PoliceAndThief.jewel12BeingStealed;
                                        break;
                                    case "jewel13":
                                        PoliceAndThief.thiefplayer04JewelId = 13;
                                        CanUse = !PoliceAndThief.jewel13BeingStealed;
                                        break;
                                    case "jewel14":
                                        PoliceAndThief.thiefplayer04JewelId = 14;
                                        CanUse = !PoliceAndThief.jewel14BeingStealed;
                                        break;
                                    case "jewel15":
                                        PoliceAndThief.thiefplayer04JewelId = 15;
                                        CanUse = !PoliceAndThief.jewel15BeingStealed;
                                        break;
                                }
                            }
                            else if ((PoliceAndThief.jewelbuttontwo != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbuttontwo.transform.position) < 0.5f || PoliceAndThief.jewelbutton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbutton.transform.position) < 0.5f) && PoliceAndThief.thiefplayer04IsStealing) {
                                CanUse = true;
                            }
                        }

                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer04IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { thiefplayer04TakeDeliverJewelButton.Timer = thiefplayer04TakeDeliverJewelButton.MaxTimer; },
                PoliceAndThief.getTakeJewelButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Thiefplayer05 Kill
            thiefplayer05KillButton = new CustomButton(
                () => {
                    byte targetId = PoliceAndThief.thiefplayer05currentTarget.PlayerId;
                    byte sourceId = PoliceAndThief.thiefplayer05.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    thiefplayer05KillButton.Timer = thiefplayer05KillButton.MaxTimer;
                    PoliceAndThief.thiefplayer05currentTarget = null;
                },
                () => { return PoliceAndThief.thiefplayer05 != null && PoliceAndThief.thiefplayer05 == PlayerInCache.LocalPlayer.PlayerControl && PoliceAndThief.whoCanThiefsKill != 2; },
                () => {
                    bool canUse = false;
                    switch (PoliceAndThief.whoCanThiefsKill) {
                        case 0:
                            if (PoliceAndThief.policeplayer02 != null && PoliceAndThief.thiefplayer05currentTarget == PoliceAndThief.policeplayer02 || PoliceAndThief.policeplayer04 != null && PoliceAndThief.thiefplayer05currentTarget == PoliceAndThief.policeplayer04) {
                                canUse = true;
                            }
                            break;
                        case 1:
                            canUse = true;
                            break;
                    }
                    return canUse && PoliceAndThief.thiefplayer05currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer05IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead && !PoliceAndThief.thiefplayer05IsStealing; },
                () => { thiefplayer05KillButton.Timer = thiefplayer05KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Thiefplayer05 FreeThief Button
            thiefplayer05FreeThiefButton = new CustomButton(
                () => {
                    MessageWriter thiefFree = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefFreeThief, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(thiefFree);
                    RPCProcedure.policeandThiefFreeThief();
                    thiefplayer05FreeThiefButton.Timer = thiefplayer05FreeThiefButton.MaxTimer;
                },
                () => { return PoliceAndThief.thiefplayer05 != null && PoliceAndThief.thiefplayer05 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (PoliceAndThief.localThiefReleaseArrow.Count != 0) {
                        PoliceAndThief.localThiefReleaseArrow[0].Update(PoliceAndThief.cellbutton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            PoliceAndThief.localThiefReleaseArrow[1].Update(PoliceAndThief.cellbuttontwo.transform.position);
                        }
                    }
                    if (PoliceAndThief.localThiefDeliverArrow.Count != 0) {
                        PoliceAndThief.localThiefDeliverArrow[0].Update(PoliceAndThief.jewelbutton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            PoliceAndThief.localThiefDeliverArrow[1].Update(PoliceAndThief.jewelbuttontwo.transform.position);
                        }
                    }

                    bool CanUse = false;
                    if (PoliceAndThief.currentThiefsCaptured > 0) {
                        if ((PoliceAndThief.cellbuttontwo != null && Vector2.Distance(PoliceAndThief.thiefplayer05.transform.position, PoliceAndThief.cellbuttontwo.transform.position) < 0.4f || Vector2.Distance(PoliceAndThief.thiefplayer05.transform.position, PoliceAndThief.cellbutton.transform.position) < 0.4f) && !PoliceAndThief.thiefplayer05.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer05IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { thiefplayer05FreeThiefButton.Timer = thiefplayer05FreeThiefButton.MaxTimer; },
                PoliceAndThief.getFreeThiefButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T
            );

            // Thiefplayer05 Take/Deliver Jewel Button
            thiefplayer05TakeDeliverJewelButton = new CustomButton(
                () => {
                    if (PoliceAndThief.thiefplayer05IsStealing) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte jewelId = PoliceAndThief.thiefplayer05JewelId;
                        MessageWriter thiefScore = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefDeliverJewel, Hazel.SendOption.Reliable, -1);
                        thiefScore.Write(targetId);
                        thiefScore.Write(jewelId);
                        AmongUsClient.Instance.FinishRpcImmediately(thiefScore);
                        RPCProcedure.policeandThiefDeliverJewel(targetId, jewelId);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte jewelId = PoliceAndThief.thiefplayer05JewelId;
                        MessageWriter thiefWhoTookATreasure = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefTakeJewel, Hazel.SendOption.Reliable, -1);
                        thiefWhoTookATreasure.Write(targetId);
                        thiefWhoTookATreasure.Write(jewelId);
                        AmongUsClient.Instance.FinishRpcImmediately(thiefWhoTookATreasure);
                        RPCProcedure.policeandThiefTakeJewel(targetId, jewelId);
                    }
                    thiefplayer05TakeDeliverJewelButton.Timer = thiefplayer05TakeDeliverJewelButton.MaxTimer;
                },
                () => { return PoliceAndThief.thiefplayer05 != null && PoliceAndThief.thiefplayer05 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (PoliceAndThief.thiefplayer05IsStealing)
                        thiefplayer05TakeDeliverJewelButton.actionButton.graphic.sprite = PoliceAndThief.getDeliverJewelButtonSprite();
                    else
                        thiefplayer05TakeDeliverJewelButton.actionButton.graphic.sprite = PoliceAndThief.getTakeJewelButtonSprite();
                    bool CanUse = false;
                    if (PoliceAndThief.thiefTreasures.Count != 0) {
                        foreach (GameObject jewel in PoliceAndThief.thiefTreasures) {
                            if (jewel != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, jewel.transform.position) < 0.5f && !PoliceAndThief.thiefplayer05IsStealing) {
                                switch (jewel.name) {
                                    case "jewel01":
                                        PoliceAndThief.thiefplayer05JewelId = 1;
                                        CanUse = !PoliceAndThief.jewel01BeingStealed;
                                        break;
                                    case "jewel02":
                                        PoliceAndThief.thiefplayer05JewelId = 2;
                                        CanUse = !PoliceAndThief.jewel02BeingStealed;
                                        break;
                                    case "jewel03":
                                        PoliceAndThief.thiefplayer05JewelId = 3;
                                        CanUse = !PoliceAndThief.jewel03BeingStealed;
                                        break;
                                    case "jewel04":
                                        PoliceAndThief.thiefplayer05JewelId = 4;
                                        CanUse = !PoliceAndThief.jewel04BeingStealed;
                                        break;
                                    case "jewel05":
                                        PoliceAndThief.thiefplayer05JewelId = 5;
                                        CanUse = !PoliceAndThief.jewel05BeingStealed;
                                        break;
                                    case "jewel06":
                                        PoliceAndThief.thiefplayer05JewelId = 6;
                                        CanUse = !PoliceAndThief.jewel06BeingStealed;
                                        break;
                                    case "jewel07":
                                        PoliceAndThief.thiefplayer05JewelId = 7;
                                        CanUse = !PoliceAndThief.jewel07BeingStealed;
                                        break;
                                    case "jewel08":
                                        PoliceAndThief.thiefplayer05JewelId = 8;
                                        CanUse = !PoliceAndThief.jewel08BeingStealed;
                                        break;
                                    case "jewel09":
                                        PoliceAndThief.thiefplayer05JewelId = 9;
                                        CanUse = !PoliceAndThief.jewel09BeingStealed;
                                        break;
                                    case "jewel10":
                                        PoliceAndThief.thiefplayer05JewelId = 10;
                                        CanUse = !PoliceAndThief.jewel10BeingStealed;
                                        break;
                                    case "jewel11":
                                        PoliceAndThief.thiefplayer05JewelId = 11;
                                        CanUse = !PoliceAndThief.jewel11BeingStealed;
                                        break;
                                    case "jewel12":
                                        PoliceAndThief.thiefplayer05JewelId = 12;
                                        CanUse = !PoliceAndThief.jewel12BeingStealed;
                                        break;
                                    case "jewel13":
                                        PoliceAndThief.thiefplayer05JewelId = 13;
                                        CanUse = !PoliceAndThief.jewel13BeingStealed;
                                        break;
                                    case "jewel14":
                                        PoliceAndThief.thiefplayer05JewelId = 14;
                                        CanUse = !PoliceAndThief.jewel14BeingStealed;
                                        break;
                                    case "jewel15":
                                        PoliceAndThief.thiefplayer05JewelId = 15;
                                        CanUse = !PoliceAndThief.jewel15BeingStealed;
                                        break;
                                }
                            }
                            else if ((PoliceAndThief.jewelbuttontwo != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbuttontwo.transform.position) < 0.5f || PoliceAndThief.jewelbutton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbutton.transform.position) < 0.5f) && PoliceAndThief.thiefplayer05IsStealing) {
                                CanUse = true;
                            }
                        }

                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer05IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { thiefplayer05TakeDeliverJewelButton.Timer = thiefplayer05TakeDeliverJewelButton.MaxTimer; },
                PoliceAndThief.getTakeJewelButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Thiefplayer06 Kill
            thiefplayer06KillButton = new CustomButton(
                () => {
                    byte targetId = PoliceAndThief.thiefplayer06currentTarget.PlayerId;
                    byte sourceId = PoliceAndThief.thiefplayer06.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    thiefplayer06KillButton.Timer = thiefplayer06KillButton.MaxTimer;
                    PoliceAndThief.thiefplayer06currentTarget = null;
                },
                () => { return PoliceAndThief.thiefplayer06 != null && PoliceAndThief.thiefplayer06 == PlayerInCache.LocalPlayer.PlayerControl && PoliceAndThief.whoCanThiefsKill != 2; },
                () => {
                    bool canUse = false;
                    switch (PoliceAndThief.whoCanThiefsKill) {
                        case 0:
                            if (PoliceAndThief.policeplayer02 != null && PoliceAndThief.thiefplayer06currentTarget == PoliceAndThief.policeplayer02 || PoliceAndThief.policeplayer04 != null && PoliceAndThief.thiefplayer06currentTarget == PoliceAndThief.policeplayer04) {
                                canUse = true;
                            }
                            break;
                        case 1:
                            canUse = true;
                            break;
                    }
                    return canUse && PoliceAndThief.thiefplayer06currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer06IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead && !PoliceAndThief.thiefplayer06IsStealing; },
                () => { thiefplayer06KillButton.Timer = thiefplayer06KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Thiefplayer06 FreeThief Button
            thiefplayer06FreeThiefButton = new CustomButton(
                () => {
                    MessageWriter thiefFree = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefFreeThief, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(thiefFree);
                    RPCProcedure.policeandThiefFreeThief();
                    thiefplayer06FreeThiefButton.Timer = thiefplayer06FreeThiefButton.MaxTimer;
                },
                () => { return PoliceAndThief.thiefplayer06 != null && PoliceAndThief.thiefplayer06 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (PoliceAndThief.localThiefReleaseArrow.Count != 0) {
                        PoliceAndThief.localThiefReleaseArrow[0].Update(PoliceAndThief.cellbutton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            PoliceAndThief.localThiefReleaseArrow[1].Update(PoliceAndThief.cellbuttontwo.transform.position);
                        }
                    }
                    if (PoliceAndThief.localThiefDeliverArrow.Count != 0) {
                        PoliceAndThief.localThiefDeliverArrow[0].Update(PoliceAndThief.jewelbutton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            PoliceAndThief.localThiefDeliverArrow[1].Update(PoliceAndThief.jewelbuttontwo.transform.position);
                        }
                    }

                    bool CanUse = false;
                    if (PoliceAndThief.currentThiefsCaptured > 0) {
                        if ((PoliceAndThief.cellbuttontwo != null && Vector2.Distance(PoliceAndThief.thiefplayer06.transform.position, PoliceAndThief.cellbuttontwo.transform.position) < 0.4f || Vector2.Distance(PoliceAndThief.thiefplayer06.transform.position, PoliceAndThief.cellbutton.transform.position) < 0.4f) && !PoliceAndThief.thiefplayer06.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer06IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { thiefplayer06FreeThiefButton.Timer = thiefplayer06FreeThiefButton.MaxTimer; },
                PoliceAndThief.getFreeThiefButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T
            );

            // Thiefplayer06 Take/Deliver Jewel Button
            thiefplayer06TakeDeliverJewelButton = new CustomButton(
                () => {
                    if (PoliceAndThief.thiefplayer06IsStealing) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte jewelId = PoliceAndThief.thiefplayer06JewelId;
                        MessageWriter thiefScore = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefDeliverJewel, Hazel.SendOption.Reliable, -1);
                        thiefScore.Write(targetId);
                        thiefScore.Write(jewelId);
                        AmongUsClient.Instance.FinishRpcImmediately(thiefScore);
                        RPCProcedure.policeandThiefDeliverJewel(targetId, jewelId);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte jewelId = PoliceAndThief.thiefplayer06JewelId;
                        MessageWriter thiefWhoTookATreasure = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefTakeJewel, Hazel.SendOption.Reliable, -1);
                        thiefWhoTookATreasure.Write(targetId);
                        thiefWhoTookATreasure.Write(jewelId);
                        AmongUsClient.Instance.FinishRpcImmediately(thiefWhoTookATreasure);
                        RPCProcedure.policeandThiefTakeJewel(targetId, jewelId);
                    }
                    thiefplayer06TakeDeliverJewelButton.Timer = thiefplayer06TakeDeliverJewelButton.MaxTimer;
                },
                () => { return PoliceAndThief.thiefplayer06 != null && PoliceAndThief.thiefplayer06 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (PoliceAndThief.thiefplayer06IsStealing)
                        thiefplayer06TakeDeliverJewelButton.actionButton.graphic.sprite = PoliceAndThief.getDeliverJewelButtonSprite();
                    else
                        thiefplayer06TakeDeliverJewelButton.actionButton.graphic.sprite = PoliceAndThief.getTakeJewelButtonSprite();
                    bool CanUse = false;
                    if (PoliceAndThief.thiefTreasures.Count != 0) {
                        foreach (GameObject jewel in PoliceAndThief.thiefTreasures) {
                            if (jewel != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, jewel.transform.position) < 0.5f && !PoliceAndThief.thiefplayer06IsStealing) {
                                switch (jewel.name) {
                                    case "jewel01":
                                        PoliceAndThief.thiefplayer06JewelId = 1;
                                        CanUse = !PoliceAndThief.jewel01BeingStealed;
                                        break;
                                    case "jewel02":
                                        PoliceAndThief.thiefplayer06JewelId = 2;
                                        CanUse = !PoliceAndThief.jewel02BeingStealed;
                                        break;
                                    case "jewel03":
                                        PoliceAndThief.thiefplayer06JewelId = 3;
                                        CanUse = !PoliceAndThief.jewel03BeingStealed;
                                        break;
                                    case "jewel04":
                                        PoliceAndThief.thiefplayer06JewelId = 4;
                                        CanUse = !PoliceAndThief.jewel04BeingStealed;
                                        break;
                                    case "jewel05":
                                        PoliceAndThief.thiefplayer06JewelId = 5;
                                        CanUse = !PoliceAndThief.jewel05BeingStealed;
                                        break;
                                    case "jewel06":
                                        PoliceAndThief.thiefplayer06JewelId = 6;
                                        CanUse = !PoliceAndThief.jewel06BeingStealed;
                                        break;
                                    case "jewel07":
                                        PoliceAndThief.thiefplayer06JewelId = 7;
                                        CanUse = !PoliceAndThief.jewel07BeingStealed;
                                        break;
                                    case "jewel08":
                                        PoliceAndThief.thiefplayer06JewelId = 8;
                                        CanUse = !PoliceAndThief.jewel08BeingStealed;
                                        break;
                                    case "jewel09":
                                        PoliceAndThief.thiefplayer06JewelId = 9;
                                        CanUse = !PoliceAndThief.jewel09BeingStealed;
                                        break;
                                    case "jewel10":
                                        PoliceAndThief.thiefplayer06JewelId = 10;
                                        CanUse = !PoliceAndThief.jewel10BeingStealed;
                                        break;
                                    case "jewel11":
                                        PoliceAndThief.thiefplayer06JewelId = 11;
                                        CanUse = !PoliceAndThief.jewel11BeingStealed;
                                        break;
                                    case "jewel12":
                                        PoliceAndThief.thiefplayer06JewelId = 12;
                                        CanUse = !PoliceAndThief.jewel12BeingStealed;
                                        break;
                                    case "jewel13":
                                        PoliceAndThief.thiefplayer06JewelId = 13;
                                        CanUse = !PoliceAndThief.jewel13BeingStealed;
                                        break;
                                    case "jewel14":
                                        PoliceAndThief.thiefplayer06JewelId = 14;
                                        CanUse = !PoliceAndThief.jewel14BeingStealed;
                                        break;
                                    case "jewel15":
                                        PoliceAndThief.thiefplayer06JewelId = 15;
                                        CanUse = !PoliceAndThief.jewel15BeingStealed;
                                        break;
                                }
                            }
                            else if ((PoliceAndThief.jewelbuttontwo != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbuttontwo.transform.position) < 0.5f || PoliceAndThief.jewelbutton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbutton.transform.position) < 0.5f) && PoliceAndThief.thiefplayer06IsStealing) {
                                CanUse = true;
                            }
                        }

                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer06IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { thiefplayer06TakeDeliverJewelButton.Timer = thiefplayer06TakeDeliverJewelButton.MaxTimer; },
                PoliceAndThief.getTakeJewelButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Thiefplayer07 Kill
            thiefplayer07KillButton = new CustomButton(
                () => {
                    byte targetId = PoliceAndThief.thiefplayer07currentTarget.PlayerId;
                    byte sourceId = PoliceAndThief.thiefplayer07.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    thiefplayer07KillButton.Timer = thiefplayer07KillButton.MaxTimer;
                    PoliceAndThief.thiefplayer07currentTarget = null;
                },
                () => { return PoliceAndThief.thiefplayer07 != null && PoliceAndThief.thiefplayer07 == PlayerInCache.LocalPlayer.PlayerControl && PoliceAndThief.whoCanThiefsKill != 2; },
                () => {
                    bool canUse = false;
                    switch (PoliceAndThief.whoCanThiefsKill) {
                        case 0:
                            if (PoliceAndThief.policeplayer02 != null && PoliceAndThief.thiefplayer07currentTarget == PoliceAndThief.policeplayer02 || PoliceAndThief.policeplayer04 != null && PoliceAndThief.thiefplayer07currentTarget == PoliceAndThief.policeplayer04) {
                                canUse = true;
                            }
                            break;
                        case 1:
                            canUse = true;
                            break;
                    }
                    return canUse && PoliceAndThief.thiefplayer07currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer07IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead && !PoliceAndThief.thiefplayer07IsStealing; },
                () => { thiefplayer07KillButton.Timer = thiefplayer07KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Thiefplayer07 FreeThief Button
            thiefplayer07FreeThiefButton = new CustomButton(
                () => {
                    MessageWriter thiefFree = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefFreeThief, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(thiefFree);
                    RPCProcedure.policeandThiefFreeThief();
                    thiefplayer07FreeThiefButton.Timer = thiefplayer07FreeThiefButton.MaxTimer;
                },
                () => { return PoliceAndThief.thiefplayer07 != null && PoliceAndThief.thiefplayer07 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (PoliceAndThief.localThiefReleaseArrow.Count != 0) {
                        PoliceAndThief.localThiefReleaseArrow[0].Update(PoliceAndThief.cellbutton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            PoliceAndThief.localThiefReleaseArrow[1].Update(PoliceAndThief.cellbuttontwo.transform.position);
                        }
                    }
                    if (PoliceAndThief.localThiefDeliverArrow.Count != 0) {
                        PoliceAndThief.localThiefDeliverArrow[0].Update(PoliceAndThief.jewelbutton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            PoliceAndThief.localThiefDeliverArrow[1].Update(PoliceAndThief.jewelbuttontwo.transform.position);
                        }
                    }

                    bool CanUse = false;
                    if (PoliceAndThief.currentThiefsCaptured > 0) {
                        if ((PoliceAndThief.cellbuttontwo != null && Vector2.Distance(PoliceAndThief.thiefplayer07.transform.position, PoliceAndThief.cellbuttontwo.transform.position) < 0.4f || Vector2.Distance(PoliceAndThief.thiefplayer07.transform.position, PoliceAndThief.cellbutton.transform.position) < 0.4f) && !PoliceAndThief.thiefplayer07.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer07IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { thiefplayer07FreeThiefButton.Timer = thiefplayer07FreeThiefButton.MaxTimer; },
                PoliceAndThief.getFreeThiefButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T
            );

            // Thiefplayer07 Take/Deliver Jewel Button
            thiefplayer07TakeDeliverJewelButton = new CustomButton(
                () => {
                    if (PoliceAndThief.thiefplayer07IsStealing) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte jewelId = PoliceAndThief.thiefplayer07JewelId;
                        MessageWriter thiefScore = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefDeliverJewel, Hazel.SendOption.Reliable, -1);
                        thiefScore.Write(targetId);
                        thiefScore.Write(jewelId);
                        AmongUsClient.Instance.FinishRpcImmediately(thiefScore);
                        RPCProcedure.policeandThiefDeliverJewel(targetId, jewelId);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte jewelId = PoliceAndThief.thiefplayer07JewelId;
                        MessageWriter thiefWhoTookATreasure = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefTakeJewel, Hazel.SendOption.Reliable, -1);
                        thiefWhoTookATreasure.Write(targetId);
                        thiefWhoTookATreasure.Write(jewelId);
                        AmongUsClient.Instance.FinishRpcImmediately(thiefWhoTookATreasure);
                        RPCProcedure.policeandThiefTakeJewel(targetId, jewelId);
                    }
                    thiefplayer07TakeDeliverJewelButton.Timer = thiefplayer07TakeDeliverJewelButton.MaxTimer;
                },
                () => { return PoliceAndThief.thiefplayer07 != null && PoliceAndThief.thiefplayer07 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (PoliceAndThief.thiefplayer07IsStealing)
                        thiefplayer07TakeDeliverJewelButton.actionButton.graphic.sprite = PoliceAndThief.getDeliverJewelButtonSprite();
                    else
                        thiefplayer07TakeDeliverJewelButton.actionButton.graphic.sprite = PoliceAndThief.getTakeJewelButtonSprite();
                    bool CanUse = false;
                    if (PoliceAndThief.thiefTreasures.Count != 0) {
                        foreach (GameObject jewel in PoliceAndThief.thiefTreasures) {
                            if (jewel != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, jewel.transform.position) < 0.5f && !PoliceAndThief.thiefplayer07IsStealing) {
                                switch (jewel.name) {
                                    case "jewel01":
                                        PoliceAndThief.thiefplayer07JewelId = 1;
                                        CanUse = !PoliceAndThief.jewel01BeingStealed;
                                        break;
                                    case "jewel02":
                                        PoliceAndThief.thiefplayer07JewelId = 2;
                                        CanUse = !PoliceAndThief.jewel02BeingStealed;
                                        break;
                                    case "jewel03":
                                        PoliceAndThief.thiefplayer07JewelId = 3;
                                        CanUse = !PoliceAndThief.jewel03BeingStealed;
                                        break;
                                    case "jewel04":
                                        PoliceAndThief.thiefplayer07JewelId = 4;
                                        CanUse = !PoliceAndThief.jewel04BeingStealed;
                                        break;
                                    case "jewel05":
                                        PoliceAndThief.thiefplayer07JewelId = 5;
                                        CanUse = !PoliceAndThief.jewel05BeingStealed;
                                        break;
                                    case "jewel06":
                                        PoliceAndThief.thiefplayer07JewelId = 6;
                                        CanUse = !PoliceAndThief.jewel06BeingStealed;
                                        break;
                                    case "jewel07":
                                        PoliceAndThief.thiefplayer07JewelId = 7;
                                        CanUse = !PoliceAndThief.jewel07BeingStealed;
                                        break;
                                    case "jewel08":
                                        PoliceAndThief.thiefplayer07JewelId = 8;
                                        CanUse = !PoliceAndThief.jewel08BeingStealed;
                                        break;
                                    case "jewel09":
                                        PoliceAndThief.thiefplayer07JewelId = 9;
                                        CanUse = !PoliceAndThief.jewel09BeingStealed;
                                        break;
                                    case "jewel10":
                                        PoliceAndThief.thiefplayer07JewelId = 10;
                                        CanUse = !PoliceAndThief.jewel10BeingStealed;
                                        break;
                                    case "jewel11":
                                        PoliceAndThief.thiefplayer07JewelId = 11;
                                        CanUse = !PoliceAndThief.jewel11BeingStealed;
                                        break;
                                    case "jewel12":
                                        PoliceAndThief.thiefplayer07JewelId = 12;
                                        CanUse = !PoliceAndThief.jewel12BeingStealed;
                                        break;
                                    case "jewel13":
                                        PoliceAndThief.thiefplayer07JewelId = 13;
                                        CanUse = !PoliceAndThief.jewel13BeingStealed;
                                        break;
                                    case "jewel14":
                                        PoliceAndThief.thiefplayer07JewelId = 14;
                                        CanUse = !PoliceAndThief.jewel14BeingStealed;
                                        break;
                                    case "jewel15":
                                        PoliceAndThief.thiefplayer07JewelId = 15;
                                        CanUse = !PoliceAndThief.jewel15BeingStealed;
                                        break;
                                }
                            }
                            else if ((PoliceAndThief.jewelbuttontwo != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbuttontwo.transform.position) < 0.5f || PoliceAndThief.jewelbutton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbutton.transform.position) < 0.5f) && PoliceAndThief.thiefplayer07IsStealing) {
                                CanUse = true;
                            }
                        }

                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer07IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { thiefplayer07TakeDeliverJewelButton.Timer = thiefplayer07TakeDeliverJewelButton.MaxTimer; },
                PoliceAndThief.getTakeJewelButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Thiefplayer08 Kill
            thiefplayer08KillButton = new CustomButton(
                () => {
                    byte targetId = PoliceAndThief.thiefplayer08currentTarget.PlayerId;
                    byte sourceId = PoliceAndThief.thiefplayer08.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    thiefplayer08KillButton.Timer = thiefplayer08KillButton.MaxTimer;
                    PoliceAndThief.thiefplayer08currentTarget = null;
                },
                () => { return PoliceAndThief.thiefplayer08 != null && PoliceAndThief.thiefplayer08 == PlayerInCache.LocalPlayer.PlayerControl && PoliceAndThief.whoCanThiefsKill != 2; },
                () => {
                    bool canUse = false;
                    switch (PoliceAndThief.whoCanThiefsKill) {
                        case 0:
                            if (PoliceAndThief.policeplayer02 != null && PoliceAndThief.thiefplayer08currentTarget == PoliceAndThief.policeplayer02 || PoliceAndThief.policeplayer04 != null && PoliceAndThief.thiefplayer08currentTarget == PoliceAndThief.policeplayer04) {
                                canUse = true;
                            }
                            break;
                        case 1:
                            canUse = true;
                            break;
                    }
                    return canUse && PoliceAndThief.thiefplayer08currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer08IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead && !PoliceAndThief.thiefplayer08IsStealing; },
                () => { thiefplayer08KillButton.Timer = thiefplayer08KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Thiefplayer08 FreeThief Button
            thiefplayer08FreeThiefButton = new CustomButton(
                () => {
                    MessageWriter thiefFree = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefFreeThief, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(thiefFree);
                    RPCProcedure.policeandThiefFreeThief();
                    thiefplayer08FreeThiefButton.Timer = thiefplayer08FreeThiefButton.MaxTimer;
                },
                () => { return PoliceAndThief.thiefplayer08 != null && PoliceAndThief.thiefplayer08 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (PoliceAndThief.localThiefReleaseArrow.Count != 0) {
                        PoliceAndThief.localThiefReleaseArrow[0].Update(PoliceAndThief.cellbutton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            PoliceAndThief.localThiefReleaseArrow[1].Update(PoliceAndThief.cellbuttontwo.transform.position);
                        }
                    }
                    if (PoliceAndThief.localThiefDeliverArrow.Count != 0) {
                        PoliceAndThief.localThiefDeliverArrow[0].Update(PoliceAndThief.jewelbutton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            PoliceAndThief.localThiefDeliverArrow[1].Update(PoliceAndThief.jewelbuttontwo.transform.position);
                        }
                    }

                    bool CanUse = false;
                    if (PoliceAndThief.currentThiefsCaptured > 0) {
                        if ((PoliceAndThief.cellbuttontwo != null && Vector2.Distance(PoliceAndThief.thiefplayer08.transform.position, PoliceAndThief.cellbuttontwo.transform.position) < 0.4f || Vector2.Distance(PoliceAndThief.thiefplayer08.transform.position, PoliceAndThief.cellbutton.transform.position) < 0.4f) && !PoliceAndThief.thiefplayer08.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer08IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { thiefplayer08FreeThiefButton.Timer = thiefplayer08FreeThiefButton.MaxTimer; },
                PoliceAndThief.getFreeThiefButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T
            );

            // Thiefplayer08 Take/Deliver Jewel Button
            thiefplayer08TakeDeliverJewelButton = new CustomButton(
                () => {
                    if (PoliceAndThief.thiefplayer08IsStealing) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte jewelId = PoliceAndThief.thiefplayer08JewelId;
                        MessageWriter thiefScore = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefDeliverJewel, Hazel.SendOption.Reliable, -1);
                        thiefScore.Write(targetId);
                        thiefScore.Write(jewelId);
                        AmongUsClient.Instance.FinishRpcImmediately(thiefScore);
                        RPCProcedure.policeandThiefDeliverJewel(targetId, jewelId);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte jewelId = PoliceAndThief.thiefplayer08JewelId;
                        MessageWriter thiefWhoTookATreasure = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefTakeJewel, Hazel.SendOption.Reliable, -1);
                        thiefWhoTookATreasure.Write(targetId);
                        thiefWhoTookATreasure.Write(jewelId);
                        AmongUsClient.Instance.FinishRpcImmediately(thiefWhoTookATreasure);
                        RPCProcedure.policeandThiefTakeJewel(targetId, jewelId);
                    }
                    thiefplayer08TakeDeliverJewelButton.Timer = thiefplayer08TakeDeliverJewelButton.MaxTimer;
                },
                () => { return PoliceAndThief.thiefplayer08 != null && PoliceAndThief.thiefplayer08 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (PoliceAndThief.thiefplayer08IsStealing)
                        thiefplayer08TakeDeliverJewelButton.actionButton.graphic.sprite = PoliceAndThief.getDeliverJewelButtonSprite();
                    else
                        thiefplayer08TakeDeliverJewelButton.actionButton.graphic.sprite = PoliceAndThief.getTakeJewelButtonSprite();
                    bool CanUse = false;
                    if (PoliceAndThief.thiefTreasures.Count != 0) {
                        foreach (GameObject jewel in PoliceAndThief.thiefTreasures) {
                            if (jewel != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, jewel.transform.position) < 0.5f && !PoliceAndThief.thiefplayer08IsStealing) {
                                switch (jewel.name) {
                                    case "jewel01":
                                        PoliceAndThief.thiefplayer08JewelId = 1;
                                        CanUse = !PoliceAndThief.jewel01BeingStealed;
                                        break;
                                    case "jewel02":
                                        PoliceAndThief.thiefplayer08JewelId = 2;
                                        CanUse = !PoliceAndThief.jewel02BeingStealed;
                                        break;
                                    case "jewel03":
                                        PoliceAndThief.thiefplayer08JewelId = 3;
                                        CanUse = !PoliceAndThief.jewel03BeingStealed;
                                        break;
                                    case "jewel04":
                                        PoliceAndThief.thiefplayer08JewelId = 4;
                                        CanUse = !PoliceAndThief.jewel04BeingStealed;
                                        break;
                                    case "jewel05":
                                        PoliceAndThief.thiefplayer08JewelId = 5;
                                        CanUse = !PoliceAndThief.jewel05BeingStealed;
                                        break;
                                    case "jewel06":
                                        PoliceAndThief.thiefplayer08JewelId = 6;
                                        CanUse = !PoliceAndThief.jewel06BeingStealed;
                                        break;
                                    case "jewel07":
                                        PoliceAndThief.thiefplayer08JewelId = 7;
                                        CanUse = !PoliceAndThief.jewel07BeingStealed;
                                        break;
                                    case "jewel08":
                                        PoliceAndThief.thiefplayer08JewelId = 8;
                                        CanUse = !PoliceAndThief.jewel08BeingStealed;
                                        break;
                                    case "jewel09":
                                        PoliceAndThief.thiefplayer08JewelId = 9;
                                        CanUse = !PoliceAndThief.jewel09BeingStealed;
                                        break;
                                    case "jewel10":
                                        PoliceAndThief.thiefplayer08JewelId = 10;
                                        CanUse = !PoliceAndThief.jewel10BeingStealed;
                                        break;
                                    case "jewel11":
                                        PoliceAndThief.thiefplayer08JewelId = 11;
                                        CanUse = !PoliceAndThief.jewel11BeingStealed;
                                        break;
                                    case "jewel12":
                                        PoliceAndThief.thiefplayer08JewelId = 12;
                                        CanUse = !PoliceAndThief.jewel12BeingStealed;
                                        break;
                                    case "jewel13":
                                        PoliceAndThief.thiefplayer08JewelId = 13;
                                        CanUse = !PoliceAndThief.jewel13BeingStealed;
                                        break;
                                    case "jewel14":
                                        PoliceAndThief.thiefplayer08JewelId = 14;
                                        CanUse = !PoliceAndThief.jewel14BeingStealed;
                                        break;
                                    case "jewel15":
                                        PoliceAndThief.thiefplayer08JewelId = 15;
                                        CanUse = !PoliceAndThief.jewel15BeingStealed;
                                        break;
                                }
                            }
                            else if ((PoliceAndThief.jewelbuttontwo != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbuttontwo.transform.position) < 0.5f || PoliceAndThief.jewelbutton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbutton.transform.position) < 0.5f) && PoliceAndThief.thiefplayer08IsStealing) {
                                CanUse = true;
                            }
                        }

                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer08IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { thiefplayer08TakeDeliverJewelButton.Timer = thiefplayer08TakeDeliverJewelButton.MaxTimer; },
                PoliceAndThief.getTakeJewelButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Thiefplayer09 Kill
            thiefplayer09KillButton = new CustomButton(
                () => {
                    byte targetId = PoliceAndThief.thiefplayer09currentTarget.PlayerId;
                    byte sourceId = PoliceAndThief.thiefplayer09.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    thiefplayer09KillButton.Timer = thiefplayer09KillButton.MaxTimer;
                    PoliceAndThief.thiefplayer09currentTarget = null;
                },
                () => { return PoliceAndThief.thiefplayer09 != null && PoliceAndThief.thiefplayer09 == PlayerInCache.LocalPlayer.PlayerControl && PoliceAndThief.whoCanThiefsKill != 2; },
                () => {
                    bool canUse = false;
                    switch (PoliceAndThief.whoCanThiefsKill) {
                        case 0:
                            if (PoliceAndThief.policeplayer02 != null && PoliceAndThief.thiefplayer09currentTarget == PoliceAndThief.policeplayer02 || PoliceAndThief.policeplayer04 != null && PoliceAndThief.thiefplayer09currentTarget == PoliceAndThief.policeplayer04) {
                                canUse = true;
                            }
                            break;
                        case 1:
                            canUse = true;
                            break;
                    }
                    return canUse && PoliceAndThief.thiefplayer09currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer09IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead && !PoliceAndThief.thiefplayer09IsStealing; },
                () => { thiefplayer09KillButton.Timer = thiefplayer09KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Thiefplayer09 FreeThief Button
            thiefplayer09FreeThiefButton = new CustomButton(
                () => {
                    MessageWriter thiefFree = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefFreeThief, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(thiefFree);
                    RPCProcedure.policeandThiefFreeThief();
                    thiefplayer09FreeThiefButton.Timer = thiefplayer09FreeThiefButton.MaxTimer;
                },
                () => { return PoliceAndThief.thiefplayer09 != null && PoliceAndThief.thiefplayer09 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (PoliceAndThief.localThiefReleaseArrow.Count != 0) {
                        PoliceAndThief.localThiefReleaseArrow[0].Update(PoliceAndThief.cellbutton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            PoliceAndThief.localThiefReleaseArrow[1].Update(PoliceAndThief.cellbuttontwo.transform.position);
                        }
                    }
                    if (PoliceAndThief.localThiefDeliverArrow.Count != 0) {
                        PoliceAndThief.localThiefDeliverArrow[0].Update(PoliceAndThief.jewelbutton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            PoliceAndThief.localThiefDeliverArrow[1].Update(PoliceAndThief.jewelbuttontwo.transform.position);
                        }
                    }

                    bool CanUse = false;
                    if (PoliceAndThief.currentThiefsCaptured > 0) {
                        if ((PoliceAndThief.cellbuttontwo != null && Vector2.Distance(PoliceAndThief.thiefplayer09.transform.position, PoliceAndThief.cellbuttontwo.transform.position) < 0.4f || Vector2.Distance(PoliceAndThief.thiefplayer09.transform.position, PoliceAndThief.cellbutton.transform.position) < 0.4f) && !PoliceAndThief.thiefplayer09.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer09IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { thiefplayer09FreeThiefButton.Timer = thiefplayer09FreeThiefButton.MaxTimer; },
                PoliceAndThief.getFreeThiefButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T
            );

            // Thiefplayer09 Take/Deliver Jewel Button
            thiefplayer09TakeDeliverJewelButton = new CustomButton(
                () => {
                    if (PoliceAndThief.thiefplayer09IsStealing) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte jewelId = PoliceAndThief.thiefplayer09JewelId;
                        MessageWriter thiefScore = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefDeliverJewel, Hazel.SendOption.Reliable, -1);
                        thiefScore.Write(targetId);
                        thiefScore.Write(jewelId);
                        AmongUsClient.Instance.FinishRpcImmediately(thiefScore);
                        RPCProcedure.policeandThiefDeliverJewel(targetId, jewelId);
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte jewelId = PoliceAndThief.thiefplayer09JewelId;
                        MessageWriter thiefWhoTookATreasure = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.PoliceandThiefTakeJewel, Hazel.SendOption.Reliable, -1);
                        thiefWhoTookATreasure.Write(targetId);
                        thiefWhoTookATreasure.Write(jewelId);
                        AmongUsClient.Instance.FinishRpcImmediately(thiefWhoTookATreasure);
                        RPCProcedure.policeandThiefTakeJewel(targetId, jewelId);
                    }
                    thiefplayer09TakeDeliverJewelButton.Timer = thiefplayer09TakeDeliverJewelButton.MaxTimer;
                },
                () => { return PoliceAndThief.thiefplayer09 != null && PoliceAndThief.thiefplayer09 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (PoliceAndThief.thiefplayer09IsStealing)
                        thiefplayer09TakeDeliverJewelButton.actionButton.graphic.sprite = PoliceAndThief.getDeliverJewelButtonSprite();
                    else
                        thiefplayer09TakeDeliverJewelButton.actionButton.graphic.sprite = PoliceAndThief.getTakeJewelButtonSprite();
                    bool CanUse = false;
                    if (PoliceAndThief.thiefTreasures.Count != 0) {
                        foreach (GameObject jewel in PoliceAndThief.thiefTreasures) {
                            if (jewel != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, jewel.transform.position) < 0.5f && !PoliceAndThief.thiefplayer09IsStealing) {
                                switch (jewel.name) {
                                    case "jewel01":
                                        PoliceAndThief.thiefplayer09JewelId = 1;
                                        CanUse = !PoliceAndThief.jewel01BeingStealed;
                                        break;
                                    case "jewel02":
                                        PoliceAndThief.thiefplayer09JewelId = 2;
                                        CanUse = !PoliceAndThief.jewel02BeingStealed;
                                        break;
                                    case "jewel03":
                                        PoliceAndThief.thiefplayer09JewelId = 3;
                                        CanUse = !PoliceAndThief.jewel03BeingStealed;
                                        break;
                                    case "jewel04":
                                        PoliceAndThief.thiefplayer09JewelId = 4;
                                        CanUse = !PoliceAndThief.jewel04BeingStealed;
                                        break;
                                    case "jewel05":
                                        PoliceAndThief.thiefplayer09JewelId = 5;
                                        CanUse = !PoliceAndThief.jewel05BeingStealed;
                                        break;
                                    case "jewel06":
                                        PoliceAndThief.thiefplayer09JewelId = 6;
                                        CanUse = !PoliceAndThief.jewel06BeingStealed;
                                        break;
                                    case "jewel07":
                                        PoliceAndThief.thiefplayer09JewelId = 7;
                                        CanUse = !PoliceAndThief.jewel07BeingStealed;
                                        break;
                                    case "jewel08":
                                        PoliceAndThief.thiefplayer09JewelId = 8;
                                        CanUse = !PoliceAndThief.jewel08BeingStealed;
                                        break;
                                    case "jewel09":
                                        PoliceAndThief.thiefplayer09JewelId = 9;
                                        CanUse = !PoliceAndThief.jewel09BeingStealed;
                                        break;
                                    case "jewel10":
                                        PoliceAndThief.thiefplayer09JewelId = 10;
                                        CanUse = !PoliceAndThief.jewel10BeingStealed;
                                        break;
                                    case "jewel11":
                                        PoliceAndThief.thiefplayer09JewelId = 11;
                                        CanUse = !PoliceAndThief.jewel11BeingStealed;
                                        break;
                                    case "jewel12":
                                        PoliceAndThief.thiefplayer09JewelId = 12;
                                        CanUse = !PoliceAndThief.jewel12BeingStealed;
                                        break;
                                    case "jewel13":
                                        PoliceAndThief.thiefplayer09JewelId = 13;
                                        CanUse = !PoliceAndThief.jewel13BeingStealed;
                                        break;
                                    case "jewel14":
                                        PoliceAndThief.thiefplayer09JewelId = 14;
                                        CanUse = !PoliceAndThief.jewel14BeingStealed;
                                        break;
                                    case "jewel15":
                                        PoliceAndThief.thiefplayer09JewelId = 15;
                                        CanUse = !PoliceAndThief.jewel15BeingStealed;
                                        break;
                                }
                            }
                            else if ((PoliceAndThief.jewelbuttontwo != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbuttontwo.transform.position) < 0.5f || PoliceAndThief.jewelbutton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, PoliceAndThief.jewelbutton.transform.position) < 0.5f) && PoliceAndThief.thiefplayer09IsStealing) {
                                CanUse = true;
                            }
                        }

                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PoliceAndThief.thiefplayer09IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { thiefplayer09TakeDeliverJewelButton.Timer = thiefplayer09TakeDeliverJewelButton.MaxTimer; },
                PoliceAndThief.getTakeJewelButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // King of the hill buttons
            // greenplayer01 Kill
            greenplayer01KillButton = new CustomButton(
                () => {
                    byte targetId = KingOfTheHill.greenplayer01currentTarget.PlayerId;
                    byte sourceId = KingOfTheHill.greenplayer01.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    greenplayer01KillButton.Timer = greenplayer01KillButton.MaxTimer;
                    KingOfTheHill.greenplayer01currentTarget = null;
                },
                () => { return KingOfTheHill.greenplayer01 != null && KingOfTheHill.greenplayer01 == PlayerInCache.LocalPlayer.PlayerControl && PlayerInCache.LocalPlayer.PlayerControl != KingOfTheHill.greenKingplayer; },
                () => {
                    if (KingOfTheHill.localArrows.Count != 0) {
                        KingOfTheHill.localArrows[0].Update(KingOfTheHill.zoneone.transform.position, KingOfTheHill.zoneonecolor);
                        KingOfTheHill.localArrows[1].Update(KingOfTheHill.zonetwo.transform.position, KingOfTheHill.zonetwocolor);
                        KingOfTheHill.localArrows[2].Update(KingOfTheHill.zonethree.transform.position, KingOfTheHill.zonethreecolor);
                        if (!KingOfTheHill.greenKingplayer.Data.IsDead) {
                            KingOfTheHill.localArrows[3].arrow.SetActive(true);
                            KingOfTheHill.localArrows[3].Update(KingOfTheHill.greenKingplayer.transform.position, Color.cyan);
                        } else {
                            KingOfTheHill.localArrows[3].arrow.SetActive(false);
                        }
                    }
                    return KingOfTheHill.greenplayer01currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !KingOfTheHill.greenplayer01IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { greenplayer01KillButton.Timer = greenplayer01KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // greenplayer02 Kill
            greenplayer02KillButton = new CustomButton(
                () => {
                    byte targetId = KingOfTheHill.greenplayer02currentTarget.PlayerId;
                    byte sourceId = KingOfTheHill.greenplayer02.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    greenplayer02KillButton.Timer = greenplayer02KillButton.MaxTimer;
                    KingOfTheHill.greenplayer02currentTarget = null;
                },
                () => { return KingOfTheHill.greenplayer02 != null && KingOfTheHill.greenplayer02 == PlayerInCache.LocalPlayer.PlayerControl && PlayerInCache.LocalPlayer.PlayerControl != KingOfTheHill.greenKingplayer; },
                () => {
                    if (KingOfTheHill.localArrows.Count != 0) {
                        KingOfTheHill.localArrows[0].Update(KingOfTheHill.zoneone.transform.position, KingOfTheHill.zoneonecolor);
                        KingOfTheHill.localArrows[1].Update(KingOfTheHill.zonetwo.transform.position, KingOfTheHill.zonetwocolor);
                        KingOfTheHill.localArrows[2].Update(KingOfTheHill.zonethree.transform.position, KingOfTheHill.zonethreecolor);
                        if (!KingOfTheHill.greenKingplayer.Data.IsDead) {
                            KingOfTheHill.localArrows[3].arrow.SetActive(true);
                            KingOfTheHill.localArrows[3].Update(KingOfTheHill.greenKingplayer.transform.position, Color.cyan);
                        }
                        else {
                            KingOfTheHill.localArrows[3].arrow.SetActive(false);
                        }
                    }
                    return KingOfTheHill.greenplayer02currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !KingOfTheHill.greenplayer02IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { greenplayer02KillButton.Timer = greenplayer02KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // greenplayer03 Kill
            greenplayer03KillButton = new CustomButton(
                () => {
                    byte targetId = KingOfTheHill.greenplayer03currentTarget.PlayerId;
                    byte sourceId = KingOfTheHill.greenplayer03.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    greenplayer03KillButton.Timer = greenplayer03KillButton.MaxTimer;
                    KingOfTheHill.greenplayer03currentTarget = null;
                },
                () => { return KingOfTheHill.greenplayer03 != null && KingOfTheHill.greenplayer03 == PlayerInCache.LocalPlayer.PlayerControl && PlayerInCache.LocalPlayer.PlayerControl != KingOfTheHill.greenKingplayer; },
                () => {
                    if (KingOfTheHill.localArrows.Count != 0) {
                        KingOfTheHill.localArrows[0].Update(KingOfTheHill.zoneone.transform.position, KingOfTheHill.zoneonecolor);
                        KingOfTheHill.localArrows[1].Update(KingOfTheHill.zonetwo.transform.position, KingOfTheHill.zonetwocolor);
                        KingOfTheHill.localArrows[2].Update(KingOfTheHill.zonethree.transform.position, KingOfTheHill.zonethreecolor);
                        if (!KingOfTheHill.greenKingplayer.Data.IsDead) {
                            KingOfTheHill.localArrows[3].arrow.SetActive(true);
                            KingOfTheHill.localArrows[3].Update(KingOfTheHill.greenKingplayer.transform.position, Color.cyan);
                        }
                        else {
                            KingOfTheHill.localArrows[3].arrow.SetActive(false);
                        }
                    }
                    return KingOfTheHill.greenplayer03currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !KingOfTheHill.greenplayer03IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { greenplayer03KillButton.Timer = greenplayer03KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // greenplayer04 Kill
            greenplayer04KillButton = new CustomButton(
                () => {
                    byte targetId = KingOfTheHill.greenplayer04currentTarget.PlayerId;
                    byte sourceId = KingOfTheHill.greenplayer04.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    greenplayer04KillButton.Timer = greenplayer04KillButton.MaxTimer;
                    KingOfTheHill.greenplayer04currentTarget = null;
                },
                () => { return KingOfTheHill.greenplayer04 != null && KingOfTheHill.greenplayer04 == PlayerInCache.LocalPlayer.PlayerControl && PlayerInCache.LocalPlayer.PlayerControl != KingOfTheHill.greenKingplayer; },
                () => {
                    if (KingOfTheHill.localArrows.Count != 0) {
                        KingOfTheHill.localArrows[0].Update(KingOfTheHill.zoneone.transform.position, KingOfTheHill.zoneonecolor);
                        KingOfTheHill.localArrows[1].Update(KingOfTheHill.zonetwo.transform.position, KingOfTheHill.zonetwocolor);
                        KingOfTheHill.localArrows[2].Update(KingOfTheHill.zonethree.transform.position, KingOfTheHill.zonethreecolor);
                        if (!KingOfTheHill.greenKingplayer.Data.IsDead) {
                            KingOfTheHill.localArrows[3].arrow.SetActive(true);
                            KingOfTheHill.localArrows[3].Update(KingOfTheHill.greenKingplayer.transform.position, Color.cyan);
                        }
                        else {
                            KingOfTheHill.localArrows[3].arrow.SetActive(false);
                        }
                    }
                    return KingOfTheHill.greenplayer04currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !KingOfTheHill.greenplayer04IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { greenplayer04KillButton.Timer = greenplayer04KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // greenplayer05 Kill
            greenplayer05KillButton = new CustomButton(
                () => {
                    byte targetId = KingOfTheHill.greenplayer05currentTarget.PlayerId;
                    byte sourceId = KingOfTheHill.greenplayer05.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    greenplayer05KillButton.Timer = greenplayer05KillButton.MaxTimer;
                    KingOfTheHill.greenplayer05currentTarget = null;
                },
                () => { return KingOfTheHill.greenplayer05 != null && KingOfTheHill.greenplayer05 == PlayerInCache.LocalPlayer.PlayerControl && PlayerInCache.LocalPlayer.PlayerControl != KingOfTheHill.greenKingplayer; },
                () => {
                    if (KingOfTheHill.localArrows.Count != 0) {
                        KingOfTheHill.localArrows[0].Update(KingOfTheHill.zoneone.transform.position, KingOfTheHill.zoneonecolor);
                        KingOfTheHill.localArrows[1].Update(KingOfTheHill.zonetwo.transform.position, KingOfTheHill.zonetwocolor);
                        KingOfTheHill.localArrows[2].Update(KingOfTheHill.zonethree.transform.position, KingOfTheHill.zonethreecolor);
                        if (!KingOfTheHill.greenKingplayer.Data.IsDead) {
                            KingOfTheHill.localArrows[3].arrow.SetActive(true);
                            KingOfTheHill.localArrows[3].Update(KingOfTheHill.greenKingplayer.transform.position, Color.cyan);
                        }
                        else {
                            KingOfTheHill.localArrows[3].arrow.SetActive(false);
                        }
                    }
                    return KingOfTheHill.greenplayer05currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !KingOfTheHill.greenplayer05IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { greenplayer05KillButton.Timer = greenplayer05KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // greenplayer06 Kill
            greenplayer06KillButton = new CustomButton(
                () => {
                    byte targetId = KingOfTheHill.greenplayer06currentTarget.PlayerId;
                    byte sourceId = KingOfTheHill.greenplayer06.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    greenplayer06KillButton.Timer = greenplayer06KillButton.MaxTimer;
                    KingOfTheHill.greenplayer06currentTarget = null;
                },
                () => { return KingOfTheHill.greenplayer06 != null && KingOfTheHill.greenplayer06 == PlayerInCache.LocalPlayer.PlayerControl && PlayerInCache.LocalPlayer.PlayerControl != KingOfTheHill.greenKingplayer; },
                () => {
                    if (KingOfTheHill.localArrows.Count != 0) {
                        KingOfTheHill.localArrows[0].Update(KingOfTheHill.zoneone.transform.position, KingOfTheHill.zoneonecolor);
                        KingOfTheHill.localArrows[1].Update(KingOfTheHill.zonetwo.transform.position, KingOfTheHill.zonetwocolor);
                        KingOfTheHill.localArrows[2].Update(KingOfTheHill.zonethree.transform.position, KingOfTheHill.zonethreecolor);
                        if (!KingOfTheHill.greenKingplayer.Data.IsDead) {
                            KingOfTheHill.localArrows[3].arrow.SetActive(true);
                            KingOfTheHill.localArrows[3].Update(KingOfTheHill.greenKingplayer.transform.position, Color.cyan);
                        }
                        else {
                            KingOfTheHill.localArrows[3].arrow.SetActive(false);
                        }
                    }
                    return KingOfTheHill.greenplayer06currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !KingOfTheHill.greenplayer06IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { greenplayer06KillButton.Timer = greenplayer06KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // yellowplayer01 Kill
            yellowplayer01KillButton = new CustomButton(
                () => {
                    byte targetId = KingOfTheHill.yellowplayer01currentTarget.PlayerId;
                    byte sourceId = KingOfTheHill.yellowplayer01.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    yellowplayer01KillButton.Timer = yellowplayer01KillButton.MaxTimer;
                    KingOfTheHill.yellowplayer01currentTarget = null;
                },
                () => { return KingOfTheHill.yellowplayer01 != null && KingOfTheHill.yellowplayer01 == PlayerInCache.LocalPlayer.PlayerControl && PlayerInCache.LocalPlayer.PlayerControl != KingOfTheHill.yellowKingplayer; },
                () => {
                    if (KingOfTheHill.localArrows.Count != 0) {
                        KingOfTheHill.localArrows[0].Update(KingOfTheHill.zoneone.transform.position, KingOfTheHill.zoneonecolor);
                        KingOfTheHill.localArrows[1].Update(KingOfTheHill.zonetwo.transform.position, KingOfTheHill.zonetwocolor);
                        KingOfTheHill.localArrows[2].Update(KingOfTheHill.zonethree.transform.position, KingOfTheHill.zonethreecolor);
                        if (!KingOfTheHill.yellowKingplayer.Data.IsDead) {
                            KingOfTheHill.localArrows[3].arrow.SetActive(true);
                            KingOfTheHill.localArrows[3].Update(KingOfTheHill.yellowKingplayer.transform.position, Color.cyan);
                        }
                        else {
                            KingOfTheHill.localArrows[3].arrow.SetActive(false);
                        }
                    }
                    return KingOfTheHill.yellowplayer01currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !KingOfTheHill.yellowplayer01IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { yellowplayer01KillButton.Timer = yellowplayer01KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // yellowplayer02 Kill
            yellowplayer02KillButton = new CustomButton(
                () => {
                    byte targetId = KingOfTheHill.yellowplayer02currentTarget.PlayerId;
                    byte sourceId = KingOfTheHill.yellowplayer02.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    yellowplayer02KillButton.Timer = yellowplayer02KillButton.MaxTimer;
                    KingOfTheHill.yellowplayer02currentTarget = null;
                },
                () => { return KingOfTheHill.yellowplayer02 != null && KingOfTheHill.yellowplayer02 == PlayerInCache.LocalPlayer.PlayerControl && PlayerInCache.LocalPlayer.PlayerControl != KingOfTheHill.yellowKingplayer; },
                () => {
                    if (KingOfTheHill.localArrows.Count != 0) {
                        KingOfTheHill.localArrows[0].Update(KingOfTheHill.zoneone.transform.position, KingOfTheHill.zoneonecolor);
                        KingOfTheHill.localArrows[1].Update(KingOfTheHill.zonetwo.transform.position, KingOfTheHill.zonetwocolor);
                        KingOfTheHill.localArrows[2].Update(KingOfTheHill.zonethree.transform.position, KingOfTheHill.zonethreecolor);
                        if (!KingOfTheHill.yellowKingplayer.Data.IsDead) {
                            KingOfTheHill.localArrows[3].arrow.SetActive(true);
                            KingOfTheHill.localArrows[3].Update(KingOfTheHill.yellowKingplayer.transform.position, Color.cyan);
                        }
                        else {
                            KingOfTheHill.localArrows[3].arrow.SetActive(false);
                        }
                    }
                    return KingOfTheHill.yellowplayer02currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !KingOfTheHill.yellowplayer02IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { yellowplayer02KillButton.Timer = yellowplayer02KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // yellowplayer03 Kill
            yellowplayer03KillButton = new CustomButton(
                () => {
                    byte targetId = KingOfTheHill.yellowplayer03currentTarget.PlayerId;
                    byte sourceId = KingOfTheHill.yellowplayer03.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    yellowplayer03KillButton.Timer = yellowplayer03KillButton.MaxTimer;
                    KingOfTheHill.yellowplayer03currentTarget = null;
                },
                () => { return KingOfTheHill.yellowplayer03 != null && KingOfTheHill.yellowplayer03 == PlayerInCache.LocalPlayer.PlayerControl && PlayerInCache.LocalPlayer.PlayerControl != KingOfTheHill.yellowKingplayer; },
                () => {
                    if (KingOfTheHill.localArrows.Count != 0) {
                        KingOfTheHill.localArrows[0].Update(KingOfTheHill.zoneone.transform.position, KingOfTheHill.zoneonecolor);
                        KingOfTheHill.localArrows[1].Update(KingOfTheHill.zonetwo.transform.position, KingOfTheHill.zonetwocolor);
                        KingOfTheHill.localArrows[2].Update(KingOfTheHill.zonethree.transform.position, KingOfTheHill.zonethreecolor);
                        if (!KingOfTheHill.yellowKingplayer.Data.IsDead) {
                            KingOfTheHill.localArrows[3].arrow.SetActive(true);
                            KingOfTheHill.localArrows[3].Update(KingOfTheHill.yellowKingplayer.transform.position, Color.cyan);
                        }
                        else {
                            KingOfTheHill.localArrows[3].arrow.SetActive(false);
                        }
                    }
                    return KingOfTheHill.yellowplayer03currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !KingOfTheHill.yellowplayer03IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { yellowplayer03KillButton.Timer = yellowplayer03KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // yellowplayer04 Kill
            yellowplayer04KillButton = new CustomButton(
                () => {
                    byte targetId = KingOfTheHill.yellowplayer04currentTarget.PlayerId;
                    byte sourceId = KingOfTheHill.yellowplayer04.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    yellowplayer04KillButton.Timer = yellowplayer04KillButton.MaxTimer;
                    KingOfTheHill.yellowplayer04currentTarget = null;
                },
                () => { return KingOfTheHill.yellowplayer04 != null && KingOfTheHill.yellowplayer04 == PlayerInCache.LocalPlayer.PlayerControl && PlayerInCache.LocalPlayer.PlayerControl != KingOfTheHill.yellowKingplayer; },
                () => {
                    if (KingOfTheHill.localArrows.Count != 0) {
                        KingOfTheHill.localArrows[0].Update(KingOfTheHill.zoneone.transform.position, KingOfTheHill.zoneonecolor);
                        KingOfTheHill.localArrows[1].Update(KingOfTheHill.zonetwo.transform.position, KingOfTheHill.zonetwocolor);
                        KingOfTheHill.localArrows[2].Update(KingOfTheHill.zonethree.transform.position, KingOfTheHill.zonethreecolor);
                        if (!KingOfTheHill.yellowKingplayer.Data.IsDead) {
                            KingOfTheHill.localArrows[3].arrow.SetActive(true);
                            KingOfTheHill.localArrows[3].Update(KingOfTheHill.yellowKingplayer.transform.position, Color.cyan);
                        }
                        else {
                            KingOfTheHill.localArrows[3].arrow.SetActive(false);
                        }
                    }
                    return KingOfTheHill.yellowplayer04currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !KingOfTheHill.yellowplayer04IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { yellowplayer04KillButton.Timer = yellowplayer04KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // yellowplayer05 Kill
            yellowplayer05KillButton = new CustomButton(
                () => {
                    byte targetId = KingOfTheHill.yellowplayer05currentTarget.PlayerId;
                    byte sourceId = KingOfTheHill.yellowplayer05.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    yellowplayer05KillButton.Timer = yellowplayer05KillButton.MaxTimer;
                    KingOfTheHill.yellowplayer05currentTarget = null;
                },
                () => { return KingOfTheHill.yellowplayer05 != null && KingOfTheHill.yellowplayer05 == PlayerInCache.LocalPlayer.PlayerControl && PlayerInCache.LocalPlayer.PlayerControl != KingOfTheHill.yellowKingplayer; },
                () => {
                    if (KingOfTheHill.localArrows.Count != 0) {
                        KingOfTheHill.localArrows[0].Update(KingOfTheHill.zoneone.transform.position, KingOfTheHill.zoneonecolor);
                        KingOfTheHill.localArrows[1].Update(KingOfTheHill.zonetwo.transform.position, KingOfTheHill.zonetwocolor);
                        KingOfTheHill.localArrows[2].Update(KingOfTheHill.zonethree.transform.position, KingOfTheHill.zonethreecolor);
                        if (!KingOfTheHill.yellowKingplayer.Data.IsDead) {
                            KingOfTheHill.localArrows[3].arrow.SetActive(true);
                            KingOfTheHill.localArrows[3].Update(KingOfTheHill.yellowKingplayer.transform.position, Color.cyan);
                        }
                        else {
                            KingOfTheHill.localArrows[3].arrow.SetActive(false);
                        }
                    }
                    return KingOfTheHill.yellowplayer05currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !KingOfTheHill.yellowplayer05IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { yellowplayer05KillButton.Timer = yellowplayer05KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // yellowplayer06 Kill
            yellowplayer06KillButton = new CustomButton(
                () => {
                    byte targetId = KingOfTheHill.yellowplayer06currentTarget.PlayerId;
                    byte sourceId = KingOfTheHill.yellowplayer06.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    yellowplayer06KillButton.Timer = yellowplayer06KillButton.MaxTimer;
                    KingOfTheHill.yellowplayer06currentTarget = null;
                },
                () => { return KingOfTheHill.yellowplayer06 != null && KingOfTheHill.yellowplayer06 == PlayerInCache.LocalPlayer.PlayerControl && PlayerInCache.LocalPlayer.PlayerControl != KingOfTheHill.yellowKingplayer; },
                () => {
                    if (KingOfTheHill.localArrows.Count != 0) {
                        KingOfTheHill.localArrows[0].Update(KingOfTheHill.zoneone.transform.position, KingOfTheHill.zoneonecolor);
                        KingOfTheHill.localArrows[1].Update(KingOfTheHill.zonetwo.transform.position, KingOfTheHill.zonetwocolor);
                        KingOfTheHill.localArrows[2].Update(KingOfTheHill.zonethree.transform.position, KingOfTheHill.zonethreecolor);
                        if (!KingOfTheHill.yellowKingplayer.Data.IsDead) {
                            KingOfTheHill.localArrows[3].arrow.SetActive(true);
                            KingOfTheHill.localArrows[3].Update(KingOfTheHill.yellowKingplayer.transform.position, Color.cyan);
                        }
                        else {
                            KingOfTheHill.localArrows[3].arrow.SetActive(false);
                        }
                    }
                    return KingOfTheHill.yellowplayer06currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !KingOfTheHill.yellowplayer06IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { yellowplayer06KillButton.Timer = yellowplayer06KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // UsurperPlayer Kill
            usurperPlayerKillButton = new CustomButton(
                () => {
                    byte targetId = KingOfTheHill.usurperPlayercurrentTarget.PlayerId;
                    byte sourceId = KingOfTheHill.usurperPlayer.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    usurperPlayerKillButton.Timer = usurperPlayerKillButton.MaxTimer;
                    KingOfTheHill.usurperPlayercurrentTarget = null;
                },
                () => { return KingOfTheHill.usurperPlayer != null && KingOfTheHill.usurperPlayer == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (KingOfTheHill.localArrows.Count != 0) {
                        KingOfTheHill.localArrows[0].Update(KingOfTheHill.zoneone.transform.position, KingOfTheHill.zoneonecolor);
                        KingOfTheHill.localArrows[1].Update(KingOfTheHill.zonetwo.transform.position, KingOfTheHill.zonetwocolor);
                        KingOfTheHill.localArrows[2].Update(KingOfTheHill.zonethree.transform.position, KingOfTheHill.zonethreecolor);
                        if (!KingOfTheHill.greenKingplayer.Data.IsDead) {
                            KingOfTheHill.localArrows[4].arrow.SetActive(true);
                            KingOfTheHill.localArrows[4].Update(KingOfTheHill.greenKingplayer.transform.position, Color.cyan);
                        }
                        else {
                            KingOfTheHill.localArrows[4].arrow.SetActive(false);
                        }
                        if (!KingOfTheHill.yellowKingplayer.Data.IsDead) {
                            KingOfTheHill.localArrows[5].arrow.SetActive(true);
                            KingOfTheHill.localArrows[5].Update(KingOfTheHill.yellowKingplayer.transform.position, Color.cyan);
                        }
                        else {
                            KingOfTheHill.localArrows[5].arrow.SetActive(false);
                        }
                    }
                    bool canUse = true;
                    foreach (GameObject spawns in KingOfTheHill.usurperSpawns) {
                        if (spawns != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, spawns.transform.position) < 2.5f) {
                            canUse = false;
                        }
                    }
                    return canUse && KingOfTheHill.usurperPlayercurrentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !KingOfTheHill.usurperPlayerIsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { usurperPlayerKillButton.Timer = usurperPlayerKillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // greenKingplayer Capture
            greenKingplayerCaptureZoneButton = new CustomButton(
                () => {

                    if (KingOfTheHill.whichGreenKingplayerzone != 0) {
                        greenKingplayerCaptureZoneButton.HasEffect = true;
                    }

                },
                () => { return KingOfTheHill.greenKingplayer != null && KingOfTheHill.greenKingplayer == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (KingOfTheHill.localArrows.Count != 0) {
                        KingOfTheHill.localArrows[0].Update(KingOfTheHill.zoneone.transform.position, KingOfTheHill.zoneonecolor);
                        KingOfTheHill.localArrows[1].Update(KingOfTheHill.zonetwo.transform.position, KingOfTheHill.zonetwocolor);
                        KingOfTheHill.localArrows[2].Update(KingOfTheHill.zonethree.transform.position, KingOfTheHill.zonethreecolor);
                    }
                    bool CanUse = false;
                    KingOfTheHill.whichGreenKingplayerzone = 0;
                    if (KingOfTheHill.kingZones.Count != 0) {
                        foreach (GameObject zone in KingOfTheHill.kingZones) {
                            if (zone != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, zone.transform.position) < 0.5f) {
                                switch (zone.name) {
                                    case "zoneone":
                                        KingOfTheHill.whichGreenKingplayerzone = 1;
                                        CanUse = !KingOfTheHill.greenKinghaszoneone;
                                        break;
                                    case "zonetwo":
                                        KingOfTheHill.whichGreenKingplayerzone = 2;
                                        CanUse = !KingOfTheHill.greenKinghaszonetwo;
                                        break;
                                    case "zonethree":
                                        KingOfTheHill.whichGreenKingplayerzone = 3;
                                        CanUse = !KingOfTheHill.greenKinghaszonethree;
                                        break;
                                }
                            }
                        }
                        if (greenKingplayerCaptureZoneButton.isEffectActive && (KingOfTheHill.whichGreenKingplayerzone == 0 || PlayerInCache.LocalPlayer.Data.IsDead)) {
                            greenKingplayerCaptureZoneButton.Timer = 0f;
                            greenKingplayerCaptureZoneButton.isEffectActive = false;
                        }

                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !KingOfTheHill.greenKingIsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { greenKingplayerCaptureZoneButton.Timer = greenKingplayerCaptureZoneButton.MaxTimer; },
                KingOfTheHill.getPlaceGreenFlagButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                true,
                3,
                () => {
                    if (KingOfTheHill.whichGreenKingplayerzone != 0) {
                        byte zoneId = KingOfTheHill.whichGreenKingplayerzone;
                        MessageWriter greenKingCaptured = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.KingoftheHillCapture, Hazel.SendOption.Reliable, -1);
                        greenKingCaptured.Write(zoneId);
                        greenKingCaptured.Write(1);
                        AmongUsClient.Instance.FinishRpcImmediately(greenKingCaptured);
                        RPCProcedure.kingoftheHillCapture(zoneId, 1);

                        greenKingplayerCaptureZoneButton.Timer = greenKingplayerCaptureZoneButton.MaxTimer;
                    }
                }
            );

            // yellowKingplayer Capture
            yellowKingplayerCaptureZoneButton = new CustomButton(
                () => {

                    if (KingOfTheHill.whichYellowKingplayerzone != 0) {
                        yellowKingplayerCaptureZoneButton.HasEffect = true;
                    }

                },
                () => { return KingOfTheHill.yellowKingplayer != null && KingOfTheHill.yellowKingplayer == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (KingOfTheHill.localArrows.Count != 0) {
                        KingOfTheHill.localArrows[0].Update(KingOfTheHill.zoneone.transform.position, KingOfTheHill.zoneonecolor);
                        KingOfTheHill.localArrows[1].Update(KingOfTheHill.zonetwo.transform.position, KingOfTheHill.zonetwocolor);
                        KingOfTheHill.localArrows[2].Update(KingOfTheHill.zonethree.transform.position, KingOfTheHill.zonethreecolor);
                    }
                    bool CanUse = false;
                    KingOfTheHill.whichYellowKingplayerzone = 0;
                    if (KingOfTheHill.kingZones.Count != 0) {
                        foreach (GameObject zone in KingOfTheHill.kingZones) {
                            if (zone != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, zone.transform.position) < 0.5f) {
                                switch (zone.name) {
                                    case "zoneone":
                                        KingOfTheHill.whichYellowKingplayerzone = 1;
                                        CanUse = !KingOfTheHill.yellowKinghaszoneone;
                                        break;
                                    case "zonetwo":
                                        KingOfTheHill.whichYellowKingplayerzone = 2;
                                        CanUse = !KingOfTheHill.yellowKinghaszonetwo;
                                        break;
                                    case "zonethree":
                                        KingOfTheHill.whichYellowKingplayerzone = 3;
                                        CanUse = !KingOfTheHill.yellowKinghaszonethree;
                                        break;
                                }
                            }
                        }
                        if (yellowKingplayerCaptureZoneButton.isEffectActive && (KingOfTheHill.whichYellowKingplayerzone == 0 || PlayerInCache.LocalPlayer.Data.IsDead)) {
                            yellowKingplayerCaptureZoneButton.Timer = 0f;
                            yellowKingplayerCaptureZoneButton.isEffectActive = false;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !KingOfTheHill.yellowKingIsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { yellowKingplayerCaptureZoneButton.Timer = yellowKingplayerCaptureZoneButton.MaxTimer; },
                KingOfTheHill.getPlaceYellowFlagButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                true,
                3,
                () => {
                    if (KingOfTheHill.whichYellowKingplayerzone != 0) {
                        byte zoneId = KingOfTheHill.whichYellowKingplayerzone;
                        MessageWriter yellowKingCaptured = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.KingoftheHillCapture, Hazel.SendOption.Reliable, -1);
                        yellowKingCaptured.Write(zoneId);
                        yellowKingCaptured.Write(2);
                        AmongUsClient.Instance.FinishRpcImmediately(yellowKingCaptured);
                        RPCProcedure.kingoftheHillCapture(zoneId, 2);

                        yellowKingplayerCaptureZoneButton.Timer = yellowKingplayerCaptureZoneButton.MaxTimer;
                    }
                }
            );

            // Hot Potato buttons code
            // Hot Potato transfer
            hotPotatoButton = new CustomButton(
                () => {

                    hotPotatoButton.Timer = hotPotatoButton.MaxTimer;
                    byte targetId = HotPotato.hotPotatoPlayerCurrentTarget.PlayerId;
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.HotPotatoTransfer, Hazel.SendOption.Reliable, -1);
                    writer.Write(targetId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);

                    RPCProcedure.hotPotatoTransfer(targetId);
                },
                () => { return HotPotato.hotPotatoPlayer != null && HotPotato.hotPotatoPlayer == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => { return HotPotato.hotPotatoPlayerCurrentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && HotPotato.timeforTransfer >= 1;
                },
                () => { hotPotatoButton.Timer = hotPotatoButton.MaxTimer; },
                HotPotato.getButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // ZombieLaboratory buttons code
            // Zombie01 infect
            zombie01InfectButton = new CustomButton(
                () => {
                    ZombieLaboratory.zombiePlayer01infectedTarget = ZombieLaboratory.zombiePlayer01currentTarget;
                    zombie01InfectButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.zombiePlayer01 != null && ZombieLaboratory.zombiePlayer01 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (zombie01InfectButton.isEffectActive && ZombieLaboratory.zombiePlayer01infectedTarget != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.zombiePlayer01infectedTarget.transform.position) > GameOptionsData.KillDistances[Mathf.Clamp(GameOptionsManager.Instance.currentGameOptions.GetInt(Int32OptionNames.KillDistance), 0, 2)]) {
                        ZombieLaboratory.zombiePlayer01infectedTarget = null;
                        zombie01InfectButton.Timer = 0f;
                        zombie01InfectButton.isEffectActive = false;
                    }

                    bool canUse = false;
                    if (ZombieLaboratory.zombiePlayer01currentTarget != null) {
                        if (ZombieLaboratory.zombiePlayer01currentTarget == ZombieLaboratory.survivorPlayer01) {
                            canUse = !ZombieLaboratory.survivorPlayer01IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer01currentTarget == ZombieLaboratory.survivorPlayer02) {
                            canUse = !ZombieLaboratory.survivorPlayer02IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer01currentTarget == ZombieLaboratory.survivorPlayer03) {
                            canUse = !ZombieLaboratory.survivorPlayer03IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer01currentTarget == ZombieLaboratory.survivorPlayer04) {
                            canUse = !ZombieLaboratory.survivorPlayer04IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer01currentTarget == ZombieLaboratory.survivorPlayer05) {
                            canUse = !ZombieLaboratory.survivorPlayer05IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer01currentTarget == ZombieLaboratory.survivorPlayer06) {
                            canUse = !ZombieLaboratory.survivorPlayer06IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer01currentTarget == ZombieLaboratory.survivorPlayer07) {
                            canUse = !ZombieLaboratory.survivorPlayer07IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer01currentTarget == ZombieLaboratory.survivorPlayer08) {
                            canUse = !ZombieLaboratory.survivorPlayer08IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer01currentTarget == ZombieLaboratory.survivorPlayer09) {
                            canUse = !ZombieLaboratory.survivorPlayer09IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer01currentTarget == ZombieLaboratory.survivorPlayer10) {
                            canUse = !ZombieLaboratory.survivorPlayer10IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer01currentTarget == ZombieLaboratory.survivorPlayer11) {
                            canUse = !ZombieLaboratory.survivorPlayer11IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer01currentTarget == ZombieLaboratory.survivorPlayer12) {
                            canUse = !ZombieLaboratory.survivorPlayer12IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer01currentTarget == ZombieLaboratory.survivorPlayer13) {
                            canUse = !ZombieLaboratory.survivorPlayer13IsInfected;
                        }
                    }
                    return canUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.zombiePlayer01IsReviving && ZombieLaboratory.zombiePlayer01currentTarget != null;
                },
                () => { zombie01InfectButton.Timer = zombie01InfectButton.MaxTimer; },
                ZombieLaboratory.getInfectButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.infectTime,
                () => {
                    if (ZombieLaboratory.zombiePlayer01infectedTarget != null && !ZombieLaboratory.zombiePlayer01infectedTarget.Data.IsDead) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieInfect, Hazel.SendOption.Reliable, -1);
                        writer.Write(ZombieLaboratory.zombiePlayer01infectedTarget.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.zombieInfect(ZombieLaboratory.zombiePlayer01infectedTarget.PlayerId);
                        ZombieLaboratory.zombiePlayer01infectedTarget = null;
                    }
                    zombie01InfectButton.Timer = zombie01InfectButton.MaxTimer;
                }
            );

            // Zombie02 infect
            zombie02InfectButton = new CustomButton(
                () => {
                    ZombieLaboratory.zombiePlayer02infectedTarget = ZombieLaboratory.zombiePlayer02currentTarget;
                    zombie02InfectButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.zombiePlayer02 != null && ZombieLaboratory.zombiePlayer02 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (zombie02InfectButton.isEffectActive && ZombieLaboratory.zombiePlayer02infectedTarget != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.zombiePlayer02infectedTarget.transform.position) > GameOptionsData.KillDistances[Mathf.Clamp(GameOptionsManager.Instance.currentGameOptions.GetInt(Int32OptionNames.KillDistance), 0, 2)]) {
                        ZombieLaboratory.zombiePlayer02infectedTarget = null;
                        zombie02InfectButton.Timer = 0f;
                        zombie02InfectButton.isEffectActive = false;
                    }

                    bool canUse = false;
                    if (ZombieLaboratory.zombiePlayer02currentTarget != null) {
                        if (ZombieLaboratory.zombiePlayer02currentTarget == ZombieLaboratory.survivorPlayer01) {
                            canUse = !ZombieLaboratory.survivorPlayer01IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer02currentTarget == ZombieLaboratory.survivorPlayer02) {
                            canUse = !ZombieLaboratory.survivorPlayer02IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer02currentTarget == ZombieLaboratory.survivorPlayer03) {
                            canUse = !ZombieLaboratory.survivorPlayer03IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer02currentTarget == ZombieLaboratory.survivorPlayer04) {
                            canUse = !ZombieLaboratory.survivorPlayer04IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer02currentTarget == ZombieLaboratory.survivorPlayer05) {
                            canUse = !ZombieLaboratory.survivorPlayer05IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer02currentTarget == ZombieLaboratory.survivorPlayer06) {
                            canUse = !ZombieLaboratory.survivorPlayer06IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer02currentTarget == ZombieLaboratory.survivorPlayer07) {
                            canUse = !ZombieLaboratory.survivorPlayer07IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer02currentTarget == ZombieLaboratory.survivorPlayer08) {
                            canUse = !ZombieLaboratory.survivorPlayer08IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer02currentTarget == ZombieLaboratory.survivorPlayer09) {
                            canUse = !ZombieLaboratory.survivorPlayer09IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer02currentTarget == ZombieLaboratory.survivorPlayer10) {
                            canUse = !ZombieLaboratory.survivorPlayer10IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer02currentTarget == ZombieLaboratory.survivorPlayer11) {
                            canUse = !ZombieLaboratory.survivorPlayer11IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer02currentTarget == ZombieLaboratory.survivorPlayer12) {
                            canUse = !ZombieLaboratory.survivorPlayer12IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer02currentTarget == ZombieLaboratory.survivorPlayer13) {
                            canUse = !ZombieLaboratory.survivorPlayer13IsInfected;
                        }
                    }
                    return canUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.zombiePlayer02IsReviving && ZombieLaboratory.zombiePlayer02currentTarget != null;
                },
                () => { zombie02InfectButton.Timer = zombie02InfectButton.MaxTimer; },
                ZombieLaboratory.getInfectButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.infectTime,
                () => {
                    if (ZombieLaboratory.zombiePlayer02infectedTarget != null && !ZombieLaboratory.zombiePlayer02infectedTarget.Data.IsDead) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieInfect, Hazel.SendOption.Reliable, -1);
                        writer.Write(ZombieLaboratory.zombiePlayer02infectedTarget.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.zombieInfect(ZombieLaboratory.zombiePlayer02infectedTarget.PlayerId);
                        ZombieLaboratory.zombiePlayer02infectedTarget = null;
                    }
                    zombie02InfectButton.Timer = zombie02InfectButton.MaxTimer;
                }
            );

            // Zombie03 infect
            zombie03InfectButton = new CustomButton(
                () => {
                    ZombieLaboratory.zombiePlayer03infectedTarget = ZombieLaboratory.zombiePlayer03currentTarget;
                    zombie03InfectButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.zombiePlayer03 != null && ZombieLaboratory.zombiePlayer03 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (zombie03InfectButton.isEffectActive && ZombieLaboratory.zombiePlayer03infectedTarget != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.zombiePlayer03infectedTarget.transform.position) > GameOptionsData.KillDistances[Mathf.Clamp(GameOptionsManager.Instance.currentGameOptions.GetInt(Int32OptionNames.KillDistance), 0, 2)]) {
                        ZombieLaboratory.zombiePlayer03infectedTarget = null;
                        zombie03InfectButton.Timer = 0f;
                        zombie03InfectButton.isEffectActive = false;
                    }

                    bool canUse = false;
                    if (ZombieLaboratory.zombiePlayer03currentTarget != null) {
                        if (ZombieLaboratory.zombiePlayer03currentTarget == ZombieLaboratory.survivorPlayer01) {
                            canUse = !ZombieLaboratory.survivorPlayer01IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer03currentTarget == ZombieLaboratory.survivorPlayer02) {
                            canUse = !ZombieLaboratory.survivorPlayer02IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer03currentTarget == ZombieLaboratory.survivorPlayer03) {
                            canUse = !ZombieLaboratory.survivorPlayer03IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer03currentTarget == ZombieLaboratory.survivorPlayer04) {
                            canUse = !ZombieLaboratory.survivorPlayer04IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer03currentTarget == ZombieLaboratory.survivorPlayer05) {
                            canUse = !ZombieLaboratory.survivorPlayer05IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer03currentTarget == ZombieLaboratory.survivorPlayer06) {
                            canUse = !ZombieLaboratory.survivorPlayer06IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer03currentTarget == ZombieLaboratory.survivorPlayer07) {
                            canUse = !ZombieLaboratory.survivorPlayer07IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer03currentTarget == ZombieLaboratory.survivorPlayer08) {
                            canUse = !ZombieLaboratory.survivorPlayer08IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer03currentTarget == ZombieLaboratory.survivorPlayer09) {
                            canUse = !ZombieLaboratory.survivorPlayer09IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer03currentTarget == ZombieLaboratory.survivorPlayer10) {
                            canUse = !ZombieLaboratory.survivorPlayer10IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer03currentTarget == ZombieLaboratory.survivorPlayer11) {
                            canUse = !ZombieLaboratory.survivorPlayer11IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer03currentTarget == ZombieLaboratory.survivorPlayer12) {
                            canUse = !ZombieLaboratory.survivorPlayer12IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer03currentTarget == ZombieLaboratory.survivorPlayer13) {
                            canUse = !ZombieLaboratory.survivorPlayer13IsInfected;
                        }
                    }
                    return canUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.zombiePlayer03IsReviving && ZombieLaboratory.zombiePlayer03currentTarget != null;
                },
                () => { zombie03InfectButton.Timer = zombie03InfectButton.MaxTimer; },
                ZombieLaboratory.getInfectButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.infectTime,
                () => {
                    if (ZombieLaboratory.zombiePlayer03infectedTarget != null && !ZombieLaboratory.zombiePlayer03infectedTarget.Data.IsDead) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieInfect, Hazel.SendOption.Reliable, -1);
                        writer.Write(ZombieLaboratory.zombiePlayer03infectedTarget.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.zombieInfect(ZombieLaboratory.zombiePlayer03infectedTarget.PlayerId);
                        ZombieLaboratory.zombiePlayer03infectedTarget = null;
                    }
                    zombie03InfectButton.Timer = zombie03InfectButton.MaxTimer;
                }
            );

            // Zombie04 infect
            zombie04InfectButton = new CustomButton(
                () => {
                    ZombieLaboratory.zombiePlayer04infectedTarget = ZombieLaboratory.zombiePlayer04currentTarget;
                    zombie04InfectButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.zombiePlayer04 != null && ZombieLaboratory.zombiePlayer04 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (zombie04InfectButton.isEffectActive && ZombieLaboratory.zombiePlayer04infectedTarget != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.zombiePlayer04infectedTarget.transform.position) > GameOptionsData.KillDistances[Mathf.Clamp(GameOptionsManager.Instance.currentGameOptions.GetInt(Int32OptionNames.KillDistance), 0, 2)]) {
                        ZombieLaboratory.zombiePlayer04infectedTarget = null;
                        zombie04InfectButton.Timer = 0f;
                        zombie04InfectButton.isEffectActive = false;
                    }

                    bool canUse = false;
                    if (ZombieLaboratory.zombiePlayer04currentTarget != null) {
                        if (ZombieLaboratory.zombiePlayer04currentTarget == ZombieLaboratory.survivorPlayer01) {
                            canUse = !ZombieLaboratory.survivorPlayer01IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer04currentTarget == ZombieLaboratory.survivorPlayer02) {
                            canUse = !ZombieLaboratory.survivorPlayer02IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer04currentTarget == ZombieLaboratory.survivorPlayer03) {
                            canUse = !ZombieLaboratory.survivorPlayer03IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer04currentTarget == ZombieLaboratory.survivorPlayer04) {
                            canUse = !ZombieLaboratory.survivorPlayer04IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer04currentTarget == ZombieLaboratory.survivorPlayer05) {
                            canUse = !ZombieLaboratory.survivorPlayer05IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer04currentTarget == ZombieLaboratory.survivorPlayer06) {
                            canUse = !ZombieLaboratory.survivorPlayer06IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer04currentTarget == ZombieLaboratory.survivorPlayer07) {
                            canUse = !ZombieLaboratory.survivorPlayer07IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer04currentTarget == ZombieLaboratory.survivorPlayer08) {
                            canUse = !ZombieLaboratory.survivorPlayer08IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer04currentTarget == ZombieLaboratory.survivorPlayer09) {
                            canUse = !ZombieLaboratory.survivorPlayer09IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer04currentTarget == ZombieLaboratory.survivorPlayer10) {
                            canUse = !ZombieLaboratory.survivorPlayer10IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer04currentTarget == ZombieLaboratory.survivorPlayer11) {
                            canUse = !ZombieLaboratory.survivorPlayer11IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer04currentTarget == ZombieLaboratory.survivorPlayer12) {
                            canUse = !ZombieLaboratory.survivorPlayer12IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer04currentTarget == ZombieLaboratory.survivorPlayer13) {
                            canUse = !ZombieLaboratory.survivorPlayer13IsInfected;
                        }
                    }
                    return canUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.zombiePlayer04IsReviving && ZombieLaboratory.zombiePlayer04currentTarget != null;
                },
                () => { zombie04InfectButton.Timer = zombie04InfectButton.MaxTimer; },
                ZombieLaboratory.getInfectButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.infectTime,
                () => {
                    if (ZombieLaboratory.zombiePlayer04infectedTarget != null && !ZombieLaboratory.zombiePlayer04infectedTarget.Data.IsDead) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieInfect, Hazel.SendOption.Reliable, -1);
                        writer.Write(ZombieLaboratory.zombiePlayer04infectedTarget.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.zombieInfect(ZombieLaboratory.zombiePlayer04infectedTarget.PlayerId);
                        ZombieLaboratory.zombiePlayer04infectedTarget = null;
                    }
                    zombie04InfectButton.Timer = zombie04InfectButton.MaxTimer;
                }
            );

            // Zombie05 infect
            zombie05InfectButton = new CustomButton(
                () => {
                    ZombieLaboratory.zombiePlayer05infectedTarget = ZombieLaboratory.zombiePlayer05currentTarget;
                    zombie05InfectButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.zombiePlayer05 != null && ZombieLaboratory.zombiePlayer05 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (zombie05InfectButton.isEffectActive && ZombieLaboratory.zombiePlayer05infectedTarget != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.zombiePlayer05infectedTarget.transform.position) > GameOptionsData.KillDistances[Mathf.Clamp(GameOptionsManager.Instance.currentGameOptions.GetInt(Int32OptionNames.KillDistance), 0, 2)]) {
                        ZombieLaboratory.zombiePlayer05infectedTarget = null;
                        zombie05InfectButton.Timer = 0f;
                        zombie05InfectButton.isEffectActive = false;
                    }

                    bool canUse = false;
                    if (ZombieLaboratory.zombiePlayer05currentTarget != null) {
                        if (ZombieLaboratory.zombiePlayer05currentTarget == ZombieLaboratory.survivorPlayer01) {
                            canUse = !ZombieLaboratory.survivorPlayer01IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer05currentTarget == ZombieLaboratory.survivorPlayer02) {
                            canUse = !ZombieLaboratory.survivorPlayer02IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer05currentTarget == ZombieLaboratory.survivorPlayer03) {
                            canUse = !ZombieLaboratory.survivorPlayer03IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer05currentTarget == ZombieLaboratory.survivorPlayer04) {
                            canUse = !ZombieLaboratory.survivorPlayer04IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer05currentTarget == ZombieLaboratory.survivorPlayer05) {
                            canUse = !ZombieLaboratory.survivorPlayer05IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer05currentTarget == ZombieLaboratory.survivorPlayer06) {
                            canUse = !ZombieLaboratory.survivorPlayer06IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer05currentTarget == ZombieLaboratory.survivorPlayer07) {
                            canUse = !ZombieLaboratory.survivorPlayer07IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer05currentTarget == ZombieLaboratory.survivorPlayer08) {
                            canUse = !ZombieLaboratory.survivorPlayer08IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer05currentTarget == ZombieLaboratory.survivorPlayer09) {
                            canUse = !ZombieLaboratory.survivorPlayer09IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer05currentTarget == ZombieLaboratory.survivorPlayer10) {
                            canUse = !ZombieLaboratory.survivorPlayer10IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer05currentTarget == ZombieLaboratory.survivorPlayer11) {
                            canUse = !ZombieLaboratory.survivorPlayer11IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer05currentTarget == ZombieLaboratory.survivorPlayer12) {
                            canUse = !ZombieLaboratory.survivorPlayer12IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer05currentTarget == ZombieLaboratory.survivorPlayer13) {
                            canUse = !ZombieLaboratory.survivorPlayer13IsInfected;
                        }
                    }
                    return canUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.zombiePlayer05IsReviving && ZombieLaboratory.zombiePlayer05currentTarget != null;
                },
                () => { zombie05InfectButton.Timer = zombie05InfectButton.MaxTimer; },
                ZombieLaboratory.getInfectButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.infectTime,
                () => {
                    if (ZombieLaboratory.zombiePlayer05infectedTarget != null && !ZombieLaboratory.zombiePlayer05infectedTarget.Data.IsDead) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieInfect, Hazel.SendOption.Reliable, -1);
                        writer.Write(ZombieLaboratory.zombiePlayer05infectedTarget.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.zombieInfect(ZombieLaboratory.zombiePlayer05infectedTarget.PlayerId);
                        ZombieLaboratory.zombiePlayer05infectedTarget = null;
                    }
                    zombie05InfectButton.Timer = zombie05InfectButton.MaxTimer;
                }
            );

            // Zombie06 infect
            zombie06InfectButton = new CustomButton(
                () => {
                    ZombieLaboratory.zombiePlayer06infectedTarget = ZombieLaboratory.zombiePlayer06currentTarget;
                    zombie06InfectButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.zombiePlayer06 != null && ZombieLaboratory.zombiePlayer06 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (zombie06InfectButton.isEffectActive && ZombieLaboratory.zombiePlayer06infectedTarget != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.zombiePlayer06infectedTarget.transform.position) > GameOptionsData.KillDistances[Mathf.Clamp(GameOptionsManager.Instance.currentGameOptions.GetInt(Int32OptionNames.KillDistance), 0, 2)]) {
                        ZombieLaboratory.zombiePlayer06infectedTarget = null;
                        zombie06InfectButton.Timer = 0f;
                        zombie06InfectButton.isEffectActive = false;
                    }

                    bool canUse = false;
                    if (ZombieLaboratory.zombiePlayer06currentTarget != null) {
                        if (ZombieLaboratory.zombiePlayer06currentTarget == ZombieLaboratory.survivorPlayer01) {
                            canUse = !ZombieLaboratory.survivorPlayer01IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer06currentTarget == ZombieLaboratory.survivorPlayer02) {
                            canUse = !ZombieLaboratory.survivorPlayer02IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer06currentTarget == ZombieLaboratory.survivorPlayer03) {
                            canUse = !ZombieLaboratory.survivorPlayer03IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer06currentTarget == ZombieLaboratory.survivorPlayer04) {
                            canUse = !ZombieLaboratory.survivorPlayer04IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer06currentTarget == ZombieLaboratory.survivorPlayer05) {
                            canUse = !ZombieLaboratory.survivorPlayer05IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer06currentTarget == ZombieLaboratory.survivorPlayer06) {
                            canUse = !ZombieLaboratory.survivorPlayer06IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer06currentTarget == ZombieLaboratory.survivorPlayer07) {
                            canUse = !ZombieLaboratory.survivorPlayer07IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer06currentTarget == ZombieLaboratory.survivorPlayer08) {
                            canUse = !ZombieLaboratory.survivorPlayer08IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer06currentTarget == ZombieLaboratory.survivorPlayer09) {
                            canUse = !ZombieLaboratory.survivorPlayer09IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer06currentTarget == ZombieLaboratory.survivorPlayer10) {
                            canUse = !ZombieLaboratory.survivorPlayer10IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer06currentTarget == ZombieLaboratory.survivorPlayer11) {
                            canUse = !ZombieLaboratory.survivorPlayer11IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer06currentTarget == ZombieLaboratory.survivorPlayer12) {
                            canUse = !ZombieLaboratory.survivorPlayer12IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer06currentTarget == ZombieLaboratory.survivorPlayer13) {
                            canUse = !ZombieLaboratory.survivorPlayer13IsInfected;
                        }
                    }
                    return canUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.zombiePlayer06IsReviving && ZombieLaboratory.zombiePlayer06currentTarget != null;
                },
                () => { zombie06InfectButton.Timer = zombie06InfectButton.MaxTimer; },
                ZombieLaboratory.getInfectButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.infectTime,
                () => {
                    if (ZombieLaboratory.zombiePlayer06infectedTarget != null && !ZombieLaboratory.zombiePlayer06infectedTarget.Data.IsDead) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieInfect, Hazel.SendOption.Reliable, -1);
                        writer.Write(ZombieLaboratory.zombiePlayer06infectedTarget.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.zombieInfect(ZombieLaboratory.zombiePlayer06infectedTarget.PlayerId);
                        ZombieLaboratory.zombiePlayer06infectedTarget = null;
                    }
                    zombie06InfectButton.Timer = zombie06InfectButton.MaxTimer;
                }
            );

            // Zombie07 infect
            zombie07InfectButton = new CustomButton(
                () => {
                    ZombieLaboratory.zombiePlayer07infectedTarget = ZombieLaboratory.zombiePlayer07currentTarget;
                    zombie07InfectButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.zombiePlayer07 != null && ZombieLaboratory.zombiePlayer07 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (zombie07InfectButton.isEffectActive && ZombieLaboratory.zombiePlayer07infectedTarget != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.zombiePlayer07infectedTarget.transform.position) > GameOptionsData.KillDistances[Mathf.Clamp(GameOptionsManager.Instance.currentGameOptions.GetInt(Int32OptionNames.KillDistance), 0, 2)]) {
                        ZombieLaboratory.zombiePlayer07infectedTarget = null;
                        zombie07InfectButton.Timer = 0f;
                        zombie07InfectButton.isEffectActive = false;
                    }

                    bool canUse = false;
                    if (ZombieLaboratory.zombiePlayer07currentTarget != null) {
                        if (ZombieLaboratory.zombiePlayer07currentTarget == ZombieLaboratory.survivorPlayer01) {
                            canUse = !ZombieLaboratory.survivorPlayer01IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer07currentTarget == ZombieLaboratory.survivorPlayer02) {
                            canUse = !ZombieLaboratory.survivorPlayer02IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer07currentTarget == ZombieLaboratory.survivorPlayer03) {
                            canUse = !ZombieLaboratory.survivorPlayer03IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer07currentTarget == ZombieLaboratory.survivorPlayer04) {
                            canUse = !ZombieLaboratory.survivorPlayer04IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer07currentTarget == ZombieLaboratory.survivorPlayer05) {
                            canUse = !ZombieLaboratory.survivorPlayer05IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer07currentTarget == ZombieLaboratory.survivorPlayer06) {
                            canUse = !ZombieLaboratory.survivorPlayer06IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer07currentTarget == ZombieLaboratory.survivorPlayer07) {
                            canUse = !ZombieLaboratory.survivorPlayer07IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer07currentTarget == ZombieLaboratory.survivorPlayer08) {
                            canUse = !ZombieLaboratory.survivorPlayer08IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer07currentTarget == ZombieLaboratory.survivorPlayer09) {
                            canUse = !ZombieLaboratory.survivorPlayer09IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer07currentTarget == ZombieLaboratory.survivorPlayer10) {
                            canUse = !ZombieLaboratory.survivorPlayer10IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer07currentTarget == ZombieLaboratory.survivorPlayer11) {
                            canUse = !ZombieLaboratory.survivorPlayer11IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer07currentTarget == ZombieLaboratory.survivorPlayer12) {
                            canUse = !ZombieLaboratory.survivorPlayer12IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer07currentTarget == ZombieLaboratory.survivorPlayer13) {
                            canUse = !ZombieLaboratory.survivorPlayer13IsInfected;
                        }
                    }
                    return canUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.zombiePlayer07IsReviving && ZombieLaboratory.zombiePlayer07currentTarget != null;
                },
                () => { zombie07InfectButton.Timer = zombie07InfectButton.MaxTimer; },
                ZombieLaboratory.getInfectButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.infectTime,
                () => {
                    if (ZombieLaboratory.zombiePlayer07infectedTarget != null && !ZombieLaboratory.zombiePlayer07infectedTarget.Data.IsDead) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieInfect, Hazel.SendOption.Reliable, -1);
                        writer.Write(ZombieLaboratory.zombiePlayer07infectedTarget.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.zombieInfect(ZombieLaboratory.zombiePlayer07infectedTarget.PlayerId);
                        ZombieLaboratory.zombiePlayer07infectedTarget = null;
                    }
                    zombie07InfectButton.Timer = zombie07InfectButton.MaxTimer;
                }
            );

            // Zombie08 infect
            zombie08InfectButton = new CustomButton(
                () => {
                    ZombieLaboratory.zombiePlayer08infectedTarget = ZombieLaboratory.zombiePlayer08currentTarget;
                    zombie08InfectButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.zombiePlayer08 != null && ZombieLaboratory.zombiePlayer08 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (zombie08InfectButton.isEffectActive && ZombieLaboratory.zombiePlayer08infectedTarget != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.zombiePlayer08infectedTarget.transform.position) > GameOptionsData.KillDistances[Mathf.Clamp(GameOptionsManager.Instance.currentGameOptions.GetInt(Int32OptionNames.KillDistance), 0, 2)]) {
                        ZombieLaboratory.zombiePlayer08infectedTarget = null;
                        zombie08InfectButton.Timer = 0f;
                        zombie08InfectButton.isEffectActive = false;
                    }

                    bool canUse = false;
                    if (ZombieLaboratory.zombiePlayer08currentTarget != null) {
                        if (ZombieLaboratory.zombiePlayer08currentTarget == ZombieLaboratory.survivorPlayer01) {
                            canUse = !ZombieLaboratory.survivorPlayer01IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer08currentTarget == ZombieLaboratory.survivorPlayer02) {
                            canUse = !ZombieLaboratory.survivorPlayer02IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer08currentTarget == ZombieLaboratory.survivorPlayer03) {
                            canUse = !ZombieLaboratory.survivorPlayer03IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer08currentTarget == ZombieLaboratory.survivorPlayer04) {
                            canUse = !ZombieLaboratory.survivorPlayer04IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer08currentTarget == ZombieLaboratory.survivorPlayer05) {
                            canUse = !ZombieLaboratory.survivorPlayer05IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer08currentTarget == ZombieLaboratory.survivorPlayer06) {
                            canUse = !ZombieLaboratory.survivorPlayer06IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer08currentTarget == ZombieLaboratory.survivorPlayer07) {
                            canUse = !ZombieLaboratory.survivorPlayer07IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer08currentTarget == ZombieLaboratory.survivorPlayer08) {
                            canUse = !ZombieLaboratory.survivorPlayer08IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer08currentTarget == ZombieLaboratory.survivorPlayer09) {
                            canUse = !ZombieLaboratory.survivorPlayer09IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer08currentTarget == ZombieLaboratory.survivorPlayer10) {
                            canUse = !ZombieLaboratory.survivorPlayer10IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer08currentTarget == ZombieLaboratory.survivorPlayer11) {
                            canUse = !ZombieLaboratory.survivorPlayer11IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer08currentTarget == ZombieLaboratory.survivorPlayer12) {
                            canUse = !ZombieLaboratory.survivorPlayer12IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer08currentTarget == ZombieLaboratory.survivorPlayer13) {
                            canUse = !ZombieLaboratory.survivorPlayer13IsInfected;
                        }
                    }
                    return canUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.zombiePlayer08IsReviving && ZombieLaboratory.zombiePlayer08currentTarget != null;
                },
                () => { zombie08InfectButton.Timer = zombie08InfectButton.MaxTimer; },
                ZombieLaboratory.getInfectButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.infectTime,
                () => {
                    if (ZombieLaboratory.zombiePlayer08infectedTarget != null && !ZombieLaboratory.zombiePlayer08infectedTarget.Data.IsDead) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieInfect, Hazel.SendOption.Reliable, -1);
                        writer.Write(ZombieLaboratory.zombiePlayer08infectedTarget.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.zombieInfect(ZombieLaboratory.zombiePlayer08infectedTarget.PlayerId);
                        ZombieLaboratory.zombiePlayer08infectedTarget = null;
                    }
                    zombie08InfectButton.Timer = zombie08InfectButton.MaxTimer;
                }
            );

            // Zombie09 infect
            zombie09InfectButton = new CustomButton(
                () => {
                    ZombieLaboratory.zombiePlayer09infectedTarget = ZombieLaboratory.zombiePlayer09currentTarget;
                    zombie09InfectButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.zombiePlayer09 != null && ZombieLaboratory.zombiePlayer09 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (zombie09InfectButton.isEffectActive && ZombieLaboratory.zombiePlayer09infectedTarget != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.zombiePlayer09infectedTarget.transform.position) > GameOptionsData.KillDistances[Mathf.Clamp(GameOptionsManager.Instance.currentGameOptions.GetInt(Int32OptionNames.KillDistance), 0, 2)]) {
                        ZombieLaboratory.zombiePlayer09infectedTarget = null;
                        zombie09InfectButton.Timer = 0f;
                        zombie09InfectButton.isEffectActive = false;
                    }

                    bool canUse = false;
                    if (ZombieLaboratory.zombiePlayer09currentTarget != null) {
                        if (ZombieLaboratory.zombiePlayer09currentTarget == ZombieLaboratory.survivorPlayer01) {
                            canUse = !ZombieLaboratory.survivorPlayer01IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer09currentTarget == ZombieLaboratory.survivorPlayer02) {
                            canUse = !ZombieLaboratory.survivorPlayer02IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer09currentTarget == ZombieLaboratory.survivorPlayer03) {
                            canUse = !ZombieLaboratory.survivorPlayer03IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer09currentTarget == ZombieLaboratory.survivorPlayer04) {
                            canUse = !ZombieLaboratory.survivorPlayer04IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer09currentTarget == ZombieLaboratory.survivorPlayer05) {
                            canUse = !ZombieLaboratory.survivorPlayer05IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer09currentTarget == ZombieLaboratory.survivorPlayer06) {
                            canUse = !ZombieLaboratory.survivorPlayer06IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer09currentTarget == ZombieLaboratory.survivorPlayer07) {
                            canUse = !ZombieLaboratory.survivorPlayer07IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer09currentTarget == ZombieLaboratory.survivorPlayer08) {
                            canUse = !ZombieLaboratory.survivorPlayer08IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer09currentTarget == ZombieLaboratory.survivorPlayer09) {
                            canUse = !ZombieLaboratory.survivorPlayer09IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer09currentTarget == ZombieLaboratory.survivorPlayer10) {
                            canUse = !ZombieLaboratory.survivorPlayer10IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer09currentTarget == ZombieLaboratory.survivorPlayer11) {
                            canUse = !ZombieLaboratory.survivorPlayer11IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer09currentTarget == ZombieLaboratory.survivorPlayer12) {
                            canUse = !ZombieLaboratory.survivorPlayer12IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer09currentTarget == ZombieLaboratory.survivorPlayer13) {
                            canUse = !ZombieLaboratory.survivorPlayer13IsInfected;
                        }
                    }
                    return canUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.zombiePlayer09IsReviving && ZombieLaboratory.zombiePlayer09currentTarget != null;
                },
                () => { zombie09InfectButton.Timer = zombie09InfectButton.MaxTimer; },
                ZombieLaboratory.getInfectButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.infectTime,
                () => {
                    if (ZombieLaboratory.zombiePlayer09infectedTarget != null && !ZombieLaboratory.zombiePlayer09infectedTarget.Data.IsDead) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieInfect, Hazel.SendOption.Reliable, -1);
                        writer.Write(ZombieLaboratory.zombiePlayer09infectedTarget.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.zombieInfect(ZombieLaboratory.zombiePlayer09infectedTarget.PlayerId);
                        ZombieLaboratory.zombiePlayer09infectedTarget = null;
                    }
                    zombie09InfectButton.Timer = zombie09InfectButton.MaxTimer;
                }
            );

            // Zombie10 infect
            zombie10InfectButton = new CustomButton(
                () => {
                    ZombieLaboratory.zombiePlayer10infectedTarget = ZombieLaboratory.zombiePlayer10currentTarget;
                    zombie10InfectButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.zombiePlayer10 != null && ZombieLaboratory.zombiePlayer10 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (zombie10InfectButton.isEffectActive && ZombieLaboratory.zombiePlayer10infectedTarget != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.zombiePlayer10infectedTarget.transform.position) > GameOptionsData.KillDistances[Mathf.Clamp(GameOptionsManager.Instance.currentGameOptions.GetInt(Int32OptionNames.KillDistance), 0, 2)]) {
                        ZombieLaboratory.zombiePlayer10infectedTarget = null;
                        zombie10InfectButton.Timer = 0f;
                        zombie10InfectButton.isEffectActive = false;
                    }

                    bool canUse = false;
                    if (ZombieLaboratory.zombiePlayer10currentTarget != null) {
                        if (ZombieLaboratory.zombiePlayer10currentTarget == ZombieLaboratory.survivorPlayer01) {
                            canUse = !ZombieLaboratory.survivorPlayer01IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer10currentTarget == ZombieLaboratory.survivorPlayer02) {
                            canUse = !ZombieLaboratory.survivorPlayer02IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer10currentTarget == ZombieLaboratory.survivorPlayer03) {
                            canUse = !ZombieLaboratory.survivorPlayer03IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer10currentTarget == ZombieLaboratory.survivorPlayer04) {
                            canUse = !ZombieLaboratory.survivorPlayer04IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer10currentTarget == ZombieLaboratory.survivorPlayer05) {
                            canUse = !ZombieLaboratory.survivorPlayer05IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer10currentTarget == ZombieLaboratory.survivorPlayer06) {
                            canUse = !ZombieLaboratory.survivorPlayer06IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer10currentTarget == ZombieLaboratory.survivorPlayer07) {
                            canUse = !ZombieLaboratory.survivorPlayer07IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer10currentTarget == ZombieLaboratory.survivorPlayer08) {
                            canUse = !ZombieLaboratory.survivorPlayer08IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer10currentTarget == ZombieLaboratory.survivorPlayer09) {
                            canUse = !ZombieLaboratory.survivorPlayer09IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer10currentTarget == ZombieLaboratory.survivorPlayer10) {
                            canUse = !ZombieLaboratory.survivorPlayer10IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer10currentTarget == ZombieLaboratory.survivorPlayer11) {
                            canUse = !ZombieLaboratory.survivorPlayer11IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer10currentTarget == ZombieLaboratory.survivorPlayer12) {
                            canUse = !ZombieLaboratory.survivorPlayer12IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer10currentTarget == ZombieLaboratory.survivorPlayer13) {
                            canUse = !ZombieLaboratory.survivorPlayer13IsInfected;
                        }
                    }
                    return canUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.zombiePlayer10IsReviving && ZombieLaboratory.zombiePlayer10currentTarget != null;
                },
                () => { zombie10InfectButton.Timer = zombie10InfectButton.MaxTimer; },
                ZombieLaboratory.getInfectButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.infectTime,
                () => {
                    if (ZombieLaboratory.zombiePlayer10infectedTarget != null && !ZombieLaboratory.zombiePlayer10infectedTarget.Data.IsDead) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieInfect, Hazel.SendOption.Reliable, -1);
                        writer.Write(ZombieLaboratory.zombiePlayer10infectedTarget.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.zombieInfect(ZombieLaboratory.zombiePlayer10infectedTarget.PlayerId);
                        ZombieLaboratory.zombiePlayer10infectedTarget = null;
                    }
                    zombie10InfectButton.Timer = zombie10InfectButton.MaxTimer;
                }
            );

            // Zombie11 infect
            zombie11InfectButton = new CustomButton(
                () => {
                    ZombieLaboratory.zombiePlayer11infectedTarget = ZombieLaboratory.zombiePlayer11currentTarget;
                    zombie11InfectButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.zombiePlayer11 != null && ZombieLaboratory.zombiePlayer11 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (zombie11InfectButton.isEffectActive && ZombieLaboratory.zombiePlayer11infectedTarget != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.zombiePlayer11infectedTarget.transform.position) > GameOptionsData.KillDistances[Mathf.Clamp(GameOptionsManager.Instance.currentGameOptions.GetInt(Int32OptionNames.KillDistance), 0, 2)]) {
                        ZombieLaboratory.zombiePlayer11infectedTarget = null;
                        zombie11InfectButton.Timer = 0f;
                        zombie11InfectButton.isEffectActive = false;
                    }

                    bool canUse = false;
                    if (ZombieLaboratory.zombiePlayer11currentTarget != null) {
                        if (ZombieLaboratory.zombiePlayer11currentTarget == ZombieLaboratory.survivorPlayer01) {
                            canUse = !ZombieLaboratory.survivorPlayer01IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer11currentTarget == ZombieLaboratory.survivorPlayer02) {
                            canUse = !ZombieLaboratory.survivorPlayer02IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer11currentTarget == ZombieLaboratory.survivorPlayer03) {
                            canUse = !ZombieLaboratory.survivorPlayer03IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer11currentTarget == ZombieLaboratory.survivorPlayer04) {
                            canUse = !ZombieLaboratory.survivorPlayer04IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer11currentTarget == ZombieLaboratory.survivorPlayer05) {
                            canUse = !ZombieLaboratory.survivorPlayer05IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer11currentTarget == ZombieLaboratory.survivorPlayer06) {
                            canUse = !ZombieLaboratory.survivorPlayer06IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer11currentTarget == ZombieLaboratory.survivorPlayer07) {
                            canUse = !ZombieLaboratory.survivorPlayer07IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer11currentTarget == ZombieLaboratory.survivorPlayer08) {
                            canUse = !ZombieLaboratory.survivorPlayer08IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer11currentTarget == ZombieLaboratory.survivorPlayer09) {
                            canUse = !ZombieLaboratory.survivorPlayer09IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer11currentTarget == ZombieLaboratory.survivorPlayer10) {
                            canUse = !ZombieLaboratory.survivorPlayer10IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer11currentTarget == ZombieLaboratory.survivorPlayer11) {
                            canUse = !ZombieLaboratory.survivorPlayer11IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer11currentTarget == ZombieLaboratory.survivorPlayer12) {
                            canUse = !ZombieLaboratory.survivorPlayer12IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer11currentTarget == ZombieLaboratory.survivorPlayer13) {
                            canUse = !ZombieLaboratory.survivorPlayer13IsInfected;
                        }
                    }
                    return canUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.zombiePlayer11IsReviving && ZombieLaboratory.zombiePlayer11currentTarget != null;
                },
                () => { zombie11InfectButton.Timer = zombie11InfectButton.MaxTimer; },
                ZombieLaboratory.getInfectButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.infectTime,
                () => {
                    if (ZombieLaboratory.zombiePlayer11infectedTarget != null && !ZombieLaboratory.zombiePlayer11infectedTarget.Data.IsDead) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieInfect, Hazel.SendOption.Reliable, -1);
                        writer.Write(ZombieLaboratory.zombiePlayer11infectedTarget.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.zombieInfect(ZombieLaboratory.zombiePlayer11infectedTarget.PlayerId);
                        ZombieLaboratory.zombiePlayer11infectedTarget = null;
                    }
                    zombie11InfectButton.Timer = zombie11InfectButton.MaxTimer;
                }
            );

            // Zombie12 infect
            zombie12InfectButton = new CustomButton(
                () => {
                    ZombieLaboratory.zombiePlayer12infectedTarget = ZombieLaboratory.zombiePlayer12currentTarget;
                    zombie12InfectButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.zombiePlayer12 != null && ZombieLaboratory.zombiePlayer12 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (zombie12InfectButton.isEffectActive && ZombieLaboratory.zombiePlayer12infectedTarget != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.zombiePlayer12infectedTarget.transform.position) > GameOptionsData.KillDistances[Mathf.Clamp(GameOptionsManager.Instance.currentGameOptions.GetInt(Int32OptionNames.KillDistance), 0, 2)]) {
                        ZombieLaboratory.zombiePlayer12infectedTarget = null;
                        zombie12InfectButton.Timer = 0f;
                        zombie12InfectButton.isEffectActive = false;
                    }

                    bool canUse = false;
                    if (ZombieLaboratory.zombiePlayer12currentTarget != null) {
                        if (ZombieLaboratory.zombiePlayer12currentTarget == ZombieLaboratory.survivorPlayer01) {
                            canUse = !ZombieLaboratory.survivorPlayer01IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer12currentTarget == ZombieLaboratory.survivorPlayer02) {
                            canUse = !ZombieLaboratory.survivorPlayer02IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer12currentTarget == ZombieLaboratory.survivorPlayer03) {
                            canUse = !ZombieLaboratory.survivorPlayer03IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer12currentTarget == ZombieLaboratory.survivorPlayer04) {
                            canUse = !ZombieLaboratory.survivorPlayer04IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer12currentTarget == ZombieLaboratory.survivorPlayer05) {
                            canUse = !ZombieLaboratory.survivorPlayer05IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer12currentTarget == ZombieLaboratory.survivorPlayer06) {
                            canUse = !ZombieLaboratory.survivorPlayer06IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer12currentTarget == ZombieLaboratory.survivorPlayer07) {
                            canUse = !ZombieLaboratory.survivorPlayer07IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer12currentTarget == ZombieLaboratory.survivorPlayer08) {
                            canUse = !ZombieLaboratory.survivorPlayer08IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer12currentTarget == ZombieLaboratory.survivorPlayer09) {
                            canUse = !ZombieLaboratory.survivorPlayer09IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer12currentTarget == ZombieLaboratory.survivorPlayer10) {
                            canUse = !ZombieLaboratory.survivorPlayer10IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer12currentTarget == ZombieLaboratory.survivorPlayer11) {
                            canUse = !ZombieLaboratory.survivorPlayer11IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer12currentTarget == ZombieLaboratory.survivorPlayer12) {
                            canUse = !ZombieLaboratory.survivorPlayer12IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer12currentTarget == ZombieLaboratory.survivorPlayer13) {
                            canUse = !ZombieLaboratory.survivorPlayer13IsInfected;
                        }
                    }
                    return canUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.zombiePlayer12IsReviving && ZombieLaboratory.zombiePlayer12currentTarget != null;
                },
                () => { zombie12InfectButton.Timer = zombie12InfectButton.MaxTimer; },
                ZombieLaboratory.getInfectButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.infectTime,
                () => {
                    if (ZombieLaboratory.zombiePlayer12infectedTarget != null && !ZombieLaboratory.zombiePlayer12infectedTarget.Data.IsDead) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieInfect, Hazel.SendOption.Reliable, -1);
                        writer.Write(ZombieLaboratory.zombiePlayer12infectedTarget.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.zombieInfect(ZombieLaboratory.zombiePlayer12infectedTarget.PlayerId);
                        ZombieLaboratory.zombiePlayer12infectedTarget = null;
                    }
                    zombie12InfectButton.Timer = zombie12InfectButton.MaxTimer;
                }
            );

            // Zombie13 infect
            zombie13InfectButton = new CustomButton(
                () => {
                    ZombieLaboratory.zombiePlayer13infectedTarget = ZombieLaboratory.zombiePlayer13currentTarget;
                    zombie13InfectButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.zombiePlayer13 != null && ZombieLaboratory.zombiePlayer13 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (zombie13InfectButton.isEffectActive && ZombieLaboratory.zombiePlayer13infectedTarget != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.zombiePlayer13infectedTarget.transform.position) > GameOptionsData.KillDistances[Mathf.Clamp(GameOptionsManager.Instance.currentGameOptions.GetInt(Int32OptionNames.KillDistance), 0, 2)]) {
                        ZombieLaboratory.zombiePlayer13infectedTarget = null;
                        zombie13InfectButton.Timer = 0f;
                        zombie13InfectButton.isEffectActive = false;
                    }

                    bool canUse = false;
                    if (ZombieLaboratory.zombiePlayer13currentTarget != null) {
                        if (ZombieLaboratory.zombiePlayer13currentTarget == ZombieLaboratory.survivorPlayer01) {
                            canUse = !ZombieLaboratory.survivorPlayer01IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer13currentTarget == ZombieLaboratory.survivorPlayer02) {
                            canUse = !ZombieLaboratory.survivorPlayer02IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer13currentTarget == ZombieLaboratory.survivorPlayer03) {
                            canUse = !ZombieLaboratory.survivorPlayer03IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer13currentTarget == ZombieLaboratory.survivorPlayer04) {
                            canUse = !ZombieLaboratory.survivorPlayer04IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer13currentTarget == ZombieLaboratory.survivorPlayer05) {
                            canUse = !ZombieLaboratory.survivorPlayer05IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer13currentTarget == ZombieLaboratory.survivorPlayer06) {
                            canUse = !ZombieLaboratory.survivorPlayer06IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer13currentTarget == ZombieLaboratory.survivorPlayer07) {
                            canUse = !ZombieLaboratory.survivorPlayer07IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer13currentTarget == ZombieLaboratory.survivorPlayer08) {
                            canUse = !ZombieLaboratory.survivorPlayer08IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer13currentTarget == ZombieLaboratory.survivorPlayer09) {
                            canUse = !ZombieLaboratory.survivorPlayer09IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer13currentTarget == ZombieLaboratory.survivorPlayer10) {
                            canUse = !ZombieLaboratory.survivorPlayer10IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer13currentTarget == ZombieLaboratory.survivorPlayer11) {
                            canUse = !ZombieLaboratory.survivorPlayer11IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer13currentTarget == ZombieLaboratory.survivorPlayer12) {
                            canUse = !ZombieLaboratory.survivorPlayer12IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer13currentTarget == ZombieLaboratory.survivorPlayer13) {
                            canUse = !ZombieLaboratory.survivorPlayer13IsInfected;
                        }
                    }
                    return canUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.zombiePlayer13IsReviving && ZombieLaboratory.zombiePlayer13currentTarget != null;
                },
                () => { zombie13InfectButton.Timer = zombie13InfectButton.MaxTimer; },
                ZombieLaboratory.getInfectButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.infectTime,
                () => {
                    if (ZombieLaboratory.zombiePlayer13infectedTarget != null && !ZombieLaboratory.zombiePlayer13infectedTarget.Data.IsDead) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieInfect, Hazel.SendOption.Reliable, -1);
                        writer.Write(ZombieLaboratory.zombiePlayer13infectedTarget.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.zombieInfect(ZombieLaboratory.zombiePlayer13infectedTarget.PlayerId);
                        ZombieLaboratory.zombiePlayer13infectedTarget = null;
                    }
                    zombie13InfectButton.Timer = zombie13InfectButton.MaxTimer;
                }
            );

            // Zombie14 infect
            zombie14InfectButton = new CustomButton(
                () => {
                    ZombieLaboratory.zombiePlayer14infectedTarget = ZombieLaboratory.zombiePlayer14currentTarget;
                    zombie14InfectButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.zombiePlayer14 != null && ZombieLaboratory.zombiePlayer14 == PlayerInCache.LocalPlayer.PlayerControl && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {
                    if (zombie14InfectButton.isEffectActive && ZombieLaboratory.zombiePlayer14infectedTarget != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.zombiePlayer14infectedTarget.transform.position) > GameOptionsData.KillDistances[Mathf.Clamp(GameOptionsManager.Instance.currentGameOptions.GetInt(Int32OptionNames.KillDistance), 0, 2)]) {
                        ZombieLaboratory.zombiePlayer14infectedTarget = null;
                        zombie14InfectButton.Timer = 0f;
                        zombie14InfectButton.isEffectActive = false;
                    }

                    bool canUse = false;
                    if (ZombieLaboratory.zombiePlayer14currentTarget != null) {
                        if (ZombieLaboratory.zombiePlayer14currentTarget == ZombieLaboratory.survivorPlayer01) {
                            canUse = !ZombieLaboratory.survivorPlayer01IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer14currentTarget == ZombieLaboratory.survivorPlayer02) {
                            canUse = !ZombieLaboratory.survivorPlayer02IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer14currentTarget == ZombieLaboratory.survivorPlayer03) {
                            canUse = !ZombieLaboratory.survivorPlayer03IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer14currentTarget == ZombieLaboratory.survivorPlayer04) {
                            canUse = !ZombieLaboratory.survivorPlayer04IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer14currentTarget == ZombieLaboratory.survivorPlayer05) {
                            canUse = !ZombieLaboratory.survivorPlayer05IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer14currentTarget == ZombieLaboratory.survivorPlayer06) {
                            canUse = !ZombieLaboratory.survivorPlayer06IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer14currentTarget == ZombieLaboratory.survivorPlayer07) {
                            canUse = !ZombieLaboratory.survivorPlayer07IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer14currentTarget == ZombieLaboratory.survivorPlayer08) {
                            canUse = !ZombieLaboratory.survivorPlayer08IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer14currentTarget == ZombieLaboratory.survivorPlayer09) {
                            canUse = !ZombieLaboratory.survivorPlayer09IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer14currentTarget == ZombieLaboratory.survivorPlayer10) {
                            canUse = !ZombieLaboratory.survivorPlayer10IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer14currentTarget == ZombieLaboratory.survivorPlayer11) {
                            canUse = !ZombieLaboratory.survivorPlayer11IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer14currentTarget == ZombieLaboratory.survivorPlayer12) {
                            canUse = !ZombieLaboratory.survivorPlayer12IsInfected;
                        }
                        else if (ZombieLaboratory.zombiePlayer14currentTarget == ZombieLaboratory.survivorPlayer13) {
                            canUse = !ZombieLaboratory.survivorPlayer13IsInfected;
                        }
                    }
                    return canUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.zombiePlayer14IsReviving && ZombieLaboratory.zombiePlayer14currentTarget != null;
                },
                () => { zombie14InfectButton.Timer = zombie14InfectButton.MaxTimer; },
                ZombieLaboratory.getInfectButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.infectTime,
                () => {
                    if (ZombieLaboratory.zombiePlayer14infectedTarget != null && !ZombieLaboratory.zombiePlayer14infectedTarget.Data.IsDead) {
                        MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieInfect, Hazel.SendOption.Reliable, -1);
                        writer.Write(ZombieLaboratory.zombiePlayer14infectedTarget.PlayerId);
                        AmongUsClient.Instance.FinishRpcImmediately(writer);
                        RPCProcedure.zombieInfect(ZombieLaboratory.zombiePlayer14infectedTarget.PlayerId);
                        ZombieLaboratory.zombiePlayer14infectedTarget = null;
                    }
                    zombie14InfectButton.Timer = zombie14InfectButton.MaxTimer;
                }
            );

            // Zombie01 kill
            zombie01KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.zombiePlayer01currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.zombiePlayer01.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    zombie01KillButton.Timer = zombie01KillButton.MaxTimer;
                    ZombieLaboratory.zombiePlayer01currentTarget = null;
                },
                () => { return ZombieLaboratory.zombiePlayer01 != null && ZombieLaboratory.zombiePlayer01 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    bool canUse = true;
                    foreach (GameObject entrance in ZombieLaboratory.laboratoryEntrances) {
                        if (entrance != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, entrance.transform.position) < 3f) {
                            canUse = false;
                        }
                    }
                    return canUse && ZombieLaboratory.zombiePlayer01currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.zombiePlayer01IsReviving; },
                () => { zombie01KillButton.Timer = zombie01KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Zombie02 kill
            zombie02KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.zombiePlayer02currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.zombiePlayer02.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    zombie02KillButton.Timer = zombie02KillButton.MaxTimer;
                    ZombieLaboratory.zombiePlayer02currentTarget = null;
                },
                () => { return ZombieLaboratory.zombiePlayer02 != null && ZombieLaboratory.zombiePlayer02 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    bool canUse = true;
                    foreach (GameObject entrance in ZombieLaboratory.laboratoryEntrances) {
                        if (entrance != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, entrance.transform.position) < 3f) {
                            canUse = false;
                        }
                    }
                    return canUse && ZombieLaboratory.zombiePlayer02currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.zombiePlayer02IsReviving; },
                () => { zombie02KillButton.Timer = zombie02KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Zombie03 kill
            zombie03KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.zombiePlayer03currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.zombiePlayer03.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    zombie03KillButton.Timer = zombie03KillButton.MaxTimer;
                    ZombieLaboratory.zombiePlayer03currentTarget = null;
                },
                () => { return ZombieLaboratory.zombiePlayer03 != null && ZombieLaboratory.zombiePlayer03 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    bool canUse = true;
                    foreach (GameObject entrance in ZombieLaboratory.laboratoryEntrances) {
                        if (entrance != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, entrance.transform.position) < 3f) {
                            canUse = false;
                        }
                    }
                    return canUse && ZombieLaboratory.zombiePlayer03currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.zombiePlayer03IsReviving; },
                () => { zombie03KillButton.Timer = zombie03KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Zombie04 kill
            zombie04KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.zombiePlayer04currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.zombiePlayer04.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    zombie04KillButton.Timer = zombie04KillButton.MaxTimer;
                    ZombieLaboratory.zombiePlayer04currentTarget = null;
                },
                () => { return ZombieLaboratory.zombiePlayer04 != null && ZombieLaboratory.zombiePlayer04 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    bool canUse = true;
                    foreach (GameObject entrance in ZombieLaboratory.laboratoryEntrances) {
                        if (entrance != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, entrance.transform.position) < 3f) {
                            canUse = false;
                        }
                    }
                    return canUse && ZombieLaboratory.zombiePlayer04currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.zombiePlayer04IsReviving; },
                () => { zombie04KillButton.Timer = zombie04KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Zombie05 kill
            zombie05KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.zombiePlayer05currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.zombiePlayer05.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    zombie05KillButton.Timer = zombie05KillButton.MaxTimer;
                    ZombieLaboratory.zombiePlayer05currentTarget = null;
                },
                () => { return ZombieLaboratory.zombiePlayer05 != null && ZombieLaboratory.zombiePlayer05 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    bool canUse = true;
                    foreach (GameObject entrance in ZombieLaboratory.laboratoryEntrances) {
                        if (entrance != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, entrance.transform.position) < 3f) {
                            canUse = false;
                        }
                    }
                    return canUse && ZombieLaboratory.zombiePlayer05currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.zombiePlayer05IsReviving; },
                () => { zombie05KillButton.Timer = zombie05KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Zombie06 kill
            zombie06KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.zombiePlayer06currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.zombiePlayer06.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    zombie06KillButton.Timer = zombie06KillButton.MaxTimer;
                    ZombieLaboratory.zombiePlayer06currentTarget = null;
                },
                () => { return ZombieLaboratory.zombiePlayer06 != null && ZombieLaboratory.zombiePlayer06 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    bool canUse = true;
                    foreach (GameObject entrance in ZombieLaboratory.laboratoryEntrances) {
                        if (entrance != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, entrance.transform.position) < 3f) {
                            canUse = false;
                        }
                    }
                    return canUse && ZombieLaboratory.zombiePlayer06currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.zombiePlayer06IsReviving; },
                () => { zombie06KillButton.Timer = zombie06KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Zombie07 kill
            zombie07KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.zombiePlayer07currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.zombiePlayer07.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    zombie07KillButton.Timer = zombie07KillButton.MaxTimer;
                    ZombieLaboratory.zombiePlayer07currentTarget = null;
                },
                () => { return ZombieLaboratory.zombiePlayer07 != null && ZombieLaboratory.zombiePlayer07 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    bool canUse = true;
                    foreach (GameObject entrance in ZombieLaboratory.laboratoryEntrances) {
                        if (entrance != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, entrance.transform.position) < 3f) {
                            canUse = false;
                        }
                    }
                    return canUse && ZombieLaboratory.zombiePlayer07currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.zombiePlayer07IsReviving; },
                () => { zombie07KillButton.Timer = zombie07KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Zombie08 kill
            zombie08KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.zombiePlayer08currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.zombiePlayer08.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    zombie08KillButton.Timer = zombie08KillButton.MaxTimer;
                    ZombieLaboratory.zombiePlayer08currentTarget = null;
                },
                () => { return ZombieLaboratory.zombiePlayer08 != null && ZombieLaboratory.zombiePlayer08 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    bool canUse = true;
                    foreach (GameObject entrance in ZombieLaboratory.laboratoryEntrances) {
                        if (entrance != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, entrance.transform.position) < 3f) {
                            canUse = false;
                        }
                    }
                    return canUse && ZombieLaboratory.zombiePlayer08currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.zombiePlayer08IsReviving; },
                () => { zombie08KillButton.Timer = zombie08KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Zombie09 kill
            zombie09KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.zombiePlayer09currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.zombiePlayer09.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    zombie09KillButton.Timer = zombie09KillButton.MaxTimer;
                    ZombieLaboratory.zombiePlayer09currentTarget = null;
                },
                () => { return ZombieLaboratory.zombiePlayer09 != null && ZombieLaboratory.zombiePlayer09 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    bool canUse = true;
                    foreach (GameObject entrance in ZombieLaboratory.laboratoryEntrances) {
                        if (entrance != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, entrance.transform.position) < 3f) {
                            canUse = false;
                        }
                    }
                    return canUse && ZombieLaboratory.zombiePlayer09currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.zombiePlayer09IsReviving; },
                () => { zombie09KillButton.Timer = zombie09KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Zombie10 kill
            zombie10KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.zombiePlayer10currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.zombiePlayer10.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    zombie10KillButton.Timer = zombie10KillButton.MaxTimer;
                    ZombieLaboratory.zombiePlayer10currentTarget = null;
                },
                () => { return ZombieLaboratory.zombiePlayer10 != null && ZombieLaboratory.zombiePlayer10 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    bool canUse = true;
                    foreach (GameObject entrance in ZombieLaboratory.laboratoryEntrances) {
                        if (entrance != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, entrance.transform.position) < 3f) {
                            canUse = false;
                        }
                    }
                    return canUse && ZombieLaboratory.zombiePlayer10currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.zombiePlayer10IsReviving; },
                () => { zombie10KillButton.Timer = zombie10KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Zombie11 kill
            zombie11KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.zombiePlayer11currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.zombiePlayer11.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    zombie11KillButton.Timer = zombie11KillButton.MaxTimer;
                    ZombieLaboratory.zombiePlayer11currentTarget = null;
                },
                () => { return ZombieLaboratory.zombiePlayer11 != null && ZombieLaboratory.zombiePlayer11 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    bool canUse = true;
                    foreach (GameObject entrance in ZombieLaboratory.laboratoryEntrances) {
                        if (entrance != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, entrance.transform.position) < 3f) {
                            canUse = false;
                        }
                    }
                    return canUse && ZombieLaboratory.zombiePlayer11currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.zombiePlayer11IsReviving; },
                () => { zombie11KillButton.Timer = zombie11KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Zombie12 kill
            zombie12KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.zombiePlayer12currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.zombiePlayer12.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    zombie12KillButton.Timer = zombie12KillButton.MaxTimer;
                    ZombieLaboratory.zombiePlayer12currentTarget = null;
                },
                () => { return ZombieLaboratory.zombiePlayer12 != null && ZombieLaboratory.zombiePlayer12 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    bool canUse = true;
                    foreach (GameObject entrance in ZombieLaboratory.laboratoryEntrances) {
                        if (entrance != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, entrance.transform.position) < 3f) {
                            canUse = false;
                        }
                    }
                    return canUse && ZombieLaboratory.zombiePlayer12currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.zombiePlayer12IsReviving; },
                () => { zombie12KillButton.Timer = zombie12KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Zombie13 kill
            zombie13KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.zombiePlayer13currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.zombiePlayer13.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    zombie13KillButton.Timer = zombie13KillButton.MaxTimer;
                    ZombieLaboratory.zombiePlayer13currentTarget = null;
                },
                () => { return ZombieLaboratory.zombiePlayer13 != null && ZombieLaboratory.zombiePlayer13 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    bool canUse = true;
                    foreach (GameObject entrance in ZombieLaboratory.laboratoryEntrances) {
                        if (entrance != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, entrance.transform.position) < 3f) {
                            canUse = false;
                        }
                    }
                    return canUse && ZombieLaboratory.zombiePlayer13currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.zombiePlayer13IsReviving; },
                () => { zombie13KillButton.Timer = zombie13KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Zombie14 kill
            zombie14KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.zombiePlayer14currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.zombiePlayer14.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    zombie14KillButton.Timer = zombie14KillButton.MaxTimer;
                    ZombieLaboratory.zombiePlayer14currentTarget = null;
                },
                () => { return ZombieLaboratory.zombiePlayer14 != null && ZombieLaboratory.zombiePlayer14 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    bool canUse = true;
                    foreach (GameObject entrance in ZombieLaboratory.laboratoryEntrances) {
                        if (entrance != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, entrance.transform.position) < 3f) {
                            canUse = false;
                        }
                    }
                    return canUse && ZombieLaboratory.zombiePlayer14currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.zombiePlayer14IsReviving; },
                () => { zombie14KillButton.Timer = zombie14KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Nurse EnterExit Button
            nurseEnterExitButton = new CustomButton(
                () => {
                    if (ZombieLaboratory.nursePlayerInsideLaboratory) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        bool entering = false;
                        byte whichExit = ZombieLaboratory.nursePlayerCurrentExit;
                        MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                        enterInfirmary.Write(targetId);
                        enterInfirmary.Write(entering);
                        enterInfirmary.Write(whichExit);
                        AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                        RPCProcedure.enterLeaveInfirmary(targetId, entering, whichExit);
                        ZombieLaboratory.nursePlayerInsideLaboratory = false;
                    }
                    else {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        bool entering = true;
                        byte whichExit = 0;
                        MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                        enterInfirmary.Write(targetId);
                        enterInfirmary.Write(entering);
                        enterInfirmary.Write(whichExit);
                        AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                        RPCProcedure.enterLeaveInfirmary(targetId, entering, whichExit);
                        ZombieLaboratory.nursePlayerInsideLaboratory = true;
                    }
                    nurseEnterExitButton.Timer = nurseEnterExitButton.MaxTimer;
                },
                () => { return ZombieLaboratory.nursePlayer != null && ZombieLaboratory.nursePlayer == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.nursePlayerInsideLaboratory) {
                        nurseEnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getExitLaboratoryButtonSprite();
                    }
                    else {
                        nurseEnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getEnterLaboratoryButtonSprite();
                    }
                    bool CanUse = false;
                    if (ZombieLaboratory.nurseExits.Count != 0) {
                        foreach (GameObject nurseExit in ZombieLaboratory.nurseExits) {
                            if (nurseExit != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, nurseExit.transform.position) < 0.5f && !ZombieLaboratory.nursePlayer.Data.IsDead) {
                                switch (nurseExit.name) {
                                    case "enterButton":
                                        ZombieLaboratory.nursePlayerCurrentExit = 0;
                                        break;
                                    case "exitButton":
                                        ZombieLaboratory.nursePlayerCurrentExit = 1;
                                        break;
                                    case "exitLeftButton":
                                        ZombieLaboratory.nursePlayerCurrentExit = 2;
                                        break;
                                    case "exitRightButton":
                                        ZombieLaboratory.nursePlayerCurrentExit = 3;
                                        break;
                                }
                                CanUse = true;
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    nurseEnterExitButton.Timer = nurseEnterExitButton.MaxTimer;
                },
                ZombieLaboratory.getExitLaboratoryButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T
            );

            // Nurse medkit
            nurseMedKitButton = new CustomButton(
                () => {

                    if (ZombieLaboratory.nursePlayerHasMedKit) {
                        byte targetId = ZombieLaboratory.nursePlayercurrentTarget.PlayerId;
                        MessageWriter healWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieNurseHeal, Hazel.SendOption.Reliable, -1);
                        healWriter.Write(targetId);
                        AmongUsClient.Instance.FinishRpcImmediately(healWriter);
                        RPCProcedure.zombieNurseHeal(targetId);
                        ZombieLaboratory.nursePlayercurrentTarget = null;
                        ZombieLaboratory.nursePlayerHasMedKit = false;
                    }
                    else {
                        MessageWriter showMedkit = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.NurseHasMedKit, Hazel.SendOption.Reliable, -1);
                        AmongUsClient.Instance.FinishRpcImmediately(showMedkit);
                        RPCProcedure.nurseHasMedKit();
                        ZombieLaboratory.nursePlayerHasMedKit = true;
                    }

                    nurseMedKitButton.Timer = nurseMedKitButton.MaxTimer;
                },
                () => { return ZombieLaboratory.nursePlayer != null && ZombieLaboratory.nursePlayer == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.localNurseArrows.Count != 0) {
                        ZombieLaboratory.localNurseArrows[0].Update(ZombieLaboratory.nurseMedkits[0].transform.position, Locksmith.color);
                        ZombieLaboratory.localNurseArrows[1].Update(ZombieLaboratory.nurseMedkits[1].transform.position, Locksmith.color);
                        ZombieLaboratory.localNurseArrows[2].Update(ZombieLaboratory.nurseMedkits[2].transform.position, Locksmith.color);
                    }
                    bool CanUse = false;
                    if (ZombieLaboratory.nursePlayerHasMedKit) {
                        nurseMedKitButton.actionButton.graphic.sprite = ZombieLaboratory.getDeliverMedkitButtonSprite();
                        if (ZombieLaboratory.infectedTeam.Count != 0) {
                            foreach (PlayerControl infected in ZombieLaboratory.infectedTeam) {
                                if (infected == ZombieLaboratory.nursePlayercurrentTarget) {
                                    CanUse = true;
                                }
                            }
                        }
                        if (ZombieLaboratory.zombieTeam.Count != 0) {
                            foreach (PlayerControl zombie in ZombieLaboratory.zombieTeam) {
                                if (zombie == ZombieLaboratory.nursePlayercurrentTarget) {
                                    CanUse = true;
                                }
                            }
                        }
                    }
                    else {
                        nurseMedKitButton.actionButton.graphic.sprite = ZombieLaboratory.getPickMedkitButtonSprite();
                        if (ZombieLaboratory.nurseMedkits.Count != 0) {
                            foreach (GameObject nurseMedkit in ZombieLaboratory.nurseMedkits) {
                                if (nurseMedkit != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, nurseMedkit.transform.position) < 0.35f) {
                                    CanUse = !ZombieLaboratory.nursePlayerHasMedKit;
                                }
                            }
                        }
                    }
                    return CanUse && (ZombieLaboratory.nursePlayercurrentTarget || !ZombieLaboratory.nursePlayerHasMedKit) && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { nurseMedKitButton.Timer = nurseMedKitButton.MaxTimer; },
                ZombieLaboratory.getPickMedkitButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F
            );

            // Nurse creatuecure Button
            nurseCreateCureButton = new CustomButton(
                () => {
                    MessageWriter winSurvivorsWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieSurvivorsWin, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(winSurvivorsWriter);
                    RPCProcedure.zombieSurvivorsWin();
                    nurseCreateCureButton.Timer = nurseCreateCureButton.MaxTimer;
                },
                () => { return ZombieLaboratory.nursePlayer != null && ZombieLaboratory.nursePlayer == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    bool CanUse = false;
                    if (ZombieLaboratory.nursePlayerHasCureReady) {
                        if ((ZombieLaboratory.laboratorytwoCreateCureButton != null && Vector2.Distance(ZombieLaboratory.nursePlayer.transform.position, ZombieLaboratory.laboratorytwoCreateCureButton.transform.position) < 0.35f || Vector2.Distance(ZombieLaboratory.nursePlayer.transform.position, ZombieLaboratory.laboratoryCreateCureButton.transform.position) < 0.35f) && !ZombieLaboratory.nursePlayer.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    nurseCreateCureButton.Timer = nurseCreateCureButton.MaxTimer;
                },
                ZombieLaboratory.getCreateCureButtonSprite(),
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Survivor01 kill
            survivor01KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.survivorPlayer01currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.survivorPlayer01.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    survivor01KillButton.Timer = survivor01KillButton.MaxTimer;
                    ZombieLaboratory.survivorPlayer01currentTarget = null;
                    ZombieLaboratory.survivorPlayer01CanKill = false;
                },
                () => { return ZombieLaboratory.survivorPlayer01 != null && ZombieLaboratory.survivorPlayer01 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.survivorPlayer01CanKill) {
                        survivor01KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorFullShootButtonSprite();
                    }
                    else {
                        survivor01KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEmptyShootButtonSprite();
                    }
                    return ZombieLaboratory.survivorPlayer01currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.survivorPlayer01IsReviving && ZombieLaboratory.survivorPlayer01CanKill && !ZombieLaboratory.survivorPlayer01HasKeyItem;
                },
                () => { survivor01KillButton.Timer = survivor01KillButton.MaxTimer; },
                ZombieLaboratory.getSurvivorEmptyShootButtonSprite(),
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Survivor01 FindDeliver Button
            survivor01FindDeliverButton = new CustomButton(
                () => {
                    if (ZombieLaboratory.survivorPlayer01HasKeyItem) {
                        survivor01FindDeliverButton.HasEffect = false;
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte keyId = ZombieLaboratory.survivorPlayer01FoundBox;
                        MessageWriter deliverKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieDeliverKeyItem, Hazel.SendOption.Reliable, -1);
                        deliverKey.Write(targetId);
                        deliverKey.Write(keyId);
                        AmongUsClient.Instance.FinishRpcImmediately(deliverKey);
                        RPCProcedure.zombieDeliverKeyItem(targetId, keyId);
                        survivor01FindDeliverButton.Timer = survivor01FindDeliverButton.MaxTimer;
                    }
                    else {
                        survivor01FindDeliverButton.HasEffect = true;
                        ZombieLaboratory.survivorPlayer01SelectedBox = ZombieLaboratory.survivorPlayer01CurrentBox;
                    }
                },
                () => { return ZombieLaboratory.survivorPlayer01 != null && ZombieLaboratory.survivorPlayer01 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (survivor01FindDeliverButton.isEffectActive && ZombieLaboratory.survivorPlayer01SelectedBox != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.survivorPlayer01SelectedBox.transform.position) > 0.5f) {
                        ZombieLaboratory.survivorPlayer01SelectedBox = null;
                        survivor01FindDeliverButton.Timer = 0f;
                        survivor01FindDeliverButton.isEffectActive = false;
                    }

                    if (ZombieLaboratory.survivorPlayer01HasKeyItem)
                        survivor01FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorDeliverBoxButtonSprite();
                    else
                        survivor01FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorTakeBoxButtonSprite();
                    bool CanUse = false;
                    if (ZombieLaboratory.groundItems.Count != 0) {
                        foreach (GameObject groundItem in ZombieLaboratory.groundItems) {
                            if (groundItem != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, groundItem.transform.position) < 0.5f && !ZombieLaboratory.survivorPlayer01HasKeyItem) {
                                ZombieLaboratory.survivorPlayer01CurrentBox = groundItem;
                                switch (groundItem.name) {
                                    case "keyItem01":
                                        ZombieLaboratory.survivorPlayer01FoundBox = 1;
                                        CanUse = !ZombieLaboratory.keyItem01BeingHeld;
                                        break;
                                    case "keyItem02":
                                        ZombieLaboratory.survivorPlayer01FoundBox = 2;
                                        CanUse = !ZombieLaboratory.keyItem02BeingHeld;
                                        break;
                                    case "keyItem03":
                                        ZombieLaboratory.survivorPlayer01FoundBox = 3;
                                        CanUse = !ZombieLaboratory.keyItem03BeingHeld;
                                        break;
                                    case "keyItem04":
                                        ZombieLaboratory.survivorPlayer01FoundBox = 4;
                                        CanUse = !ZombieLaboratory.keyItem04BeingHeld;
                                        break;
                                    case "keyItem05":
                                        ZombieLaboratory.survivorPlayer01FoundBox = 5;
                                        CanUse = !ZombieLaboratory.keyItem05BeingHeld;
                                        break;
                                    case "keyItem06":
                                        ZombieLaboratory.survivorPlayer01FoundBox = 6;
                                        CanUse = !ZombieLaboratory.keyItem06BeingHeld;
                                        break;
                                    case "ammoBox":
                                        ZombieLaboratory.survivorPlayer01FoundBox = 7;
                                        CanUse = (!ZombieLaboratory.survivorPlayer01HasKeyItem || !ZombieLaboratory.survivorPlayer01CanKill);
                                        break;
                                    case "nothingBox":
                                        ZombieLaboratory.survivorPlayer01FoundBox = 8;
                                        CanUse = !ZombieLaboratory.survivorPlayer01HasKeyItem;
                                        break;
                                    case "nothingBoxOpened":
                                        CanUse = false;
                                        break;
                                }
                            }
                            else if ((ZombieLaboratory.laboratorytwoPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratorytwoPutKeyItemButton.transform.position) < 0.5f || ZombieLaboratory.laboratoryPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratoryPutKeyItemButton.transform.position) < 0.5f) && ZombieLaboratory.survivorPlayer01HasKeyItem) {
                                CanUse = true;
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer01IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { survivor01FindDeliverButton.Timer = survivor01FindDeliverButton.MaxTimer; },
                ZombieLaboratory.getSurvivorTakeBoxButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.searchBoxTimer,
                () => {
                    if (!ZombieLaboratory.survivorPlayer01.Data.IsDead) {
                        if (ZombieLaboratory.survivorPlayer01FoundBox >= 1 && ZombieLaboratory.survivorPlayer01FoundBox <= 6) {
                            byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                            byte keyId = ZombieLaboratory.survivorPlayer01FoundBox;
                            MessageWriter survivorWhoFoundKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieTakeKeyItem, Hazel.SendOption.Reliable, -1);
                            survivorWhoFoundKey.Write(targetId);
                            survivorWhoFoundKey.Write(keyId);
                            AmongUsClient.Instance.FinishRpcImmediately(survivorWhoFoundKey);
                            RPCProcedure.zombieTakeKeyItem(targetId, keyId);
                        }
                        else if (ZombieLaboratory.survivorPlayer01FoundBox == 7) {

                            ZombieLaboratory.survivorPlayer01CanKill = true;

                            SoundManager.Instance.PlaySound(CustomMain.customAssets.rechargeAmmoClip, false, 100f);

                            ZombieLaboratory.survivorPlayer01SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.ammoBox.GetComponent<SpriteRenderer>().sprite;
                        }
                        else {
                            ZombieLaboratory.survivorPlayer01SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.emptyBox.GetComponent<SpriteRenderer>().sprite;
                            ZombieLaboratory.survivorPlayer01SelectedBox.name = "nothingBoxOpened";
                            // nothing box
                        }
                    }
                    survivor01FindDeliverButton.Timer = survivor01FindDeliverButton.MaxTimer;
                }
            );

            // Survivor01 EnterExit Button
            survivor01EnterExitButton = new CustomButton(
                () => {
                    byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                    bool entering = true;
                    MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                    enterInfirmary.Write(targetId);
                    enterInfirmary.Write(entering);
                    AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                    RPCProcedure.enterLeaveInfirmary(targetId, entering, 0);
                    survivor01EnterExitButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.survivorPlayer01 != null && ZombieLaboratory.survivorPlayer01 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.localSurvivorsDeliverArrow.Count != 0) {
                        ZombieLaboratory.localSurvivorsDeliverArrow[0].Update(ZombieLaboratory.laboratoryEnterButton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            ZombieLaboratory.localSurvivorsDeliverArrow[1].Update(ZombieLaboratory.laboratorytwoEnterButton.transform.position);
                        }
                    }
                    
                    if (survivor01EnterExitButton.isEffectActive) {
                        if (ZombieLaboratory.survivorPlayer01.Data.IsDead) {
                            survivor01EnterExitButton.HasEffect = false;
                            survivor01EnterExitButton.Timer = survivor01EnterExitButton.MaxTimer;
                            survivor01EnterExitButton.isEffectActive = false;
                        }
                        survivor01EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorExitLaboratoryButtonSprite();
                    }
                    else {
                        survivor01EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite();
                    }

                    bool CanUse = false;
                    if (ZombieLaboratory.laboratory != null) {
                        if ((ZombieLaboratory.laboratorytwoEnterButton != null && Vector2.Distance(ZombieLaboratory.survivorPlayer01.transform.position, ZombieLaboratory.laboratorytwoEnterButton.transform.position) < 0.35f || Vector2.Distance(ZombieLaboratory.survivorPlayer01.transform.position, ZombieLaboratory.laboratoryEnterButton.transform.position) < 0.35f) && !ZombieLaboratory.survivorPlayer01.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer01IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    survivor01EnterExitButton.Timer = survivor01EnterExitButton.MaxTimer;
                },
                ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T,
                false,
                5f,
                () => {
                    if (!ZombieLaboratory.survivorPlayer01.Data.IsDead) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        bool entering = false;
                        MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                        enterInfirmary.Write(targetId);
                        enterInfirmary.Write(entering);
                        AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                        RPCProcedure.enterLeaveInfirmary(targetId, entering, 1);
                    }
                    survivor01EnterExitButton.Timer = survivor01EnterExitButton.MaxTimer;
                }
            );

            // Survivor02 kill
            survivor02KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.survivorPlayer02currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.survivorPlayer02.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    survivor02KillButton.Timer = survivor02KillButton.MaxTimer;
                    ZombieLaboratory.survivorPlayer02currentTarget = null;
                    ZombieLaboratory.survivorPlayer02CanKill = false;
                },
                () => { return ZombieLaboratory.survivorPlayer02 != null && ZombieLaboratory.survivorPlayer02 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.survivorPlayer02CanKill) {
                        survivor02KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorFullShootButtonSprite();
                    }
                    else {
                        survivor02KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEmptyShootButtonSprite();
                    }
                    return ZombieLaboratory.survivorPlayer02currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.survivorPlayer02IsReviving && ZombieLaboratory.survivorPlayer02CanKill && !ZombieLaboratory.survivorPlayer02HasKeyItem;
                },
                () => { survivor02KillButton.Timer = survivor02KillButton.MaxTimer; },
                ZombieLaboratory.getSurvivorEmptyShootButtonSprite(),
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Survivor02 FindDeliver Button
            survivor02FindDeliverButton = new CustomButton(
                () => {
                    if (ZombieLaboratory.survivorPlayer02HasKeyItem) {
                        survivor02FindDeliverButton.HasEffect = false;
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte keyId = ZombieLaboratory.survivorPlayer02FoundBox;
                        MessageWriter deliverKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieDeliverKeyItem, Hazel.SendOption.Reliable, -1);
                        deliverKey.Write(targetId);
                        deliverKey.Write(keyId);
                        AmongUsClient.Instance.FinishRpcImmediately(deliverKey);
                        RPCProcedure.zombieDeliverKeyItem(targetId, keyId);
                        survivor02FindDeliverButton.Timer = survivor02FindDeliverButton.MaxTimer;
                    }
                    else {
                        survivor02FindDeliverButton.HasEffect = true;
                        ZombieLaboratory.survivorPlayer02SelectedBox = ZombieLaboratory.survivorPlayer02CurrentBox;
                    }
                },
                () => { return ZombieLaboratory.survivorPlayer02 != null && ZombieLaboratory.survivorPlayer02 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (survivor02FindDeliverButton.isEffectActive && ZombieLaboratory.survivorPlayer02SelectedBox != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.survivorPlayer02SelectedBox.transform.position) > 0.5f) {
                        ZombieLaboratory.survivorPlayer02SelectedBox = null;
                        survivor02FindDeliverButton.Timer = 0f;
                        survivor02FindDeliverButton.isEffectActive = false;
                    }

                    if (ZombieLaboratory.survivorPlayer02HasKeyItem)
                        survivor02FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorDeliverBoxButtonSprite();
                    else
                        survivor02FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorTakeBoxButtonSprite();
                    bool CanUse = false;
                    if (ZombieLaboratory.groundItems.Count != 0) {
                        foreach (GameObject groundItem in ZombieLaboratory.groundItems) {
                            if (groundItem != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, groundItem.transform.position) < 0.5f && !ZombieLaboratory.survivorPlayer02HasKeyItem) {
                                ZombieLaboratory.survivorPlayer02CurrentBox = groundItem;
                                switch (groundItem.name) {
                                    case "keyItem01":
                                        ZombieLaboratory.survivorPlayer02FoundBox = 1;
                                        CanUse = !ZombieLaboratory.keyItem01BeingHeld;
                                        break;
                                    case "keyItem02":
                                        ZombieLaboratory.survivorPlayer02FoundBox = 2;
                                        CanUse = !ZombieLaboratory.keyItem02BeingHeld;
                                        break;
                                    case "keyItem03":
                                        ZombieLaboratory.survivorPlayer02FoundBox = 3;
                                        CanUse = !ZombieLaboratory.keyItem03BeingHeld;
                                        break;
                                    case "keyItem04":
                                        ZombieLaboratory.survivorPlayer02FoundBox = 4;
                                        CanUse = !ZombieLaboratory.keyItem04BeingHeld;
                                        break;
                                    case "keyItem05":
                                        ZombieLaboratory.survivorPlayer02FoundBox = 5;
                                        CanUse = !ZombieLaboratory.keyItem05BeingHeld;
                                        break;
                                    case "keyItem06":
                                        ZombieLaboratory.survivorPlayer02FoundBox = 6;
                                        CanUse = !ZombieLaboratory.keyItem06BeingHeld;
                                        break;
                                    case "ammoBox":
                                        ZombieLaboratory.survivorPlayer02FoundBox = 7;
                                        CanUse = (!ZombieLaboratory.survivorPlayer02HasKeyItem || !ZombieLaboratory.survivorPlayer02CanKill);
                                        break;
                                    case "nothingBox":
                                        ZombieLaboratory.survivorPlayer02FoundBox = 8;
                                        CanUse = !ZombieLaboratory.survivorPlayer02HasKeyItem;
                                        break;
                                    case "nothingBoxOpened":
                                        CanUse = false;
                                        break;
                                }
                            }
                            else if ((ZombieLaboratory.laboratorytwoPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratorytwoPutKeyItemButton.transform.position) < 0.5f || ZombieLaboratory.laboratoryPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratoryPutKeyItemButton.transform.position) < 0.5f) && ZombieLaboratory.survivorPlayer02HasKeyItem) {
                                CanUse = true;
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer02IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { survivor02FindDeliverButton.Timer = survivor02FindDeliverButton.MaxTimer; },
                ZombieLaboratory.getSurvivorTakeBoxButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.searchBoxTimer,
                () => {
                    if (!ZombieLaboratory.survivorPlayer02.Data.IsDead) {
                        if (ZombieLaboratory.survivorPlayer02FoundBox >= 1 && ZombieLaboratory.survivorPlayer02FoundBox <= 6) {
                            byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                            byte keyId = ZombieLaboratory.survivorPlayer02FoundBox;
                            MessageWriter survivorWhoFoundKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieTakeKeyItem, Hazel.SendOption.Reliable, -1);
                            survivorWhoFoundKey.Write(targetId);
                            survivorWhoFoundKey.Write(keyId);
                            AmongUsClient.Instance.FinishRpcImmediately(survivorWhoFoundKey);
                            RPCProcedure.zombieTakeKeyItem(targetId, keyId);
                        }
                        else if (ZombieLaboratory.survivorPlayer02FoundBox == 7) {

                            ZombieLaboratory.survivorPlayer02CanKill = true;

                            SoundManager.Instance.PlaySound(CustomMain.customAssets.rechargeAmmoClip, false, 100f);

                            ZombieLaboratory.survivorPlayer02SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.ammoBox.GetComponent<SpriteRenderer>().sprite;
                        }
                        else {
                            ZombieLaboratory.survivorPlayer02SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.emptyBox.GetComponent<SpriteRenderer>().sprite;
                            ZombieLaboratory.survivorPlayer02SelectedBox.name = "nothingBoxOpened";
                            // nothing box
                        }
                    }
                    survivor02FindDeliverButton.Timer = survivor02FindDeliverButton.MaxTimer;
                }
            );

            // Survivor02 EnterExit Button
            survivor02EnterExitButton = new CustomButton(
                () => {
                    byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                    bool entering = true;
                    MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                    enterInfirmary.Write(targetId);
                    enterInfirmary.Write(entering);
                    AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                    RPCProcedure.enterLeaveInfirmary(targetId, entering, 0);
                    survivor02EnterExitButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.survivorPlayer02 != null && ZombieLaboratory.survivorPlayer02 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.localSurvivorsDeliverArrow.Count != 0) {
                        ZombieLaboratory.localSurvivorsDeliverArrow[0].Update(ZombieLaboratory.laboratoryEnterButton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            ZombieLaboratory.localSurvivorsDeliverArrow[1].Update(ZombieLaboratory.laboratorytwoEnterButton.transform.position);
                        }
                    }
                    
                    if (survivor02EnterExitButton.isEffectActive) {
                        if (ZombieLaboratory.survivorPlayer02.Data.IsDead) {
                            survivor02EnterExitButton.HasEffect = false;
                            survivor02EnterExitButton.Timer = survivor02EnterExitButton.MaxTimer;
                            survivor02EnterExitButton.isEffectActive = false;
                        }
                        survivor02EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorExitLaboratoryButtonSprite();
                    }
                    else {
                        survivor02EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite();
                    }
                    bool CanUse = false;
                    if (ZombieLaboratory.laboratory != null) {
                        if ((ZombieLaboratory.laboratorytwoEnterButton != null && Vector2.Distance(ZombieLaboratory.survivorPlayer02.transform.position, ZombieLaboratory.laboratorytwoEnterButton.transform.position) < 0.35f || Vector2.Distance(ZombieLaboratory.survivorPlayer02.transform.position, ZombieLaboratory.laboratoryEnterButton.transform.position) < 0.35f) && !ZombieLaboratory.survivorPlayer02.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer02IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    survivor02EnterExitButton.Timer = survivor02EnterExitButton.MaxTimer;
                },
                ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T,
                false,
                5f,
                () => {
                    if (!ZombieLaboratory.survivorPlayer02.Data.IsDead) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        bool entering = false;
                        MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                        enterInfirmary.Write(targetId);
                        enterInfirmary.Write(entering);
                        AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                        RPCProcedure.enterLeaveInfirmary(targetId, entering, 1);
                    }
                    survivor02EnterExitButton.Timer = survivor02EnterExitButton.MaxTimer;
                }
            );

            // Survivor03 kill
            survivor03KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.survivorPlayer03currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.survivorPlayer03.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    survivor03KillButton.Timer = survivor03KillButton.MaxTimer;
                    ZombieLaboratory.survivorPlayer03currentTarget = null;
                    ZombieLaboratory.survivorPlayer03CanKill = false;
                },
                () => { return ZombieLaboratory.survivorPlayer03 != null && ZombieLaboratory.survivorPlayer03 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.survivorPlayer03CanKill) {
                        survivor03KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorFullShootButtonSprite();
                    }
                    else {
                        survivor03KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEmptyShootButtonSprite();
                    }
                    return ZombieLaboratory.survivorPlayer03currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.survivorPlayer03IsReviving && ZombieLaboratory.survivorPlayer03CanKill && !ZombieLaboratory.survivorPlayer03HasKeyItem;
                },
                () => { survivor03KillButton.Timer = survivor03KillButton.MaxTimer; },
                ZombieLaboratory.getSurvivorEmptyShootButtonSprite(),
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Survivor03 FindDeliver Button
            survivor03FindDeliverButton = new CustomButton(
                () => {
                    if (ZombieLaboratory.survivorPlayer03HasKeyItem) {
                        survivor03FindDeliverButton.HasEffect = false;
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte keyId = ZombieLaboratory.survivorPlayer03FoundBox;
                        MessageWriter deliverKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieDeliverKeyItem, Hazel.SendOption.Reliable, -1);
                        deliverKey.Write(targetId);
                        deliverKey.Write(keyId);
                        AmongUsClient.Instance.FinishRpcImmediately(deliverKey);
                        RPCProcedure.zombieDeliverKeyItem(targetId, keyId);
                        survivor03FindDeliverButton.Timer = survivor03FindDeliverButton.MaxTimer;
                    }
                    else {
                        survivor03FindDeliverButton.HasEffect = true;
                        ZombieLaboratory.survivorPlayer03SelectedBox = ZombieLaboratory.survivorPlayer03CurrentBox;
                    }
                },
                () => { return ZombieLaboratory.survivorPlayer03 != null && ZombieLaboratory.survivorPlayer03 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (survivor03FindDeliverButton.isEffectActive && ZombieLaboratory.survivorPlayer03SelectedBox != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.survivorPlayer03SelectedBox.transform.position) > 0.5f) {
                        ZombieLaboratory.survivorPlayer03SelectedBox = null;
                        survivor03FindDeliverButton.Timer = 0f;
                        survivor03FindDeliverButton.isEffectActive = false;
                    }

                    if (ZombieLaboratory.survivorPlayer03HasKeyItem)
                        survivor03FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorDeliverBoxButtonSprite();
                    else
                        survivor03FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorTakeBoxButtonSprite();
                    bool CanUse = false;
                    if (ZombieLaboratory.groundItems.Count != 0) {
                        foreach (GameObject groundItem in ZombieLaboratory.groundItems) {
                            if (groundItem != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, groundItem.transform.position) < 0.5f && !ZombieLaboratory.survivorPlayer03HasKeyItem) {
                                ZombieLaboratory.survivorPlayer03CurrentBox = groundItem;
                                switch (groundItem.name) {
                                    case "keyItem01":
                                        ZombieLaboratory.survivorPlayer03FoundBox = 1;
                                        CanUse = !ZombieLaboratory.keyItem01BeingHeld;
                                        break;
                                    case "keyItem02":
                                        ZombieLaboratory.survivorPlayer03FoundBox = 2;
                                        CanUse = !ZombieLaboratory.keyItem02BeingHeld;
                                        break;
                                    case "keyItem03":
                                        ZombieLaboratory.survivorPlayer03FoundBox = 3;
                                        CanUse = !ZombieLaboratory.keyItem03BeingHeld;
                                        break;
                                    case "keyItem04":
                                        ZombieLaboratory.survivorPlayer03FoundBox = 4;
                                        CanUse = !ZombieLaboratory.keyItem04BeingHeld;
                                        break;
                                    case "keyItem05":
                                        ZombieLaboratory.survivorPlayer03FoundBox = 5;
                                        CanUse = !ZombieLaboratory.keyItem05BeingHeld;
                                        break;
                                    case "keyItem06":
                                        ZombieLaboratory.survivorPlayer03FoundBox = 6;
                                        CanUse = !ZombieLaboratory.keyItem06BeingHeld;
                                        break;
                                    case "ammoBox":
                                        ZombieLaboratory.survivorPlayer03FoundBox = 7;
                                        CanUse = (!ZombieLaboratory.survivorPlayer03HasKeyItem || !ZombieLaboratory.survivorPlayer03CanKill);
                                        break;
                                    case "nothingBox":
                                        ZombieLaboratory.survivorPlayer03FoundBox = 8;
                                        CanUse = !ZombieLaboratory.survivorPlayer03HasKeyItem;
                                        break;
                                    case "nothingBoxOpened":
                                        CanUse = false;
                                        break;
                                }
                            }
                            else if ((ZombieLaboratory.laboratorytwoPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratorytwoPutKeyItemButton.transform.position) < 0.5f || ZombieLaboratory.laboratoryPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratoryPutKeyItemButton.transform.position) < 0.5f) && ZombieLaboratory.survivorPlayer03HasKeyItem) {
                                CanUse = true;
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer03IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { survivor03FindDeliverButton.Timer = survivor03FindDeliverButton.MaxTimer; },
                ZombieLaboratory.getSurvivorTakeBoxButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.searchBoxTimer,
                () => {
                    if (!ZombieLaboratory.survivorPlayer03.Data.IsDead) {
                        if (ZombieLaboratory.survivorPlayer03FoundBox >= 1 && ZombieLaboratory.survivorPlayer03FoundBox <= 6) {
                            byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                            byte keyId = ZombieLaboratory.survivorPlayer03FoundBox;
                            MessageWriter survivorWhoFoundKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieTakeKeyItem, Hazel.SendOption.Reliable, -1);
                            survivorWhoFoundKey.Write(targetId);
                            survivorWhoFoundKey.Write(keyId);
                            AmongUsClient.Instance.FinishRpcImmediately(survivorWhoFoundKey);
                            RPCProcedure.zombieTakeKeyItem(targetId, keyId);
                        }
                        else if (ZombieLaboratory.survivorPlayer03FoundBox == 7) {

                            ZombieLaboratory.survivorPlayer03CanKill = true;

                            SoundManager.Instance.PlaySound(CustomMain.customAssets.rechargeAmmoClip, false, 100f);

                            ZombieLaboratory.survivorPlayer03SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.ammoBox.GetComponent<SpriteRenderer>().sprite;
                        }
                        else {
                            ZombieLaboratory.survivorPlayer03SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.emptyBox.GetComponent<SpriteRenderer>().sprite;
                            ZombieLaboratory.survivorPlayer03SelectedBox.name = "nothingBoxOpened";
                            // nothing box
                        }
                    }
                    survivor03FindDeliverButton.Timer = survivor03FindDeliverButton.MaxTimer;
                }
            );

            // Survivor03 EnterExit Button
            survivor03EnterExitButton = new CustomButton(
                () => {
                    byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                    bool entering = true;
                    MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                    enterInfirmary.Write(targetId);
                    enterInfirmary.Write(entering);
                    AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                    RPCProcedure.enterLeaveInfirmary(targetId, entering, 0);
                    survivor03EnterExitButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.survivorPlayer03 != null && ZombieLaboratory.survivorPlayer03 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.localSurvivorsDeliverArrow.Count != 0) {
                        ZombieLaboratory.localSurvivorsDeliverArrow[0].Update(ZombieLaboratory.laboratoryEnterButton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            ZombieLaboratory.localSurvivorsDeliverArrow[1].Update(ZombieLaboratory.laboratorytwoEnterButton.transform.position);
                        }
                    }
                    
                    if (survivor03EnterExitButton.isEffectActive) {
                        if (ZombieLaboratory.survivorPlayer03.Data.IsDead) {
                            survivor03EnterExitButton.HasEffect = false;
                            survivor03EnterExitButton.Timer = survivor03EnterExitButton.MaxTimer;
                            survivor03EnterExitButton.isEffectActive = false;
                        }
                        survivor03EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorExitLaboratoryButtonSprite();
                    }
                    else {
                        survivor03EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite();
                    }
                    bool CanUse = false;
                    if (ZombieLaboratory.laboratory != null) {
                        if ((ZombieLaboratory.laboratorytwoEnterButton != null && Vector2.Distance(ZombieLaboratory.survivorPlayer03.transform.position, ZombieLaboratory.laboratorytwoEnterButton.transform.position) < 0.35f || Vector2.Distance(ZombieLaboratory.survivorPlayer03.transform.position, ZombieLaboratory.laboratoryEnterButton.transform.position) < 0.35f) && !ZombieLaboratory.survivorPlayer03.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer03IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    survivor03EnterExitButton.Timer = survivor03EnterExitButton.MaxTimer;
                },
                ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T,
                false,
                5f,
                () => {
                    if (!ZombieLaboratory.survivorPlayer03.Data.IsDead) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        bool entering = false;
                        MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                        enterInfirmary.Write(targetId);
                        enterInfirmary.Write(entering);
                        AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                        RPCProcedure.enterLeaveInfirmary(targetId, entering, 1);
                    }
                    survivor03EnterExitButton.Timer = survivor03EnterExitButton.MaxTimer;
                }
            );

            // Survivor04 kill
            survivor04KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.survivorPlayer04currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.survivorPlayer04.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    survivor04KillButton.Timer = survivor04KillButton.MaxTimer;
                    ZombieLaboratory.survivorPlayer04currentTarget = null;
                    ZombieLaboratory.survivorPlayer04CanKill = false;
                },
                () => { return ZombieLaboratory.survivorPlayer04 != null && ZombieLaboratory.survivorPlayer04 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.survivorPlayer04CanKill) {
                        survivor04KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorFullShootButtonSprite();
                    }
                    else {
                        survivor04KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEmptyShootButtonSprite();
                    }
                    return ZombieLaboratory.survivorPlayer04currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.survivorPlayer04IsReviving && ZombieLaboratory.survivorPlayer04CanKill && !ZombieLaboratory.survivorPlayer04HasKeyItem;
                },
                () => { survivor04KillButton.Timer = survivor04KillButton.MaxTimer; },
                ZombieLaboratory.getSurvivorEmptyShootButtonSprite(),
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Survivor04 FindDeliver Button
            survivor04FindDeliverButton = new CustomButton(
                () => {
                    if (ZombieLaboratory.survivorPlayer04HasKeyItem) {
                        survivor04FindDeliverButton.HasEffect = false;
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte keyId = ZombieLaboratory.survivorPlayer04FoundBox;
                        MessageWriter deliverKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieDeliverKeyItem, Hazel.SendOption.Reliable, -1);
                        deliverKey.Write(targetId);
                        deliverKey.Write(keyId);
                        AmongUsClient.Instance.FinishRpcImmediately(deliverKey);
                        RPCProcedure.zombieDeliverKeyItem(targetId, keyId);
                        survivor04FindDeliverButton.Timer = survivor04FindDeliverButton.MaxTimer;
                    }
                    else {
                        survivor04FindDeliverButton.HasEffect = true;
                        ZombieLaboratory.survivorPlayer04SelectedBox = ZombieLaboratory.survivorPlayer04CurrentBox;
                    }
                },
                () => { return ZombieLaboratory.survivorPlayer04 != null && ZombieLaboratory.survivorPlayer04 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (survivor04FindDeliverButton.isEffectActive && ZombieLaboratory.survivorPlayer04SelectedBox != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.survivorPlayer04SelectedBox.transform.position) > 0.5f) {
                        ZombieLaboratory.survivorPlayer04SelectedBox = null;
                        survivor04FindDeliverButton.Timer = 0f;
                        survivor04FindDeliverButton.isEffectActive = false;
                    }

                    if (ZombieLaboratory.survivorPlayer04HasKeyItem)
                        survivor04FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorDeliverBoxButtonSprite();
                    else
                        survivor04FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorTakeBoxButtonSprite();
                    bool CanUse = false;
                    if (ZombieLaboratory.groundItems.Count != 0) {
                        foreach (GameObject groundItem in ZombieLaboratory.groundItems) {
                            if (groundItem != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, groundItem.transform.position) < 0.5f && !ZombieLaboratory.survivorPlayer04HasKeyItem) {
                                ZombieLaboratory.survivorPlayer04CurrentBox = groundItem;
                                switch (groundItem.name) {
                                    case "keyItem01":
                                        ZombieLaboratory.survivorPlayer04FoundBox = 1;
                                        CanUse = !ZombieLaboratory.keyItem01BeingHeld;
                                        break;
                                    case "keyItem02":
                                        ZombieLaboratory.survivorPlayer04FoundBox = 2;
                                        CanUse = !ZombieLaboratory.keyItem02BeingHeld;
                                        break;
                                    case "keyItem03":
                                        ZombieLaboratory.survivorPlayer04FoundBox = 3;
                                        CanUse = !ZombieLaboratory.keyItem03BeingHeld;
                                        break;
                                    case "keyItem04":
                                        ZombieLaboratory.survivorPlayer04FoundBox = 4;
                                        CanUse = !ZombieLaboratory.keyItem04BeingHeld;
                                        break;
                                    case "keyItem05":
                                        ZombieLaboratory.survivorPlayer04FoundBox = 5;
                                        CanUse = !ZombieLaboratory.keyItem05BeingHeld;
                                        break;
                                    case "keyItem06":
                                        ZombieLaboratory.survivorPlayer04FoundBox = 6;
                                        CanUse = !ZombieLaboratory.keyItem06BeingHeld;
                                        break;
                                    case "ammoBox":
                                        ZombieLaboratory.survivorPlayer04FoundBox = 7;
                                        CanUse = (!ZombieLaboratory.survivorPlayer04HasKeyItem || !ZombieLaboratory.survivorPlayer04CanKill);
                                        break;
                                    case "nothingBox":
                                        ZombieLaboratory.survivorPlayer04FoundBox = 8;
                                        CanUse = !ZombieLaboratory.survivorPlayer04HasKeyItem;
                                        break;
                                    case "nothingBoxOpened":
                                        CanUse = false;
                                        break;
                                }
                            }
                            else if ((ZombieLaboratory.laboratorytwoPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratorytwoPutKeyItemButton.transform.position) < 0.5f || ZombieLaboratory.laboratoryPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratoryPutKeyItemButton.transform.position) < 0.5f) && ZombieLaboratory.survivorPlayer04HasKeyItem) {
                                CanUse = true;
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer04IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { survivor04FindDeliverButton.Timer = survivor04FindDeliverButton.MaxTimer; },
                ZombieLaboratory.getSurvivorTakeBoxButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.searchBoxTimer,
                () => {
                    if (!ZombieLaboratory.survivorPlayer04.Data.IsDead) {
                        if (ZombieLaboratory.survivorPlayer04FoundBox >= 1 && ZombieLaboratory.survivorPlayer04FoundBox <= 6) {
                            byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                            byte keyId = ZombieLaboratory.survivorPlayer04FoundBox;
                            MessageWriter survivorWhoFoundKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieTakeKeyItem, Hazel.SendOption.Reliable, -1);
                            survivorWhoFoundKey.Write(targetId);
                            survivorWhoFoundKey.Write(keyId);
                            AmongUsClient.Instance.FinishRpcImmediately(survivorWhoFoundKey);
                            RPCProcedure.zombieTakeKeyItem(targetId, keyId);
                        }
                        else if (ZombieLaboratory.survivorPlayer04FoundBox == 7) {

                            ZombieLaboratory.survivorPlayer04CanKill = true;

                            SoundManager.Instance.PlaySound(CustomMain.customAssets.rechargeAmmoClip, false, 100f);

                            ZombieLaboratory.survivorPlayer04SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.ammoBox.GetComponent<SpriteRenderer>().sprite;
                        }
                        else {
                            ZombieLaboratory.survivorPlayer04SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.emptyBox.GetComponent<SpriteRenderer>().sprite;
                            ZombieLaboratory.survivorPlayer04SelectedBox.name = "nothingBoxOpened";
                            // nothing box
                        }
                    }
                    survivor04FindDeliverButton.Timer = survivor04FindDeliverButton.MaxTimer;
                }
            );

            // Survivor04 EnterExit Button
            survivor04EnterExitButton = new CustomButton(
                () => {
                    byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                    bool entering = true;
                    MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                    enterInfirmary.Write(targetId);
                    enterInfirmary.Write(entering);
                    AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                    RPCProcedure.enterLeaveInfirmary(targetId, entering, 0);
                    survivor04EnterExitButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.survivorPlayer04 != null && ZombieLaboratory.survivorPlayer04 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.localSurvivorsDeliverArrow.Count != 0) {
                        ZombieLaboratory.localSurvivorsDeliverArrow[0].Update(ZombieLaboratory.laboratoryEnterButton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            ZombieLaboratory.localSurvivorsDeliverArrow[1].Update(ZombieLaboratory.laboratorytwoEnterButton.transform.position);
                        }
                    }
                    
                    if (survivor04EnterExitButton.isEffectActive) {
                        if (ZombieLaboratory.survivorPlayer04.Data.IsDead) {
                            survivor04EnterExitButton.HasEffect = false;
                            survivor04EnterExitButton.Timer = survivor04EnterExitButton.MaxTimer;
                            survivor04EnterExitButton.isEffectActive = false;
                        }
                        survivor04EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorExitLaboratoryButtonSprite();
                    }
                    else {
                        survivor04EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite();
                    }
                    bool CanUse = false;
                    if (ZombieLaboratory.laboratory != null) {
                        if ((ZombieLaboratory.laboratorytwoEnterButton != null && Vector2.Distance(ZombieLaboratory.survivorPlayer04.transform.position, ZombieLaboratory.laboratorytwoEnterButton.transform.position) < 0.35f || Vector2.Distance(ZombieLaboratory.survivorPlayer04.transform.position, ZombieLaboratory.laboratoryEnterButton.transform.position) < 0.35f) && !ZombieLaboratory.survivorPlayer04.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer04IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    survivor04EnterExitButton.Timer = survivor04EnterExitButton.MaxTimer;
                },
                ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T,
                false,
                5f,
                () => {
                    if (!ZombieLaboratory.survivorPlayer04.Data.IsDead) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        bool entering = false;
                        MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                        enterInfirmary.Write(targetId);
                        enterInfirmary.Write(entering);
                        AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                        RPCProcedure.enterLeaveInfirmary(targetId, entering, 1);
                    }
                    survivor04EnterExitButton.Timer = survivor04EnterExitButton.MaxTimer;
                }
            );

            // Survivor05 kill
            survivor05KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.survivorPlayer05currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.survivorPlayer05.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    survivor05KillButton.Timer = survivor05KillButton.MaxTimer;
                    ZombieLaboratory.survivorPlayer05currentTarget = null;
                    ZombieLaboratory.survivorPlayer05CanKill = false;
                },
                () => { return ZombieLaboratory.survivorPlayer05 != null && ZombieLaboratory.survivorPlayer05 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.survivorPlayer05CanKill) {
                        survivor05KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorFullShootButtonSprite();
                    }
                    else {
                        survivor05KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEmptyShootButtonSprite();
                    }
                    return ZombieLaboratory.survivorPlayer05currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.survivorPlayer05IsReviving && ZombieLaboratory.survivorPlayer05CanKill && !ZombieLaboratory.survivorPlayer05HasKeyItem;
                },
                () => { survivor05KillButton.Timer = survivor05KillButton.MaxTimer; },
                ZombieLaboratory.getSurvivorEmptyShootButtonSprite(),
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Survivor05 FindDeliver Button
            survivor05FindDeliverButton = new CustomButton(
                () => {
                    if (ZombieLaboratory.survivorPlayer05HasKeyItem) {
                        survivor05FindDeliverButton.HasEffect = false;
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte keyId = ZombieLaboratory.survivorPlayer05FoundBox;
                        MessageWriter deliverKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieDeliverKeyItem, Hazel.SendOption.Reliable, -1);
                        deliverKey.Write(targetId);
                        deliverKey.Write(keyId);
                        AmongUsClient.Instance.FinishRpcImmediately(deliverKey);
                        RPCProcedure.zombieDeliverKeyItem(targetId, keyId);
                        survivor05FindDeliverButton.Timer = survivor05FindDeliverButton.MaxTimer;
                    }
                    else {
                        survivor05FindDeliverButton.HasEffect = true;
                        ZombieLaboratory.survivorPlayer05SelectedBox = ZombieLaboratory.survivorPlayer05CurrentBox;
                    }
                },
                () => { return ZombieLaboratory.survivorPlayer05 != null && ZombieLaboratory.survivorPlayer05 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (survivor05FindDeliverButton.isEffectActive && ZombieLaboratory.survivorPlayer05SelectedBox != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.survivorPlayer05SelectedBox.transform.position) > 0.5f) {
                        ZombieLaboratory.survivorPlayer05SelectedBox = null;
                        survivor05FindDeliverButton.Timer = 0f;
                        survivor05FindDeliverButton.isEffectActive = false;
                    }

                    if (ZombieLaboratory.survivorPlayer05HasKeyItem)
                        survivor05FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorDeliverBoxButtonSprite();
                    else
                        survivor05FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorTakeBoxButtonSprite();
                    bool CanUse = false;
                    if (ZombieLaboratory.groundItems.Count != 0) {
                        foreach (GameObject groundItem in ZombieLaboratory.groundItems) {
                            if (groundItem != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, groundItem.transform.position) < 0.5f && !ZombieLaboratory.survivorPlayer05HasKeyItem) {
                                ZombieLaboratory.survivorPlayer05CurrentBox = groundItem;
                                switch (groundItem.name) {
                                    case "keyItem01":
                                        ZombieLaboratory.survivorPlayer05FoundBox = 1;
                                        CanUse = !ZombieLaboratory.keyItem01BeingHeld;
                                        break;
                                    case "keyItem02":
                                        ZombieLaboratory.survivorPlayer05FoundBox = 2;
                                        CanUse = !ZombieLaboratory.keyItem02BeingHeld;
                                        break;
                                    case "keyItem03":
                                        ZombieLaboratory.survivorPlayer05FoundBox = 3;
                                        CanUse = !ZombieLaboratory.keyItem03BeingHeld;
                                        break;
                                    case "keyItem04":
                                        ZombieLaboratory.survivorPlayer05FoundBox = 4;
                                        CanUse = !ZombieLaboratory.keyItem04BeingHeld;
                                        break;
                                    case "keyItem05":
                                        ZombieLaboratory.survivorPlayer05FoundBox = 5;
                                        CanUse = !ZombieLaboratory.keyItem05BeingHeld;
                                        break;
                                    case "keyItem06":
                                        ZombieLaboratory.survivorPlayer05FoundBox = 6;
                                        CanUse = !ZombieLaboratory.keyItem06BeingHeld;
                                        break;
                                    case "ammoBox":
                                        ZombieLaboratory.survivorPlayer05FoundBox = 7;
                                        CanUse = (!ZombieLaboratory.survivorPlayer05HasKeyItem || !ZombieLaboratory.survivorPlayer05CanKill);
                                        break;
                                    case "nothingBox":
                                        ZombieLaboratory.survivorPlayer05FoundBox = 8;
                                        CanUse = !ZombieLaboratory.survivorPlayer05HasKeyItem;
                                        break;
                                    case "nothingBoxOpened":
                                        CanUse = false;
                                        break;
                                }
                            }
                            else if ((ZombieLaboratory.laboratorytwoPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratorytwoPutKeyItemButton.transform.position) < 0.5f || ZombieLaboratory.laboratoryPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratoryPutKeyItemButton.transform.position) < 0.5f) && ZombieLaboratory.survivorPlayer05HasKeyItem) {
                                CanUse = true;
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer05IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { survivor05FindDeliverButton.Timer = survivor05FindDeliverButton.MaxTimer; },
                ZombieLaboratory.getSurvivorTakeBoxButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.searchBoxTimer,
                () => {
                    if (!ZombieLaboratory.survivorPlayer05.Data.IsDead) {
                        if (ZombieLaboratory.survivorPlayer05FoundBox >= 1 && ZombieLaboratory.survivorPlayer05FoundBox <= 6) {
                            byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                            byte keyId = ZombieLaboratory.survivorPlayer05FoundBox;
                            MessageWriter survivorWhoFoundKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieTakeKeyItem, Hazel.SendOption.Reliable, -1);
                            survivorWhoFoundKey.Write(targetId);
                            survivorWhoFoundKey.Write(keyId);
                            AmongUsClient.Instance.FinishRpcImmediately(survivorWhoFoundKey);
                            RPCProcedure.zombieTakeKeyItem(targetId, keyId);
                        }
                        else if (ZombieLaboratory.survivorPlayer05FoundBox == 7) {

                            ZombieLaboratory.survivorPlayer05CanKill = true;

                            SoundManager.Instance.PlaySound(CustomMain.customAssets.rechargeAmmoClip, false, 100f);

                            ZombieLaboratory.survivorPlayer05SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.ammoBox.GetComponent<SpriteRenderer>().sprite;
                        }
                        else {
                            ZombieLaboratory.survivorPlayer05SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.emptyBox.GetComponent<SpriteRenderer>().sprite;
                            ZombieLaboratory.survivorPlayer05SelectedBox.name = "nothingBoxOpened";
                            // nothing box
                        }
                    }
                    survivor05FindDeliverButton.Timer = survivor05FindDeliverButton.MaxTimer;
                }
            );

            // Survivor05 EnterExit Button
            survivor05EnterExitButton = new CustomButton(
                () => {
                    byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                    bool entering = true;
                    MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                    enterInfirmary.Write(targetId);
                    enterInfirmary.Write(entering);
                    AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                    RPCProcedure.enterLeaveInfirmary(targetId, entering, 0);
                    survivor05EnterExitButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.survivorPlayer05 != null && ZombieLaboratory.survivorPlayer05 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.localSurvivorsDeliverArrow.Count != 0) {
                        ZombieLaboratory.localSurvivorsDeliverArrow[0].Update(ZombieLaboratory.laboratoryEnterButton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            ZombieLaboratory.localSurvivorsDeliverArrow[1].Update(ZombieLaboratory.laboratorytwoEnterButton.transform.position);
                        }
                    }
                    
                    if (survivor05EnterExitButton.isEffectActive) {
                        if (ZombieLaboratory.survivorPlayer05.Data.IsDead) {
                            survivor05EnterExitButton.HasEffect = false;
                            survivor05EnterExitButton.Timer = survivor05EnterExitButton.MaxTimer;
                            survivor05EnterExitButton.isEffectActive = false;
                        }
                        survivor05EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorExitLaboratoryButtonSprite();
                    }
                    else {
                        survivor05EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite();
                    }
                    bool CanUse = false;
                    if (ZombieLaboratory.laboratory != null) {
                        if ((ZombieLaboratory.laboratorytwoEnterButton != null && Vector2.Distance(ZombieLaboratory.survivorPlayer05.transform.position, ZombieLaboratory.laboratorytwoEnterButton.transform.position) < 0.35f || Vector2.Distance(ZombieLaboratory.survivorPlayer05.transform.position, ZombieLaboratory.laboratoryEnterButton.transform.position) < 0.35f) && !ZombieLaboratory.survivorPlayer05.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer05IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    survivor05EnterExitButton.Timer = survivor05EnterExitButton.MaxTimer;
                },
                ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T,
                false,
                5f,
                () => {
                    if (!ZombieLaboratory.survivorPlayer05.Data.IsDead) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        bool entering = false;
                        MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                        enterInfirmary.Write(targetId);
                        enterInfirmary.Write(entering);
                        AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                        RPCProcedure.enterLeaveInfirmary(targetId, entering, 1);
                    }
                    survivor05EnterExitButton.Timer = survivor05EnterExitButton.MaxTimer;
                }
            );

            // Survivor06 kill
            survivor06KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.survivorPlayer06currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.survivorPlayer06.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    survivor06KillButton.Timer = survivor06KillButton.MaxTimer;
                    ZombieLaboratory.survivorPlayer06currentTarget = null;
                    ZombieLaboratory.survivorPlayer06CanKill = false;
                },
                () => { return ZombieLaboratory.survivorPlayer06 != null && ZombieLaboratory.survivorPlayer06 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.survivorPlayer06CanKill) {
                        survivor06KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorFullShootButtonSprite();
                    }
                    else {
                        survivor06KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEmptyShootButtonSprite();
                    }
                    return ZombieLaboratory.survivorPlayer06currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.survivorPlayer06IsReviving && ZombieLaboratory.survivorPlayer06CanKill && !ZombieLaboratory.survivorPlayer06HasKeyItem;
                },
                () => { survivor06KillButton.Timer = survivor06KillButton.MaxTimer; },
                ZombieLaboratory.getSurvivorEmptyShootButtonSprite(),
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Survivor06 FindDeliver Button
            survivor06FindDeliverButton = new CustomButton(
                () => {
                    if (ZombieLaboratory.survivorPlayer06HasKeyItem) {
                        survivor06FindDeliverButton.HasEffect = false;
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte keyId = ZombieLaboratory.survivorPlayer06FoundBox;
                        MessageWriter deliverKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieDeliverKeyItem, Hazel.SendOption.Reliable, -1);
                        deliverKey.Write(targetId);
                        deliverKey.Write(keyId);
                        AmongUsClient.Instance.FinishRpcImmediately(deliverKey);
                        RPCProcedure.zombieDeliverKeyItem(targetId, keyId);
                        survivor06FindDeliverButton.Timer = survivor06FindDeliverButton.MaxTimer;
                    }
                    else {
                        survivor06FindDeliverButton.HasEffect = true;
                        ZombieLaboratory.survivorPlayer06SelectedBox = ZombieLaboratory.survivorPlayer06CurrentBox;
                    }
                },
                () => { return ZombieLaboratory.survivorPlayer06 != null && ZombieLaboratory.survivorPlayer06 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (survivor06FindDeliverButton.isEffectActive && ZombieLaboratory.survivorPlayer06SelectedBox != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.survivorPlayer06SelectedBox.transform.position) > 0.5f) {
                        ZombieLaboratory.survivorPlayer06SelectedBox = null;
                        survivor06FindDeliverButton.Timer = 0f;
                        survivor06FindDeliverButton.isEffectActive = false;
                    }

                    if (ZombieLaboratory.survivorPlayer06HasKeyItem)
                        survivor06FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorDeliverBoxButtonSprite();
                    else
                        survivor06FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorTakeBoxButtonSprite();
                    bool CanUse = false;
                    if (ZombieLaboratory.groundItems.Count != 0) {
                        foreach (GameObject groundItem in ZombieLaboratory.groundItems) {
                            if (groundItem != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, groundItem.transform.position) < 0.5f && !ZombieLaboratory.survivorPlayer06HasKeyItem) {
                                ZombieLaboratory.survivorPlayer06CurrentBox = groundItem;
                                switch (groundItem.name) {
                                    case "keyItem01":
                                        ZombieLaboratory.survivorPlayer06FoundBox = 1;
                                        CanUse = !ZombieLaboratory.keyItem01BeingHeld;
                                        break;
                                    case "keyItem02":
                                        ZombieLaboratory.survivorPlayer06FoundBox = 2;
                                        CanUse = !ZombieLaboratory.keyItem02BeingHeld;
                                        break;
                                    case "keyItem03":
                                        ZombieLaboratory.survivorPlayer06FoundBox = 3;
                                        CanUse = !ZombieLaboratory.keyItem03BeingHeld;
                                        break;
                                    case "keyItem04":
                                        ZombieLaboratory.survivorPlayer06FoundBox = 4;
                                        CanUse = !ZombieLaboratory.keyItem04BeingHeld;
                                        break;
                                    case "keyItem05":
                                        ZombieLaboratory.survivorPlayer06FoundBox = 5;
                                        CanUse = !ZombieLaboratory.keyItem05BeingHeld;
                                        break;
                                    case "keyItem06":
                                        ZombieLaboratory.survivorPlayer06FoundBox = 6;
                                        CanUse = !ZombieLaboratory.keyItem06BeingHeld;
                                        break;
                                    case "ammoBox":
                                        ZombieLaboratory.survivorPlayer06FoundBox = 7;
                                        CanUse = (!ZombieLaboratory.survivorPlayer06HasKeyItem || !ZombieLaboratory.survivorPlayer06CanKill);
                                        break;
                                    case "nothingBox":
                                        ZombieLaboratory.survivorPlayer06FoundBox = 8;
                                        CanUse = !ZombieLaboratory.survivorPlayer06HasKeyItem;
                                        break;
                                    case "nothingBoxOpened":
                                        CanUse = false;
                                        break;
                                }
                            }
                            else if ((ZombieLaboratory.laboratorytwoPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratorytwoPutKeyItemButton.transform.position) < 0.5f || ZombieLaboratory.laboratoryPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratoryPutKeyItemButton.transform.position) < 0.5f) && ZombieLaboratory.survivorPlayer06HasKeyItem) {
                                CanUse = true;
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer06IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { survivor06FindDeliverButton.Timer = survivor06FindDeliverButton.MaxTimer; },
                ZombieLaboratory.getSurvivorTakeBoxButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.searchBoxTimer,
                () => {
                    if (!ZombieLaboratory.survivorPlayer06.Data.IsDead) {
                        if (ZombieLaboratory.survivorPlayer06FoundBox >= 1 && ZombieLaboratory.survivorPlayer06FoundBox <= 6) {
                            byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                            byte keyId = ZombieLaboratory.survivorPlayer06FoundBox;
                            MessageWriter survivorWhoFoundKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieTakeKeyItem, Hazel.SendOption.Reliable, -1);
                            survivorWhoFoundKey.Write(targetId);
                            survivorWhoFoundKey.Write(keyId);
                            AmongUsClient.Instance.FinishRpcImmediately(survivorWhoFoundKey);
                            RPCProcedure.zombieTakeKeyItem(targetId, keyId);
                        }
                        else if (ZombieLaboratory.survivorPlayer06FoundBox == 7) {

                            ZombieLaboratory.survivorPlayer06CanKill = true;

                            SoundManager.Instance.PlaySound(CustomMain.customAssets.rechargeAmmoClip, false, 100f);

                            ZombieLaboratory.survivorPlayer06SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.ammoBox.GetComponent<SpriteRenderer>().sprite;
                        }
                        else {
                            ZombieLaboratory.survivorPlayer06SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.emptyBox.GetComponent<SpriteRenderer>().sprite;
                            ZombieLaboratory.survivorPlayer06SelectedBox.name = "nothingBoxOpened";
                            // nothing box
                        }
                    }
                    survivor06FindDeliverButton.Timer = survivor06FindDeliverButton.MaxTimer;
                }
            );

            // Survivor06 EnterExit Button
            survivor06EnterExitButton = new CustomButton(
                () => {
                    byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                    bool entering = true;
                    MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                    enterInfirmary.Write(targetId);
                    enterInfirmary.Write(entering);
                    AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                    RPCProcedure.enterLeaveInfirmary(targetId, entering, 0);
                    survivor06EnterExitButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.survivorPlayer06 != null && ZombieLaboratory.survivorPlayer06 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.localSurvivorsDeliverArrow.Count != 0) {
                        ZombieLaboratory.localSurvivorsDeliverArrow[0].Update(ZombieLaboratory.laboratoryEnterButton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            ZombieLaboratory.localSurvivorsDeliverArrow[1].Update(ZombieLaboratory.laboratorytwoEnterButton.transform.position);
                        }
                    }
                    
                    if (survivor06EnterExitButton.isEffectActive) {
                        if (ZombieLaboratory.survivorPlayer06.Data.IsDead) {
                            survivor06EnterExitButton.HasEffect = false;
                            survivor06EnterExitButton.Timer = survivor06EnterExitButton.MaxTimer;
                            survivor06EnterExitButton.isEffectActive = false;
                        }
                        survivor06EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorExitLaboratoryButtonSprite();
                    }
                    else {
                        survivor06EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite();
                    }
                    bool CanUse = false;
                    if (ZombieLaboratory.laboratory != null) {
                        if ((ZombieLaboratory.laboratorytwoEnterButton != null && Vector2.Distance(ZombieLaboratory.survivorPlayer06.transform.position, ZombieLaboratory.laboratorytwoEnterButton.transform.position) < 0.35f || Vector2.Distance(ZombieLaboratory.survivorPlayer06.transform.position, ZombieLaboratory.laboratoryEnterButton.transform.position) < 0.35f) && !ZombieLaboratory.survivorPlayer06.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer06IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    survivor06EnterExitButton.Timer = survivor06EnterExitButton.MaxTimer;
                },
                ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T,
                false,
                5f,
                () => {
                    if (!ZombieLaboratory.survivorPlayer06.Data.IsDead) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        bool entering = false;
                        MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                        enterInfirmary.Write(targetId);
                        enterInfirmary.Write(entering);
                        AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                        RPCProcedure.enterLeaveInfirmary(targetId, entering, 1);
                    }
                    survivor06EnterExitButton.Timer = survivor06EnterExitButton.MaxTimer;
                }
            );

            // Survivor07 kill
            survivor07KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.survivorPlayer07currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.survivorPlayer07.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    survivor07KillButton.Timer = survivor07KillButton.MaxTimer;
                    ZombieLaboratory.survivorPlayer07currentTarget = null;
                    ZombieLaboratory.survivorPlayer07CanKill = false;
                },
                () => { return ZombieLaboratory.survivorPlayer07 != null && ZombieLaboratory.survivorPlayer07 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.survivorPlayer07CanKill) {
                        survivor07KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorFullShootButtonSprite();
                    }
                    else {
                        survivor07KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEmptyShootButtonSprite();
                    }
                    return ZombieLaboratory.survivorPlayer07currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.survivorPlayer07IsReviving && ZombieLaboratory.survivorPlayer07CanKill && !ZombieLaboratory.survivorPlayer07HasKeyItem;
                },
                () => { survivor07KillButton.Timer = survivor07KillButton.MaxTimer; },
                ZombieLaboratory.getSurvivorEmptyShootButtonSprite(),
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Survivor07 FindDeliver Button
            survivor07FindDeliverButton = new CustomButton(
                () => {
                    if (ZombieLaboratory.survivorPlayer07HasKeyItem) {
                        survivor07FindDeliverButton.HasEffect = false;
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte keyId = ZombieLaboratory.survivorPlayer07FoundBox;
                        MessageWriter deliverKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieDeliverKeyItem, Hazel.SendOption.Reliable, -1);
                        deliverKey.Write(targetId);
                        deliverKey.Write(keyId);
                        AmongUsClient.Instance.FinishRpcImmediately(deliverKey);
                        RPCProcedure.zombieDeliverKeyItem(targetId, keyId);
                        survivor07FindDeliverButton.Timer = survivor07FindDeliverButton.MaxTimer;
                    }
                    else {
                        survivor07FindDeliverButton.HasEffect = true;
                        ZombieLaboratory.survivorPlayer07SelectedBox = ZombieLaboratory.survivorPlayer07CurrentBox;
                    }
                },
                () => { return ZombieLaboratory.survivorPlayer07 != null && ZombieLaboratory.survivorPlayer07 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (survivor07FindDeliverButton.isEffectActive && ZombieLaboratory.survivorPlayer07SelectedBox != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.survivorPlayer07SelectedBox.transform.position) > 0.5f) {
                        ZombieLaboratory.survivorPlayer07SelectedBox = null;
                        survivor07FindDeliverButton.Timer = 0f;
                        survivor07FindDeliverButton.isEffectActive = false;
                    }

                    if (ZombieLaboratory.survivorPlayer07HasKeyItem)
                        survivor07FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorDeliverBoxButtonSprite();
                    else
                        survivor07FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorTakeBoxButtonSprite();
                    bool CanUse = false;
                    if (ZombieLaboratory.groundItems.Count != 0) {
                        foreach (GameObject groundItem in ZombieLaboratory.groundItems) {
                            if (groundItem != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, groundItem.transform.position) < 0.5f && !ZombieLaboratory.survivorPlayer07HasKeyItem) {
                                ZombieLaboratory.survivorPlayer07CurrentBox = groundItem;
                                switch (groundItem.name) {
                                    case "keyItem01":
                                        ZombieLaboratory.survivorPlayer07FoundBox = 1;
                                        CanUse = !ZombieLaboratory.keyItem01BeingHeld;
                                        break;
                                    case "keyItem02":
                                        ZombieLaboratory.survivorPlayer07FoundBox = 2;
                                        CanUse = !ZombieLaboratory.keyItem02BeingHeld;
                                        break;
                                    case "keyItem03":
                                        ZombieLaboratory.survivorPlayer07FoundBox = 3;
                                        CanUse = !ZombieLaboratory.keyItem03BeingHeld;
                                        break;
                                    case "keyItem04":
                                        ZombieLaboratory.survivorPlayer07FoundBox = 4;
                                        CanUse = !ZombieLaboratory.keyItem04BeingHeld;
                                        break;
                                    case "keyItem05":
                                        ZombieLaboratory.survivorPlayer07FoundBox = 5;
                                        CanUse = !ZombieLaboratory.keyItem05BeingHeld;
                                        break;
                                    case "keyItem06":
                                        ZombieLaboratory.survivorPlayer07FoundBox = 6;
                                        CanUse = !ZombieLaboratory.keyItem06BeingHeld;
                                        break;
                                    case "ammoBox":
                                        ZombieLaboratory.survivorPlayer07FoundBox = 7;
                                        CanUse = (!ZombieLaboratory.survivorPlayer07HasKeyItem || !ZombieLaboratory.survivorPlayer07CanKill);
                                        break;
                                    case "nothingBox":
                                        ZombieLaboratory.survivorPlayer07FoundBox = 8;
                                        CanUse = !ZombieLaboratory.survivorPlayer07HasKeyItem;
                                        break;
                                    case "nothingBoxOpened":
                                        CanUse = false;
                                        break;
                                }
                            }
                            else if ((ZombieLaboratory.laboratorytwoPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratorytwoPutKeyItemButton.transform.position) < 0.5f || ZombieLaboratory.laboratoryPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratoryPutKeyItemButton.transform.position) < 0.5f) && ZombieLaboratory.survivorPlayer07HasKeyItem) {
                                CanUse = true;
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer07IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { survivor07FindDeliverButton.Timer = survivor07FindDeliverButton.MaxTimer; },
                ZombieLaboratory.getSurvivorTakeBoxButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.searchBoxTimer,
                () => {
                    if (!ZombieLaboratory.survivorPlayer07.Data.IsDead) {
                        if (ZombieLaboratory.survivorPlayer07FoundBox >= 1 && ZombieLaboratory.survivorPlayer07FoundBox <= 6) {
                            byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                            byte keyId = ZombieLaboratory.survivorPlayer07FoundBox;
                            MessageWriter survivorWhoFoundKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieTakeKeyItem, Hazel.SendOption.Reliable, -1);
                            survivorWhoFoundKey.Write(targetId);
                            survivorWhoFoundKey.Write(keyId);
                            AmongUsClient.Instance.FinishRpcImmediately(survivorWhoFoundKey);
                            RPCProcedure.zombieTakeKeyItem(targetId, keyId);
                        }
                        else if (ZombieLaboratory.survivorPlayer07FoundBox == 7) {

                            ZombieLaboratory.survivorPlayer07CanKill = true;

                            SoundManager.Instance.PlaySound(CustomMain.customAssets.rechargeAmmoClip, false, 100f);

                            ZombieLaboratory.survivorPlayer07SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.ammoBox.GetComponent<SpriteRenderer>().sprite;
                        }
                        else {
                            ZombieLaboratory.survivorPlayer07SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.emptyBox.GetComponent<SpriteRenderer>().sprite;
                            ZombieLaboratory.survivorPlayer07SelectedBox.name = "nothingBoxOpened";
                            // nothing box
                        }
                    }
                    survivor07FindDeliverButton.Timer = survivor07FindDeliverButton.MaxTimer;
                }
            );

            // Survivor07 EnterExit Button
            survivor07EnterExitButton = new CustomButton(
                () => {
                    byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                    bool entering = true;
                    MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                    enterInfirmary.Write(targetId);
                    enterInfirmary.Write(entering);
                    AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                    RPCProcedure.enterLeaveInfirmary(targetId, entering, 0);
                    survivor07EnterExitButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.survivorPlayer07 != null && ZombieLaboratory.survivorPlayer07 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.localSurvivorsDeliverArrow.Count != 0) {
                        ZombieLaboratory.localSurvivorsDeliverArrow[0].Update(ZombieLaboratory.laboratoryEnterButton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            ZombieLaboratory.localSurvivorsDeliverArrow[1].Update(ZombieLaboratory.laboratorytwoEnterButton.transform.position);
                        }
                    }
                    
                    if (survivor07EnterExitButton.isEffectActive) {
                        if (ZombieLaboratory.survivorPlayer07.Data.IsDead) {
                            survivor07EnterExitButton.HasEffect = false;
                            survivor07EnterExitButton.Timer = survivor07EnterExitButton.MaxTimer;
                            survivor07EnterExitButton.isEffectActive = false;
                        }
                        survivor07EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorExitLaboratoryButtonSprite();
                    }
                    else {
                        survivor07EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite();
                    }
                    bool CanUse = false;
                    if (ZombieLaboratory.laboratory != null) {
                        if ((ZombieLaboratory.laboratorytwoEnterButton != null && Vector2.Distance(ZombieLaboratory.survivorPlayer07.transform.position, ZombieLaboratory.laboratorytwoEnterButton.transform.position) < 0.35f || Vector2.Distance(ZombieLaboratory.survivorPlayer07.transform.position, ZombieLaboratory.laboratoryEnterButton.transform.position) < 0.35f) && !ZombieLaboratory.survivorPlayer07.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer07IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    survivor07EnterExitButton.Timer = survivor07EnterExitButton.MaxTimer;
                },
                ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T,
                false,
                5f,
                () => {
                    if (!ZombieLaboratory.survivorPlayer07.Data.IsDead) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        bool entering = false;
                        MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                        enterInfirmary.Write(targetId);
                        enterInfirmary.Write(entering);
                        AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                        RPCProcedure.enterLeaveInfirmary(targetId, entering, 1);
                    }
                    survivor07EnterExitButton.Timer = survivor07EnterExitButton.MaxTimer;
                }
            );

            // Survivor08 kill
            survivor08KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.survivorPlayer08currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.survivorPlayer08.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    survivor08KillButton.Timer = survivor08KillButton.MaxTimer;
                    ZombieLaboratory.survivorPlayer08currentTarget = null;
                    ZombieLaboratory.survivorPlayer08CanKill = false;
                },
                () => { return ZombieLaboratory.survivorPlayer08 != null && ZombieLaboratory.survivorPlayer08 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.survivorPlayer08CanKill) {
                        survivor08KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorFullShootButtonSprite();
                    }
                    else {
                        survivor08KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEmptyShootButtonSprite();
                    }
                    return ZombieLaboratory.survivorPlayer08currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.survivorPlayer08IsReviving && ZombieLaboratory.survivorPlayer08CanKill && !ZombieLaboratory.survivorPlayer08HasKeyItem;
                },
                () => { survivor08KillButton.Timer = survivor08KillButton.MaxTimer; },
                ZombieLaboratory.getSurvivorEmptyShootButtonSprite(),
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Survivor08 FindDeliver Button
            survivor08FindDeliverButton = new CustomButton(
                () => {
                    if (ZombieLaboratory.survivorPlayer08HasKeyItem) {
                        survivor08FindDeliverButton.HasEffect = false;
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte keyId = ZombieLaboratory.survivorPlayer08FoundBox;
                        MessageWriter deliverKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieDeliverKeyItem, Hazel.SendOption.Reliable, -1);
                        deliverKey.Write(targetId);
                        deliverKey.Write(keyId);
                        AmongUsClient.Instance.FinishRpcImmediately(deliverKey);
                        RPCProcedure.zombieDeliverKeyItem(targetId, keyId);
                        survivor08FindDeliverButton.Timer = survivor08FindDeliverButton.MaxTimer;
                    }
                    else {
                        survivor08FindDeliverButton.HasEffect = true;
                        ZombieLaboratory.survivorPlayer08SelectedBox = ZombieLaboratory.survivorPlayer08CurrentBox;
                    }
                },
                () => { return ZombieLaboratory.survivorPlayer08 != null && ZombieLaboratory.survivorPlayer08 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (survivor08FindDeliverButton.isEffectActive && ZombieLaboratory.survivorPlayer08SelectedBox != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.survivorPlayer08SelectedBox.transform.position) > 0.5f) {
                        ZombieLaboratory.survivorPlayer08SelectedBox = null;
                        survivor08FindDeliverButton.Timer = 0f;
                        survivor08FindDeliverButton.isEffectActive = false;
                    }

                    if (ZombieLaboratory.survivorPlayer08HasKeyItem)
                        survivor08FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorDeliverBoxButtonSprite();
                    else
                        survivor08FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorTakeBoxButtonSprite();
                    bool CanUse = false;
                    if (ZombieLaboratory.groundItems.Count != 0) {
                        foreach (GameObject groundItem in ZombieLaboratory.groundItems) {
                            if (groundItem != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, groundItem.transform.position) < 0.5f && !ZombieLaboratory.survivorPlayer08HasKeyItem) {
                                ZombieLaboratory.survivorPlayer08CurrentBox = groundItem;
                                switch (groundItem.name) {
                                    case "keyItem01":
                                        ZombieLaboratory.survivorPlayer08FoundBox = 1;
                                        CanUse = !ZombieLaboratory.keyItem01BeingHeld;
                                        break;
                                    case "keyItem02":
                                        ZombieLaboratory.survivorPlayer08FoundBox = 2;
                                        CanUse = !ZombieLaboratory.keyItem02BeingHeld;
                                        break;
                                    case "keyItem03":
                                        ZombieLaboratory.survivorPlayer08FoundBox = 3;
                                        CanUse = !ZombieLaboratory.keyItem03BeingHeld;
                                        break;
                                    case "keyItem04":
                                        ZombieLaboratory.survivorPlayer08FoundBox = 4;
                                        CanUse = !ZombieLaboratory.keyItem04BeingHeld;
                                        break;
                                    case "keyItem05":
                                        ZombieLaboratory.survivorPlayer08FoundBox = 5;
                                        CanUse = !ZombieLaboratory.keyItem05BeingHeld;
                                        break;
                                    case "keyItem06":
                                        ZombieLaboratory.survivorPlayer08FoundBox = 6;
                                        CanUse = !ZombieLaboratory.keyItem06BeingHeld;
                                        break;
                                    case "ammoBox":
                                        ZombieLaboratory.survivorPlayer08FoundBox = 7;
                                        CanUse = (!ZombieLaboratory.survivorPlayer08HasKeyItem || !ZombieLaboratory.survivorPlayer08CanKill);
                                        break;
                                    case "nothingBox":
                                        ZombieLaboratory.survivorPlayer08FoundBox = 8;
                                        CanUse = !ZombieLaboratory.survivorPlayer08HasKeyItem;
                                        break;
                                    case "nothingBoxOpened":
                                        CanUse = false;
                                        break;
                                }
                            }
                            else if ((ZombieLaboratory.laboratorytwoPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratorytwoPutKeyItemButton.transform.position) < 0.5f || ZombieLaboratory.laboratoryPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratoryPutKeyItemButton.transform.position) < 0.5f) && ZombieLaboratory.survivorPlayer08HasKeyItem) {
                                CanUse = true;
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer08IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { survivor08FindDeliverButton.Timer = survivor08FindDeliverButton.MaxTimer; },
                ZombieLaboratory.getSurvivorTakeBoxButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.searchBoxTimer,
                () => {
                    if (!ZombieLaboratory.survivorPlayer08.Data.IsDead) {
                        if (ZombieLaboratory.survivorPlayer08FoundBox >= 1 && ZombieLaboratory.survivorPlayer08FoundBox <= 6) {
                            byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                            byte keyId = ZombieLaboratory.survivorPlayer08FoundBox;
                            MessageWriter survivorWhoFoundKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieTakeKeyItem, Hazel.SendOption.Reliable, -1);
                            survivorWhoFoundKey.Write(targetId);
                            survivorWhoFoundKey.Write(keyId);
                            AmongUsClient.Instance.FinishRpcImmediately(survivorWhoFoundKey);
                            RPCProcedure.zombieTakeKeyItem(targetId, keyId);
                        }
                        else if (ZombieLaboratory.survivorPlayer08FoundBox == 7) {

                            ZombieLaboratory.survivorPlayer08CanKill = true;

                            SoundManager.Instance.PlaySound(CustomMain.customAssets.rechargeAmmoClip, false, 100f);

                            ZombieLaboratory.survivorPlayer08SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.ammoBox.GetComponent<SpriteRenderer>().sprite;
                        }
                        else {
                            ZombieLaboratory.survivorPlayer08SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.emptyBox.GetComponent<SpriteRenderer>().sprite;
                            ZombieLaboratory.survivorPlayer08SelectedBox.name = "nothingBoxOpened";
                            // nothing box
                        }
                    }
                    survivor08FindDeliverButton.Timer = survivor08FindDeliverButton.MaxTimer;
                }
            );

            // Survivor08 EnterExit Button
            survivor08EnterExitButton = new CustomButton(
                () => {
                    byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                    bool entering = true;
                    MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                    enterInfirmary.Write(targetId);
                    enterInfirmary.Write(entering);
                    AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                    RPCProcedure.enterLeaveInfirmary(targetId, entering, 0);
                    survivor08EnterExitButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.survivorPlayer08 != null && ZombieLaboratory.survivorPlayer08 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.localSurvivorsDeliverArrow.Count != 0) {
                        ZombieLaboratory.localSurvivorsDeliverArrow[0].Update(ZombieLaboratory.laboratoryEnterButton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            ZombieLaboratory.localSurvivorsDeliverArrow[1].Update(ZombieLaboratory.laboratorytwoEnterButton.transform.position);
                        }
                    }

                    if (survivor08EnterExitButton.isEffectActive) {
                        if (ZombieLaboratory.survivorPlayer08.Data.IsDead) {
                            survivor08EnterExitButton.HasEffect = false;
                            survivor08EnterExitButton.Timer = survivor08EnterExitButton.MaxTimer;
                            survivor08EnterExitButton.isEffectActive = false;
                        }
                        survivor08EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorExitLaboratoryButtonSprite();
                    }
                    else {
                        survivor08EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite();
                    }
                    bool CanUse = false;
                    if (ZombieLaboratory.laboratory != null) {
                        if ((ZombieLaboratory.laboratorytwoEnterButton != null && Vector2.Distance(ZombieLaboratory.survivorPlayer08.transform.position, ZombieLaboratory.laboratorytwoEnterButton.transform.position) < 0.35f || Vector2.Distance(ZombieLaboratory.survivorPlayer08.transform.position, ZombieLaboratory.laboratoryEnterButton.transform.position) < 0.35f) && !ZombieLaboratory.survivorPlayer08.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer08IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    survivor08EnterExitButton.Timer = survivor08EnterExitButton.MaxTimer;
                },
                ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T,
                false,
                5f,
                () => {
                    if (!ZombieLaboratory.survivorPlayer08.Data.IsDead) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        bool entering = false;
                        MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                        enterInfirmary.Write(targetId);
                        enterInfirmary.Write(entering);
                        AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                        RPCProcedure.enterLeaveInfirmary(targetId, entering, 1);
                    }
                    survivor08EnterExitButton.Timer = survivor08EnterExitButton.MaxTimer;
                }
            );

            // Survivor09 kill
            survivor09KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.survivorPlayer09currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.survivorPlayer09.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    survivor09KillButton.Timer = survivor09KillButton.MaxTimer;
                    ZombieLaboratory.survivorPlayer09currentTarget = null;
                    ZombieLaboratory.survivorPlayer09CanKill = false;
                },
                () => { return ZombieLaboratory.survivorPlayer09 != null && ZombieLaboratory.survivorPlayer09 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.survivorPlayer09CanKill) {
                        survivor09KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorFullShootButtonSprite();
                    }
                    else {
                        survivor09KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEmptyShootButtonSprite();
                    }
                    return ZombieLaboratory.survivorPlayer09currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.survivorPlayer09IsReviving && ZombieLaboratory.survivorPlayer09CanKill && !ZombieLaboratory.survivorPlayer09HasKeyItem;
                },
                () => { survivor09KillButton.Timer = survivor09KillButton.MaxTimer; },
                ZombieLaboratory.getSurvivorEmptyShootButtonSprite(),
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Survivor09 FindDeliver Button
            survivor09FindDeliverButton = new CustomButton(
                () => {
                    if (ZombieLaboratory.survivorPlayer09HasKeyItem) {
                        survivor09FindDeliverButton.HasEffect = false;
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte keyId = ZombieLaboratory.survivorPlayer09FoundBox;
                        MessageWriter deliverKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieDeliverKeyItem, Hazel.SendOption.Reliable, -1);
                        deliverKey.Write(targetId);
                        deliverKey.Write(keyId);
                        AmongUsClient.Instance.FinishRpcImmediately(deliverKey);
                        RPCProcedure.zombieDeliverKeyItem(targetId, keyId);
                        survivor09FindDeliverButton.Timer = survivor09FindDeliverButton.MaxTimer;
                    }
                    else {
                        survivor09FindDeliverButton.HasEffect = true;
                        ZombieLaboratory.survivorPlayer09SelectedBox = ZombieLaboratory.survivorPlayer09CurrentBox;
                    }
                },
                () => { return ZombieLaboratory.survivorPlayer09 != null && ZombieLaboratory.survivorPlayer09 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (survivor09FindDeliverButton.isEffectActive && ZombieLaboratory.survivorPlayer09SelectedBox != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.survivorPlayer09SelectedBox.transform.position) > 0.5f) {
                        ZombieLaboratory.survivorPlayer09SelectedBox = null;
                        survivor09FindDeliverButton.Timer = 0f;
                        survivor09FindDeliverButton.isEffectActive = false;
                    }

                    if (ZombieLaboratory.survivorPlayer09HasKeyItem)
                        survivor09FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorDeliverBoxButtonSprite();
                    else
                        survivor09FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorTakeBoxButtonSprite();
                    bool CanUse = false;
                    if (ZombieLaboratory.groundItems.Count != 0) {
                        foreach (GameObject groundItem in ZombieLaboratory.groundItems) {
                            if (groundItem != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, groundItem.transform.position) < 0.5f && !ZombieLaboratory.survivorPlayer09HasKeyItem) {
                                ZombieLaboratory.survivorPlayer09CurrentBox = groundItem;
                                switch (groundItem.name) {
                                    case "keyItem01":
                                        ZombieLaboratory.survivorPlayer09FoundBox = 1;
                                        CanUse = !ZombieLaboratory.keyItem01BeingHeld;
                                        break;
                                    case "keyItem02":
                                        ZombieLaboratory.survivorPlayer09FoundBox = 2;
                                        CanUse = !ZombieLaboratory.keyItem02BeingHeld;
                                        break;
                                    case "keyItem03":
                                        ZombieLaboratory.survivorPlayer09FoundBox = 3;
                                        CanUse = !ZombieLaboratory.keyItem03BeingHeld;
                                        break;
                                    case "keyItem04":
                                        ZombieLaboratory.survivorPlayer09FoundBox = 4;
                                        CanUse = !ZombieLaboratory.keyItem04BeingHeld;
                                        break;
                                    case "keyItem05":
                                        ZombieLaboratory.survivorPlayer09FoundBox = 5;
                                        CanUse = !ZombieLaboratory.keyItem05BeingHeld;
                                        break;
                                    case "keyItem06":
                                        ZombieLaboratory.survivorPlayer09FoundBox = 6;
                                        CanUse = !ZombieLaboratory.keyItem06BeingHeld;
                                        break;
                                    case "ammoBox":
                                        ZombieLaboratory.survivorPlayer09FoundBox = 7;
                                        CanUse = (!ZombieLaboratory.survivorPlayer09HasKeyItem || !ZombieLaboratory.survivorPlayer09CanKill);
                                        break;
                                    case "nothingBox":
                                        ZombieLaboratory.survivorPlayer09FoundBox = 8;
                                        CanUse = !ZombieLaboratory.survivorPlayer09HasKeyItem;
                                        break;
                                    case "nothingBoxOpened":
                                        CanUse = false;
                                        break;
                                }
                            }
                            else if ((ZombieLaboratory.laboratorytwoPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratorytwoPutKeyItemButton.transform.position) < 0.5f || ZombieLaboratory.laboratoryPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratoryPutKeyItemButton.transform.position) < 0.5f) && ZombieLaboratory.survivorPlayer09HasKeyItem) {
                                CanUse = true;
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer09IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { survivor09FindDeliverButton.Timer = survivor09FindDeliverButton.MaxTimer; },
                ZombieLaboratory.getSurvivorTakeBoxButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.searchBoxTimer,
                () => {
                    if (!ZombieLaboratory.survivorPlayer09.Data.IsDead) {
                        if (ZombieLaboratory.survivorPlayer09FoundBox >= 1 && ZombieLaboratory.survivorPlayer09FoundBox <= 6) {
                            byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                            byte keyId = ZombieLaboratory.survivorPlayer09FoundBox;
                            MessageWriter survivorWhoFoundKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieTakeKeyItem, Hazel.SendOption.Reliable, -1);
                            survivorWhoFoundKey.Write(targetId);
                            survivorWhoFoundKey.Write(keyId);
                            AmongUsClient.Instance.FinishRpcImmediately(survivorWhoFoundKey);
                            RPCProcedure.zombieTakeKeyItem(targetId, keyId);
                        }
                        else if (ZombieLaboratory.survivorPlayer09FoundBox == 7) {

                            ZombieLaboratory.survivorPlayer09CanKill = true;

                            SoundManager.Instance.PlaySound(CustomMain.customAssets.rechargeAmmoClip, false, 100f);

                            ZombieLaboratory.survivorPlayer09SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.ammoBox.GetComponent<SpriteRenderer>().sprite;
                        }
                        else {
                            ZombieLaboratory.survivorPlayer09SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.emptyBox.GetComponent<SpriteRenderer>().sprite;
                            ZombieLaboratory.survivorPlayer09SelectedBox.name = "nothingBoxOpened";
                            // nothing box
                        }
                    }
                    survivor09FindDeliverButton.Timer = survivor09FindDeliverButton.MaxTimer;
                }
            );

            // Survivor09 EnterExit Button
            survivor09EnterExitButton = new CustomButton(
                () => {
                    byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                    bool entering = true;
                    MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                    enterInfirmary.Write(targetId);
                    enterInfirmary.Write(entering);
                    AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                    RPCProcedure.enterLeaveInfirmary(targetId, entering, 0);
                    survivor09EnterExitButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.survivorPlayer09 != null && ZombieLaboratory.survivorPlayer09 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.localSurvivorsDeliverArrow.Count != 0) {
                        ZombieLaboratory.localSurvivorsDeliverArrow[0].Update(ZombieLaboratory.laboratoryEnterButton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            ZombieLaboratory.localSurvivorsDeliverArrow[1].Update(ZombieLaboratory.laboratorytwoEnterButton.transform.position);
                        }
                    }
                    
                    if (survivor09EnterExitButton.isEffectActive) {
                        if (ZombieLaboratory.survivorPlayer09.Data.IsDead) {
                            survivor09EnterExitButton.HasEffect = false;
                            survivor09EnterExitButton.Timer = survivor09EnterExitButton.MaxTimer;
                            survivor09EnterExitButton.isEffectActive = false;
                        }
                        survivor09EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorExitLaboratoryButtonSprite();
                    }
                    else {
                        survivor09EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite();
                    }
                    bool CanUse = false;
                    if (ZombieLaboratory.laboratory != null) {
                        if ((ZombieLaboratory.laboratorytwoEnterButton != null && Vector2.Distance(ZombieLaboratory.survivorPlayer09.transform.position, ZombieLaboratory.laboratorytwoEnterButton.transform.position) < 0.35f || Vector2.Distance(ZombieLaboratory.survivorPlayer09.transform.position, ZombieLaboratory.laboratoryEnterButton.transform.position) < 0.35f) && !ZombieLaboratory.survivorPlayer09.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer09IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    survivor09EnterExitButton.Timer = survivor09EnterExitButton.MaxTimer;
                },
                ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T,
                false,
                5f,
                () => {
                    if (!ZombieLaboratory.survivorPlayer09.Data.IsDead) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        bool entering = false;
                        MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                        enterInfirmary.Write(targetId);
                        enterInfirmary.Write(entering);
                        AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                        RPCProcedure.enterLeaveInfirmary(targetId, entering, 1);
                    }
                    survivor09EnterExitButton.Timer = survivor09EnterExitButton.MaxTimer;
                }
            );

            // Survivor10 kill
            survivor10KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.survivorPlayer10currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.survivorPlayer10.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    survivor10KillButton.Timer = survivor10KillButton.MaxTimer;
                    ZombieLaboratory.survivorPlayer10currentTarget = null;
                    ZombieLaboratory.survivorPlayer10CanKill = false;
                },
                () => { return ZombieLaboratory.survivorPlayer10 != null && ZombieLaboratory.survivorPlayer10 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.survivorPlayer10CanKill) {
                        survivor10KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorFullShootButtonSprite();
                    }
                    else {
                        survivor10KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEmptyShootButtonSprite();
                    }
                    return ZombieLaboratory.survivorPlayer10currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.survivorPlayer10IsReviving && ZombieLaboratory.survivorPlayer10CanKill && !ZombieLaboratory.survivorPlayer10HasKeyItem;
                },
                () => { survivor10KillButton.Timer = survivor10KillButton.MaxTimer; },
                ZombieLaboratory.getSurvivorEmptyShootButtonSprite(),
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Survivor10 FindDeliver Button
            survivor10FindDeliverButton = new CustomButton(
                () => {
                    if (ZombieLaboratory.survivorPlayer10HasKeyItem) {
                        survivor10FindDeliverButton.HasEffect = false;
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte keyId = ZombieLaboratory.survivorPlayer10FoundBox;
                        MessageWriter deliverKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieDeliverKeyItem, Hazel.SendOption.Reliable, -1);
                        deliverKey.Write(targetId);
                        deliverKey.Write(keyId);
                        AmongUsClient.Instance.FinishRpcImmediately(deliverKey);
                        RPCProcedure.zombieDeliverKeyItem(targetId, keyId);
                        survivor10FindDeliverButton.Timer = survivor10FindDeliverButton.MaxTimer;
                    }
                    else {
                        survivor10FindDeliverButton.HasEffect = true;
                        ZombieLaboratory.survivorPlayer10SelectedBox = ZombieLaboratory.survivorPlayer10CurrentBox;
                    }
                },
                () => { return ZombieLaboratory.survivorPlayer10 != null && ZombieLaboratory.survivorPlayer10 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (survivor10FindDeliverButton.isEffectActive && ZombieLaboratory.survivorPlayer10SelectedBox != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.survivorPlayer10SelectedBox.transform.position) > 0.5f) {
                        ZombieLaboratory.survivorPlayer10SelectedBox = null;
                        survivor10FindDeliverButton.Timer = 0f;
                        survivor10FindDeliverButton.isEffectActive = false;
                    }

                    if (ZombieLaboratory.survivorPlayer10HasKeyItem)
                        survivor10FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorDeliverBoxButtonSprite();
                    else
                        survivor10FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorTakeBoxButtonSprite();
                    bool CanUse = false;
                    if (ZombieLaboratory.groundItems.Count != 0) {
                        foreach (GameObject groundItem in ZombieLaboratory.groundItems) {
                            if (groundItem != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, groundItem.transform.position) < 0.5f && !ZombieLaboratory.survivorPlayer10HasKeyItem) {
                                ZombieLaboratory.survivorPlayer10CurrentBox = groundItem;
                                switch (groundItem.name) {
                                    case "keyItem01":
                                        ZombieLaboratory.survivorPlayer10FoundBox = 1;
                                        CanUse = !ZombieLaboratory.keyItem01BeingHeld;
                                        break;
                                    case "keyItem02":
                                        ZombieLaboratory.survivorPlayer10FoundBox = 2;
                                        CanUse = !ZombieLaboratory.keyItem02BeingHeld;
                                        break;
                                    case "keyItem03":
                                        ZombieLaboratory.survivorPlayer10FoundBox = 3;
                                        CanUse = !ZombieLaboratory.keyItem03BeingHeld;
                                        break;
                                    case "keyItem04":
                                        ZombieLaboratory.survivorPlayer10FoundBox = 4;
                                        CanUse = !ZombieLaboratory.keyItem04BeingHeld;
                                        break;
                                    case "keyItem05":
                                        ZombieLaboratory.survivorPlayer10FoundBox = 5;
                                        CanUse = !ZombieLaboratory.keyItem05BeingHeld;
                                        break;
                                    case "keyItem06":
                                        ZombieLaboratory.survivorPlayer10FoundBox = 6;
                                        CanUse = !ZombieLaboratory.keyItem06BeingHeld;
                                        break;
                                    case "ammoBox":
                                        ZombieLaboratory.survivorPlayer10FoundBox = 7;
                                        CanUse = (!ZombieLaboratory.survivorPlayer10HasKeyItem || !ZombieLaboratory.survivorPlayer10CanKill);
                                        break;
                                    case "nothingBox":
                                        ZombieLaboratory.survivorPlayer10FoundBox = 8;
                                        CanUse = !ZombieLaboratory.survivorPlayer10HasKeyItem;
                                        break;
                                    case "nothingBoxOpened":
                                        CanUse = false;
                                        break;
                                }
                            }
                            else if ((ZombieLaboratory.laboratorytwoPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratorytwoPutKeyItemButton.transform.position) < 0.5f || ZombieLaboratory.laboratoryPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratoryPutKeyItemButton.transform.position) < 0.5f) && ZombieLaboratory.survivorPlayer10HasKeyItem) {
                                CanUse = true;
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer10IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { survivor10FindDeliverButton.Timer = survivor10FindDeliverButton.MaxTimer; },
                ZombieLaboratory.getSurvivorTakeBoxButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.searchBoxTimer,
                () => {
                    if (!ZombieLaboratory.survivorPlayer10.Data.IsDead) {
                        if (ZombieLaboratory.survivorPlayer10FoundBox >= 1 && ZombieLaboratory.survivorPlayer10FoundBox <= 6) {
                            byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                            byte keyId = ZombieLaboratory.survivorPlayer10FoundBox;
                            MessageWriter survivorWhoFoundKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieTakeKeyItem, Hazel.SendOption.Reliable, -1);
                            survivorWhoFoundKey.Write(targetId);
                            survivorWhoFoundKey.Write(keyId);
                            AmongUsClient.Instance.FinishRpcImmediately(survivorWhoFoundKey);
                            RPCProcedure.zombieTakeKeyItem(targetId, keyId);
                        }
                        else if (ZombieLaboratory.survivorPlayer10FoundBox == 7) {

                            ZombieLaboratory.survivorPlayer10CanKill = true;

                            SoundManager.Instance.PlaySound(CustomMain.customAssets.rechargeAmmoClip, false, 100f);

                            ZombieLaboratory.survivorPlayer10SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.ammoBox.GetComponent<SpriteRenderer>().sprite;
                        }
                        else {
                            ZombieLaboratory.survivorPlayer10SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.emptyBox.GetComponent<SpriteRenderer>().sprite;
                            ZombieLaboratory.survivorPlayer10SelectedBox.name = "nothingBoxOpened";
                            // nothing box
                        }
                    }
                    survivor10FindDeliverButton.Timer = survivor10FindDeliverButton.MaxTimer;
                }
            );

            // Survivor10 EnterExit Button
            survivor10EnterExitButton = new CustomButton(
                () => {
                    byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                    bool entering = true;
                    MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                    enterInfirmary.Write(targetId);
                    enterInfirmary.Write(entering);
                    AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                    RPCProcedure.enterLeaveInfirmary(targetId, entering, 0);
                    survivor10EnterExitButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.survivorPlayer10 != null && ZombieLaboratory.survivorPlayer10 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.localSurvivorsDeliverArrow.Count != 0) {
                        ZombieLaboratory.localSurvivorsDeliverArrow[0].Update(ZombieLaboratory.laboratoryEnterButton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            ZombieLaboratory.localSurvivorsDeliverArrow[1].Update(ZombieLaboratory.laboratorytwoEnterButton.transform.position);
                        }
                    }
                    
                    if (survivor10EnterExitButton.isEffectActive) {
                        if (ZombieLaboratory.survivorPlayer10.Data.IsDead) {
                            survivor10EnterExitButton.HasEffect = false;
                            survivor10EnterExitButton.Timer = survivor10EnterExitButton.MaxTimer;
                            survivor10EnterExitButton.isEffectActive = false;
                        }
                        survivor10EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorExitLaboratoryButtonSprite();
                    }
                    else {
                        survivor10EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite();
                    }
                    bool CanUse = false;
                    if (ZombieLaboratory.laboratory != null) {
                        if ((ZombieLaboratory.laboratorytwoEnterButton != null && Vector2.Distance(ZombieLaboratory.survivorPlayer10.transform.position, ZombieLaboratory.laboratorytwoEnterButton.transform.position) < 0.35f || Vector2.Distance(ZombieLaboratory.survivorPlayer10.transform.position, ZombieLaboratory.laboratoryEnterButton.transform.position) < 0.35f) && !ZombieLaboratory.survivorPlayer10.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer10IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    survivor10EnterExitButton.Timer = survivor10EnterExitButton.MaxTimer;
                },
                ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T,
                false,
                5f,
                () => {
                    if (!ZombieLaboratory.survivorPlayer10.Data.IsDead) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        bool entering = false;
                        MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                        enterInfirmary.Write(targetId);
                        enterInfirmary.Write(entering);
                        AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                        RPCProcedure.enterLeaveInfirmary(targetId, entering, 1);
                    }
                    survivor10EnterExitButton.Timer = survivor10EnterExitButton.MaxTimer;
                }
            );

            // Survivor11 kill
            survivor11KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.survivorPlayer11currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.survivorPlayer11.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    survivor11KillButton.Timer = survivor11KillButton.MaxTimer;
                    ZombieLaboratory.survivorPlayer11currentTarget = null;
                    ZombieLaboratory.survivorPlayer11CanKill = false;
                },
                () => { return ZombieLaboratory.survivorPlayer11 != null && ZombieLaboratory.survivorPlayer11 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.survivorPlayer11CanKill) {
                        survivor11KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorFullShootButtonSprite();
                    }
                    else {
                        survivor11KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEmptyShootButtonSprite();
                    }
                    return ZombieLaboratory.survivorPlayer11currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.survivorPlayer11IsReviving && ZombieLaboratory.survivorPlayer11CanKill && !ZombieLaboratory.survivorPlayer11HasKeyItem;
                },
                () => { survivor11KillButton.Timer = survivor11KillButton.MaxTimer; },
                ZombieLaboratory.getSurvivorEmptyShootButtonSprite(),
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Survivor11 FindDeliver Button
            survivor11FindDeliverButton = new CustomButton(
                () => {
                    if (ZombieLaboratory.survivorPlayer11HasKeyItem) {
                        survivor11FindDeliverButton.HasEffect = false;
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte keyId = ZombieLaboratory.survivorPlayer11FoundBox;
                        MessageWriter deliverKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieDeliverKeyItem, Hazel.SendOption.Reliable, -1);
                        deliverKey.Write(targetId);
                        deliverKey.Write(keyId);
                        AmongUsClient.Instance.FinishRpcImmediately(deliverKey);
                        RPCProcedure.zombieDeliverKeyItem(targetId, keyId);
                        survivor11FindDeliverButton.Timer = survivor11FindDeliverButton.MaxTimer;
                    }
                    else {
                        survivor11FindDeliverButton.HasEffect = true;
                        ZombieLaboratory.survivorPlayer11SelectedBox = ZombieLaboratory.survivorPlayer11CurrentBox;
                    }
                },
                () => { return ZombieLaboratory.survivorPlayer11 != null && ZombieLaboratory.survivorPlayer11 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (survivor11FindDeliverButton.isEffectActive && ZombieLaboratory.survivorPlayer11SelectedBox != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.survivorPlayer11SelectedBox.transform.position) > 0.5f) {
                        ZombieLaboratory.survivorPlayer11SelectedBox = null;
                        survivor11FindDeliverButton.Timer = 0f;
                        survivor11FindDeliverButton.isEffectActive = false;
                    }

                    if (ZombieLaboratory.survivorPlayer11HasKeyItem)
                        survivor11FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorDeliverBoxButtonSprite();
                    else
                        survivor11FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorTakeBoxButtonSprite();
                    bool CanUse = false;
                    if (ZombieLaboratory.groundItems.Count != 0) {
                        foreach (GameObject groundItem in ZombieLaboratory.groundItems) {
                            if (groundItem != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, groundItem.transform.position) < 0.5f && !ZombieLaboratory.survivorPlayer11HasKeyItem) {
                                ZombieLaboratory.survivorPlayer11CurrentBox = groundItem;
                                switch (groundItem.name) {
                                    case "keyItem01":
                                        ZombieLaboratory.survivorPlayer11FoundBox = 1;
                                        CanUse = !ZombieLaboratory.keyItem01BeingHeld;
                                        break;
                                    case "keyItem02":
                                        ZombieLaboratory.survivorPlayer11FoundBox = 2;
                                        CanUse = !ZombieLaboratory.keyItem02BeingHeld;
                                        break;
                                    case "keyItem03":
                                        ZombieLaboratory.survivorPlayer11FoundBox = 3;
                                        CanUse = !ZombieLaboratory.keyItem03BeingHeld;
                                        break;
                                    case "keyItem04":
                                        ZombieLaboratory.survivorPlayer11FoundBox = 4;
                                        CanUse = !ZombieLaboratory.keyItem04BeingHeld;
                                        break;
                                    case "keyItem05":
                                        ZombieLaboratory.survivorPlayer11FoundBox = 5;
                                        CanUse = !ZombieLaboratory.keyItem05BeingHeld;
                                        break;
                                    case "keyItem06":
                                        ZombieLaboratory.survivorPlayer11FoundBox = 6;
                                        CanUse = !ZombieLaboratory.keyItem06BeingHeld;
                                        break;
                                    case "ammoBox":
                                        ZombieLaboratory.survivorPlayer11FoundBox = 7;
                                        CanUse = (!ZombieLaboratory.survivorPlayer11HasKeyItem || !ZombieLaboratory.survivorPlayer11CanKill);
                                        break;
                                    case "nothingBox":
                                        ZombieLaboratory.survivorPlayer11FoundBox = 8;
                                        CanUse = !ZombieLaboratory.survivorPlayer11HasKeyItem;
                                        break;
                                    case "nothingBoxOpened":
                                        CanUse = false;
                                        break;
                                }
                            }
                            else if ((ZombieLaboratory.laboratorytwoPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratorytwoPutKeyItemButton.transform.position) < 0.5f || ZombieLaboratory.laboratoryPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratoryPutKeyItemButton.transform.position) < 0.5f) && ZombieLaboratory.survivorPlayer11HasKeyItem) {
                                CanUse = true;
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer11IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { survivor11FindDeliverButton.Timer = survivor11FindDeliverButton.MaxTimer; },
                ZombieLaboratory.getSurvivorTakeBoxButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.searchBoxTimer,
                () => {
                    if (!ZombieLaboratory.survivorPlayer11.Data.IsDead) {
                        if (ZombieLaboratory.survivorPlayer11FoundBox >= 1 && ZombieLaboratory.survivorPlayer11FoundBox <= 6) {
                            byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                            byte keyId = ZombieLaboratory.survivorPlayer11FoundBox;
                            MessageWriter survivorWhoFoundKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieTakeKeyItem, Hazel.SendOption.Reliable, -1);
                            survivorWhoFoundKey.Write(targetId);
                            survivorWhoFoundKey.Write(keyId);
                            AmongUsClient.Instance.FinishRpcImmediately(survivorWhoFoundKey);
                            RPCProcedure.zombieTakeKeyItem(targetId, keyId);
                        }
                        else if (ZombieLaboratory.survivorPlayer11FoundBox == 7) {

                            ZombieLaboratory.survivorPlayer11CanKill = true;

                            SoundManager.Instance.PlaySound(CustomMain.customAssets.rechargeAmmoClip, false, 100f);

                            ZombieLaboratory.survivorPlayer11SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.ammoBox.GetComponent<SpriteRenderer>().sprite;
                        }
                        else {
                            ZombieLaboratory.survivorPlayer11SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.emptyBox.GetComponent<SpriteRenderer>().sprite;
                            ZombieLaboratory.survivorPlayer11SelectedBox.name = "nothingBoxOpened";
                            // nothing box
                        }
                    }
                    survivor11FindDeliverButton.Timer = survivor11FindDeliverButton.MaxTimer;
                }
            );

            // Survivor11 EnterExit Button
            survivor11EnterExitButton = new CustomButton(
                () => {
                    byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                    bool entering = true;
                    MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                    enterInfirmary.Write(targetId);
                    enterInfirmary.Write(entering);
                    AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                    RPCProcedure.enterLeaveInfirmary(targetId, entering, 0);
                    survivor11EnterExitButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.survivorPlayer11 != null && ZombieLaboratory.survivorPlayer11 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.localSurvivorsDeliverArrow.Count != 0) {
                        ZombieLaboratory.localSurvivorsDeliverArrow[0].Update(ZombieLaboratory.laboratoryEnterButton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            ZombieLaboratory.localSurvivorsDeliverArrow[1].Update(ZombieLaboratory.laboratorytwoEnterButton.transform.position);
                        }
                    }
                    
                    if (survivor11EnterExitButton.isEffectActive) {
                        if (ZombieLaboratory.survivorPlayer11.Data.IsDead) {
                            survivor11EnterExitButton.HasEffect = false;
                            survivor11EnterExitButton.Timer = survivor11EnterExitButton.MaxTimer;
                            survivor11EnterExitButton.isEffectActive = false;
                        }
                        survivor11EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorExitLaboratoryButtonSprite();
                    }
                    else {
                        survivor11EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite();
                    }
                    bool CanUse = false;
                    if (ZombieLaboratory.laboratory != null) {
                        if ((ZombieLaboratory.laboratorytwoEnterButton != null && Vector2.Distance(ZombieLaboratory.survivorPlayer11.transform.position, ZombieLaboratory.laboratorytwoEnterButton.transform.position) < 0.35f || Vector2.Distance(ZombieLaboratory.survivorPlayer11.transform.position, ZombieLaboratory.laboratoryEnterButton.transform.position) < 0.35f) && !ZombieLaboratory.survivorPlayer11.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer11IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    survivor11EnterExitButton.Timer = survivor11EnterExitButton.MaxTimer;
                },
                ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T,
                false,
                5f,
                () => {
                    if (!ZombieLaboratory.survivorPlayer11.Data.IsDead) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        bool entering = false;
                        MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                        enterInfirmary.Write(targetId);
                        enterInfirmary.Write(entering);
                        AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                        RPCProcedure.enterLeaveInfirmary(targetId, entering, 1);
                    }
                    survivor11EnterExitButton.Timer = survivor11EnterExitButton.MaxTimer;
                }
            );

            // Survivor12 kill
            survivor12KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.survivorPlayer12currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.survivorPlayer12.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    survivor12KillButton.Timer = survivor12KillButton.MaxTimer;
                    ZombieLaboratory.survivorPlayer12currentTarget = null;
                    ZombieLaboratory.survivorPlayer12CanKill = false;
                },
                () => { return ZombieLaboratory.survivorPlayer12 != null && ZombieLaboratory.survivorPlayer12 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.survivorPlayer12CanKill) {
                        survivor12KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorFullShootButtonSprite();
                    }
                    else {
                        survivor12KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEmptyShootButtonSprite();
                    }
                    return ZombieLaboratory.survivorPlayer12currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.survivorPlayer12IsReviving && ZombieLaboratory.survivorPlayer12CanKill && !ZombieLaboratory.survivorPlayer12HasKeyItem;
                },
                () => { survivor12KillButton.Timer = survivor12KillButton.MaxTimer; },
                ZombieLaboratory.getSurvivorEmptyShootButtonSprite(),
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Survivor12 FindDeliver Button
            survivor12FindDeliverButton = new CustomButton(
                () => {
                    if (ZombieLaboratory.survivorPlayer12HasKeyItem) {
                        survivor12FindDeliverButton.HasEffect = false;
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte keyId = ZombieLaboratory.survivorPlayer12FoundBox;
                        MessageWriter deliverKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieDeliverKeyItem, Hazel.SendOption.Reliable, -1);
                        deliverKey.Write(targetId);
                        deliverKey.Write(keyId);
                        AmongUsClient.Instance.FinishRpcImmediately(deliverKey);
                        RPCProcedure.zombieDeliverKeyItem(targetId, keyId);
                        survivor12FindDeliverButton.Timer = survivor12FindDeliverButton.MaxTimer;
                    }
                    else {
                        survivor12FindDeliverButton.HasEffect = true;
                        ZombieLaboratory.survivorPlayer12SelectedBox = ZombieLaboratory.survivorPlayer12CurrentBox;
                    }
                },
                () => { return ZombieLaboratory.survivorPlayer12 != null && ZombieLaboratory.survivorPlayer12 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (survivor12FindDeliverButton.isEffectActive && ZombieLaboratory.survivorPlayer12SelectedBox != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.survivorPlayer12SelectedBox.transform.position) > 0.5f) {
                        ZombieLaboratory.survivorPlayer12SelectedBox = null;
                        survivor12FindDeliverButton.Timer = 0f;
                        survivor12FindDeliverButton.isEffectActive = false;
                    }

                    if (ZombieLaboratory.survivorPlayer12HasKeyItem)
                        survivor12FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorDeliverBoxButtonSprite();
                    else
                        survivor12FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorTakeBoxButtonSprite();
                    bool CanUse = false;
                    if (ZombieLaboratory.groundItems.Count != 0) {
                        foreach (GameObject groundItem in ZombieLaboratory.groundItems) {
                            if (groundItem != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, groundItem.transform.position) < 0.5f && !ZombieLaboratory.survivorPlayer12HasKeyItem) {
                                ZombieLaboratory.survivorPlayer12CurrentBox = groundItem;
                                switch (groundItem.name) {
                                    case "keyItem01":
                                        ZombieLaboratory.survivorPlayer12FoundBox = 1;
                                        CanUse = !ZombieLaboratory.keyItem01BeingHeld;
                                        break;
                                    case "keyItem02":
                                        ZombieLaboratory.survivorPlayer12FoundBox = 2;
                                        CanUse = !ZombieLaboratory.keyItem02BeingHeld;
                                        break;
                                    case "keyItem03":
                                        ZombieLaboratory.survivorPlayer12FoundBox = 3;
                                        CanUse = !ZombieLaboratory.keyItem03BeingHeld;
                                        break;
                                    case "keyItem04":
                                        ZombieLaboratory.survivorPlayer12FoundBox = 4;
                                        CanUse = !ZombieLaboratory.keyItem04BeingHeld;
                                        break;
                                    case "keyItem05":
                                        ZombieLaboratory.survivorPlayer12FoundBox = 5;
                                        CanUse = !ZombieLaboratory.keyItem05BeingHeld;
                                        break;
                                    case "keyItem06":
                                        ZombieLaboratory.survivorPlayer12FoundBox = 6;
                                        CanUse = !ZombieLaboratory.keyItem06BeingHeld;
                                        break;
                                    case "ammoBox":
                                        ZombieLaboratory.survivorPlayer12FoundBox = 7;
                                        CanUse = (!ZombieLaboratory.survivorPlayer12HasKeyItem || !ZombieLaboratory.survivorPlayer12CanKill);
                                        break;
                                    case "nothingBox":
                                        ZombieLaboratory.survivorPlayer12FoundBox = 8;
                                        CanUse = !ZombieLaboratory.survivorPlayer12HasKeyItem;
                                        break;
                                    case "nothingBoxOpened":
                                        CanUse = false;
                                        break;
                                }
                            }
                            else if ((ZombieLaboratory.laboratorytwoPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratorytwoPutKeyItemButton.transform.position) < 0.5f || ZombieLaboratory.laboratoryPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratoryPutKeyItemButton.transform.position) < 0.5f) && ZombieLaboratory.survivorPlayer12HasKeyItem) {
                                CanUse = true;
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer12IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { survivor12FindDeliverButton.Timer = survivor12FindDeliverButton.MaxTimer; },
                ZombieLaboratory.getSurvivorTakeBoxButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.searchBoxTimer,
                () => {
                    if (!ZombieLaboratory.survivorPlayer12.Data.IsDead) {
                        if (ZombieLaboratory.survivorPlayer12FoundBox >= 1 && ZombieLaboratory.survivorPlayer12FoundBox <= 6) {
                            byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                            byte keyId = ZombieLaboratory.survivorPlayer12FoundBox;
                            MessageWriter survivorWhoFoundKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieTakeKeyItem, Hazel.SendOption.Reliable, -1);
                            survivorWhoFoundKey.Write(targetId);
                            survivorWhoFoundKey.Write(keyId);
                            AmongUsClient.Instance.FinishRpcImmediately(survivorWhoFoundKey);
                            RPCProcedure.zombieTakeKeyItem(targetId, keyId);
                        }
                        else if (ZombieLaboratory.survivorPlayer12FoundBox == 7) {

                            ZombieLaboratory.survivorPlayer12CanKill = true;

                            SoundManager.Instance.PlaySound(CustomMain.customAssets.rechargeAmmoClip, false, 100f);

                            ZombieLaboratory.survivorPlayer12SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.ammoBox.GetComponent<SpriteRenderer>().sprite;
                        }
                        else {
                            ZombieLaboratory.survivorPlayer12SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.emptyBox.GetComponent<SpriteRenderer>().sprite;
                            ZombieLaboratory.survivorPlayer12SelectedBox.name = "nothingBoxOpened";
                            // nothing box
                        }
                    }
                    survivor12FindDeliverButton.Timer = survivor12FindDeliverButton.MaxTimer;
                }
            );

            // Survivor12 EnterExit Button
            survivor12EnterExitButton = new CustomButton(
                () => {
                    byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                    bool entering = true;
                    MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                    enterInfirmary.Write(targetId);
                    enterInfirmary.Write(entering);
                    AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                    RPCProcedure.enterLeaveInfirmary(targetId, entering, 0);
                    survivor12EnterExitButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.survivorPlayer12 != null && ZombieLaboratory.survivorPlayer12 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.localSurvivorsDeliverArrow.Count != 0) {
                        ZombieLaboratory.localSurvivorsDeliverArrow[0].Update(ZombieLaboratory.laboratoryEnterButton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            ZombieLaboratory.localSurvivorsDeliverArrow[1].Update(ZombieLaboratory.laboratorytwoEnterButton.transform.position);
                        }
                    }
                    
                    if (survivor12EnterExitButton.isEffectActive) {
                        if (ZombieLaboratory.survivorPlayer12.Data.IsDead) {
                            survivor12EnterExitButton.HasEffect = false;
                            survivor12EnterExitButton.Timer = survivor12EnterExitButton.MaxTimer;
                            survivor12EnterExitButton.isEffectActive = false;
                        }
                        survivor12EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorExitLaboratoryButtonSprite();
                    }
                    else {
                        survivor12EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite();
                    }
                    bool CanUse = false;
                    if (ZombieLaboratory.laboratory != null) {
                        if ((ZombieLaboratory.laboratorytwoEnterButton != null && Vector2.Distance(ZombieLaboratory.survivorPlayer12.transform.position, ZombieLaboratory.laboratorytwoEnterButton.transform.position) < 0.35f || Vector2.Distance(ZombieLaboratory.survivorPlayer12.transform.position, ZombieLaboratory.laboratoryEnterButton.transform.position) < 0.35f) && !ZombieLaboratory.survivorPlayer12.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer12IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    survivor12EnterExitButton.Timer = survivor12EnterExitButton.MaxTimer;
                },
                ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T,
                false,
                5f,
                () => {
                    if (!ZombieLaboratory.survivorPlayer12.Data.IsDead) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        bool entering = false;
                        MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                        enterInfirmary.Write(targetId);
                        enterInfirmary.Write(entering);
                        AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                        RPCProcedure.enterLeaveInfirmary(targetId, entering, 1);
                    }
                    survivor12EnterExitButton.Timer = survivor12EnterExitButton.MaxTimer;
                }
            );

            // Survivor13 kill
            survivor13KillButton = new CustomButton(
                () => {
                    byte targetId = ZombieLaboratory.survivorPlayer13currentTarget.PlayerId;
                    byte sourceId = ZombieLaboratory.survivorPlayer13.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    survivor13KillButton.Timer = survivor13KillButton.MaxTimer;
                    ZombieLaboratory.survivorPlayer13currentTarget = null;
                    ZombieLaboratory.survivorPlayer13CanKill = false;
                },
                () => { return ZombieLaboratory.survivorPlayer13 != null && ZombieLaboratory.survivorPlayer13 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.survivorPlayer13CanKill) {
                        survivor13KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorFullShootButtonSprite();
                    }
                    else {
                        survivor13KillButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEmptyShootButtonSprite();
                    }
                    return ZombieLaboratory.survivorPlayer13currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !ZombieLaboratory.survivorPlayer13IsReviving && ZombieLaboratory.survivorPlayer13CanKill && !ZombieLaboratory.survivorPlayer13HasKeyItem;
                },
                () => { survivor13KillButton.Timer = survivor13KillButton.MaxTimer; },
                ZombieLaboratory.getSurvivorEmptyShootButtonSprite(),
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Survivor13 FindDeliver Button
            survivor13FindDeliverButton = new CustomButton(
                () => {
                    if (ZombieLaboratory.survivorPlayer13HasKeyItem) {
                        survivor13FindDeliverButton.HasEffect = false;
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        byte keyId = ZombieLaboratory.survivorPlayer13FoundBox;
                        MessageWriter deliverKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieDeliverKeyItem, Hazel.SendOption.Reliable, -1);
                        deliverKey.Write(targetId);
                        deliverKey.Write(keyId);
                        AmongUsClient.Instance.FinishRpcImmediately(deliverKey);
                        RPCProcedure.zombieDeliverKeyItem(targetId, keyId);
                        survivor13FindDeliverButton.Timer = survivor13FindDeliverButton.MaxTimer;
                    }
                    else {
                        survivor13FindDeliverButton.HasEffect = true;
                        ZombieLaboratory.survivorPlayer13SelectedBox = ZombieLaboratory.survivorPlayer13CurrentBox;
                    }
                },
                () => { return ZombieLaboratory.survivorPlayer13 != null && ZombieLaboratory.survivorPlayer13 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (survivor13FindDeliverButton.isEffectActive && ZombieLaboratory.survivorPlayer13SelectedBox != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.survivorPlayer13SelectedBox.transform.position) > 0.5f) {
                        ZombieLaboratory.survivorPlayer13SelectedBox = null;
                        survivor13FindDeliverButton.Timer = 0f;
                        survivor13FindDeliverButton.isEffectActive = false;
                    }

                    if (ZombieLaboratory.survivorPlayer13HasKeyItem)
                        survivor13FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorDeliverBoxButtonSprite();
                    else
                        survivor13FindDeliverButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorTakeBoxButtonSprite();
                    bool CanUse = false;
                    if (ZombieLaboratory.groundItems.Count != 0) {
                        foreach (GameObject groundItem in ZombieLaboratory.groundItems) {
                            if (groundItem != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, groundItem.transform.position) < 0.5f && !ZombieLaboratory.survivorPlayer13HasKeyItem) {
                                ZombieLaboratory.survivorPlayer13CurrentBox = groundItem;
                                switch (groundItem.name) {
                                    case "keyItem01":
                                        ZombieLaboratory.survivorPlayer13FoundBox = 1;
                                        CanUse = !ZombieLaboratory.keyItem01BeingHeld;
                                        break;
                                    case "keyItem02":
                                        ZombieLaboratory.survivorPlayer13FoundBox = 2;
                                        CanUse = !ZombieLaboratory.keyItem02BeingHeld;
                                        break;
                                    case "keyItem03":
                                        ZombieLaboratory.survivorPlayer13FoundBox = 3;
                                        CanUse = !ZombieLaboratory.keyItem03BeingHeld;
                                        break;
                                    case "keyItem04":
                                        ZombieLaboratory.survivorPlayer13FoundBox = 4;
                                        CanUse = !ZombieLaboratory.keyItem04BeingHeld;
                                        break;
                                    case "keyItem05":
                                        ZombieLaboratory.survivorPlayer13FoundBox = 5;
                                        CanUse = !ZombieLaboratory.keyItem05BeingHeld;
                                        break;
                                    case "keyItem06":
                                        ZombieLaboratory.survivorPlayer13FoundBox = 6;
                                        CanUse = !ZombieLaboratory.keyItem06BeingHeld;
                                        break;
                                    case "ammoBox":
                                        ZombieLaboratory.survivorPlayer13FoundBox = 7;
                                        CanUse = (!ZombieLaboratory.survivorPlayer13HasKeyItem || !ZombieLaboratory.survivorPlayer13CanKill);
                                        break;
                                    case "nothingBox":
                                        ZombieLaboratory.survivorPlayer13FoundBox = 8;
                                        CanUse = !ZombieLaboratory.survivorPlayer13HasKeyItem;
                                        break;
                                    case "nothingBoxOpened":
                                        CanUse = false;
                                        break;
                                }
                            }
                            else if ((ZombieLaboratory.laboratorytwoPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratorytwoPutKeyItemButton.transform.position) < 0.5f || ZombieLaboratory.laboratoryPutKeyItemButton != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, ZombieLaboratory.laboratoryPutKeyItemButton.transform.position) < 0.5f) && ZombieLaboratory.survivorPlayer13HasKeyItem) {
                                CanUse = true;
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer13IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { survivor13FindDeliverButton.Timer = survivor13FindDeliverButton.MaxTimer; },
                ZombieLaboratory.getSurvivorTakeBoxButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                ZombieLaboratory.searchBoxTimer,
                () => {
                    if (!ZombieLaboratory.survivorPlayer13.Data.IsDead) {
                        if (ZombieLaboratory.survivorPlayer13FoundBox >= 1 && ZombieLaboratory.survivorPlayer13FoundBox <= 6) {
                            byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                            byte keyId = ZombieLaboratory.survivorPlayer13FoundBox;
                            MessageWriter survivorWhoFoundKey = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.ZombieTakeKeyItem, Hazel.SendOption.Reliable, -1);
                            survivorWhoFoundKey.Write(targetId);
                            survivorWhoFoundKey.Write(keyId);
                            AmongUsClient.Instance.FinishRpcImmediately(survivorWhoFoundKey);
                            RPCProcedure.zombieTakeKeyItem(targetId, keyId);
                        }
                        else if (ZombieLaboratory.survivorPlayer13FoundBox == 7) {

                            ZombieLaboratory.survivorPlayer13CanKill = true;

                            SoundManager.Instance.PlaySound(CustomMain.customAssets.rechargeAmmoClip, false, 100f);

                            ZombieLaboratory.survivorPlayer13SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.ammoBox.GetComponent<SpriteRenderer>().sprite;
                        }
                        else {
                            ZombieLaboratory.survivorPlayer13SelectedBox.GetComponent<SpriteRenderer>().sprite = CustomMain.customAssets.emptyBox.GetComponent<SpriteRenderer>().sprite;
                            ZombieLaboratory.survivorPlayer13SelectedBox.name = "nothingBoxOpened";
                            // nothing box
                        }
                    }
                    survivor13FindDeliverButton.Timer = survivor13FindDeliverButton.MaxTimer;
                }
            );

            // Survivor13 EnterExit Button
            survivor13EnterExitButton = new CustomButton(
                () => {
                    byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                    bool entering = true;
                    MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                    enterInfirmary.Write(targetId);
                    enterInfirmary.Write(entering);
                    AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                    RPCProcedure.enterLeaveInfirmary(targetId, entering, 0);
                    survivor13EnterExitButton.HasEffect = true;
                },
                () => { return ZombieLaboratory.survivorPlayer13 != null && ZombieLaboratory.survivorPlayer13 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (ZombieLaboratory.localSurvivorsDeliverArrow.Count != 0) {
                        ZombieLaboratory.localSurvivorsDeliverArrow[0].Update(ZombieLaboratory.laboratoryEnterButton.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            ZombieLaboratory.localSurvivorsDeliverArrow[1].Update(ZombieLaboratory.laboratorytwoEnterButton.transform.position);
                        }
                    }
                    
                    if (survivor13EnterExitButton.isEffectActive) {
                        if (ZombieLaboratory.survivorPlayer13.Data.IsDead) {
                            survivor13EnterExitButton.HasEffect = false;
                            survivor13EnterExitButton.Timer = survivor13EnterExitButton.MaxTimer;
                            survivor13EnterExitButton.isEffectActive = false;
                        }
                        survivor13EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorExitLaboratoryButtonSprite();
                    }
                    else {
                        survivor13EnterExitButton.actionButton.graphic.sprite = ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite();
                    }
                    bool CanUse = false;
                    if (ZombieLaboratory.laboratory != null) {
                        if ((ZombieLaboratory.laboratorytwoEnterButton != null && Vector2.Distance(ZombieLaboratory.survivorPlayer13.transform.position, ZombieLaboratory.laboratorytwoEnterButton.transform.position) < 0.35f || Vector2.Distance(ZombieLaboratory.survivorPlayer13.transform.position, ZombieLaboratory.laboratoryEnterButton.transform.position) < 0.35f) && !ZombieLaboratory.survivorPlayer13.Data.IsDead) {
                            CanUse = true;
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !ZombieLaboratory.survivorPlayer13IsReviving && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => {
                    survivor13EnterExitButton.Timer = survivor13EnterExitButton.MaxTimer;
                },
                ZombieLaboratory.getSurvivorEnterLaboratoryButtonSprite(),
                CustomButton.ButtonPositions.lowerRowCenter,
                __instance,
                KeyCode.T,
                false,
                5f,
                () => {
                    if (!ZombieLaboratory.survivorPlayer13.Data.IsDead) {
                        byte targetId = PlayerInCache.LocalPlayer.PlayerControl.PlayerId;
                        bool entering = false;
                        MessageWriter enterInfirmary = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.EnterLeaveInfirmary, Hazel.SendOption.Reliable, -1);
                        enterInfirmary.Write(targetId);
                        enterInfirmary.Write(entering);
                        AmongUsClient.Instance.FinishRpcImmediately(enterInfirmary);
                        RPCProcedure.enterLeaveInfirmary(targetId, entering, 1);
                    }
                    survivor13EnterExitButton.Timer = survivor13EnterExitButton.MaxTimer;
                }
            );


            // Battle Royale
            // SoloPlayer01 Kill
            soloPlayer01KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetShotPlayer(2 * 0.2f, 6, 1);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.soloPlayer01.PlayerId);
                    writerShot.Write(0);
                    writerShot.Write(BattleRoyale.soloPlayer01mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.soloPlayer01.PlayerId, 0, BattleRoyale.soloPlayer01mouseAngle);

                    if (target == null) {
                        soloPlayer01KillButton.Timer = soloPlayer01KillButton.MaxTimer;                      
                        return;
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.soloPlayer01.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.soloPlayer01.PlayerId);

                    soloPlayer01KillButton.Timer = soloPlayer01KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.soloPlayer01 != null && BattleRoyale.soloPlayer01 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.soloPlayer01Wep == null) {
                        BattleRoyale.soloPlayer01Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.soloPlayer01Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.soloPlayer01.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead) {
                            BattleRoyale.soloPlayer01Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.soloPlayer01mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.soloPlayer01.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.soloPlayer01mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.soloPlayer01mouseAngle));
                        BattleRoyale.soloPlayer01Wep.transform.position += (targetPosition - BattleRoyale.soloPlayer01Wep.transform.position) * 0.4f;
                        BattleRoyale.soloPlayer01Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.soloPlayer01mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.soloPlayer01mouseAngle) < 0.0) {
                            if (BattleRoyale.soloPlayer01Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.soloPlayer01Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.soloPlayer01Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.soloPlayer01Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { soloPlayer01KillButton.Timer = soloPlayer01KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // SoloPlayer02 Kill
            soloPlayer02KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetShotPlayer(2 * 0.2f, 6, 2);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.soloPlayer02.PlayerId);
                    writerShot.Write(0);
                    writerShot.Write(BattleRoyale.soloPlayer02mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.soloPlayer02.PlayerId, 0, BattleRoyale.soloPlayer02mouseAngle);

                    if (target == null) {
                        soloPlayer02KillButton.Timer = soloPlayer02KillButton.MaxTimer;                       
                        return;
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.soloPlayer02.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.soloPlayer02.PlayerId);

                    soloPlayer02KillButton.Timer = soloPlayer02KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.soloPlayer02 != null && BattleRoyale.soloPlayer02 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.soloPlayer02Wep == null) {
                        BattleRoyale.soloPlayer02Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.soloPlayer02Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.soloPlayer02.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead) {
                            BattleRoyale.soloPlayer02Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.soloPlayer02mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.soloPlayer02.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.soloPlayer02mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.soloPlayer02mouseAngle));
                        BattleRoyale.soloPlayer02Wep.transform.position += (targetPosition - BattleRoyale.soloPlayer02Wep.transform.position) * 0.4f;
                        BattleRoyale.soloPlayer02Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.soloPlayer02mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.soloPlayer02mouseAngle) < 0.0) {
                            if (BattleRoyale.soloPlayer02Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.soloPlayer02Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.soloPlayer02Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.soloPlayer02Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { soloPlayer02KillButton.Timer = soloPlayer02KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // SoloPlayer03 Kill
            soloPlayer03KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetShotPlayer(2 * 0.2f, 6, 3);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.soloPlayer03.PlayerId);
                    writerShot.Write(0);
                    writerShot.Write(BattleRoyale.soloPlayer03mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.soloPlayer03.PlayerId, 0, BattleRoyale.soloPlayer03mouseAngle);

                    if (target == null) {
                        soloPlayer03KillButton.Timer = soloPlayer03KillButton.MaxTimer;                      
                        return;
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.soloPlayer03.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.soloPlayer03.PlayerId);

                    soloPlayer03KillButton.Timer = soloPlayer03KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.soloPlayer03 != null && BattleRoyale.soloPlayer03 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.soloPlayer03Wep == null) {
                        BattleRoyale.soloPlayer03Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.soloPlayer03Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.soloPlayer03.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead) {
                            BattleRoyale.soloPlayer03Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.soloPlayer03mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.soloPlayer03.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.soloPlayer03mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.soloPlayer03mouseAngle));
                        BattleRoyale.soloPlayer03Wep.transform.position += (targetPosition - BattleRoyale.soloPlayer03Wep.transform.position) * 0.4f;
                        BattleRoyale.soloPlayer03Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.soloPlayer03mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.soloPlayer03mouseAngle) < 0.0) {
                            if (BattleRoyale.soloPlayer03Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.soloPlayer03Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.soloPlayer03Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.soloPlayer03Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { soloPlayer03KillButton.Timer = soloPlayer03KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // SoloPlayer04 Kill
            soloPlayer04KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetShotPlayer(2 * 0.2f, 6, 4);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.soloPlayer04.PlayerId);
                    writerShot.Write(0);
                    writerShot.Write(BattleRoyale.soloPlayer04mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.soloPlayer04.PlayerId, 0, BattleRoyale.soloPlayer04mouseAngle);

                    if (target == null) {
                        soloPlayer04KillButton.Timer = soloPlayer04KillButton.MaxTimer;                       
                        return;
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.soloPlayer04.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.soloPlayer04.PlayerId);

                    soloPlayer04KillButton.Timer = soloPlayer04KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.soloPlayer04 != null && BattleRoyale.soloPlayer04 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.soloPlayer04Wep == null) {
                        BattleRoyale.soloPlayer04Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.soloPlayer04Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.soloPlayer04.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead) {
                            BattleRoyale.soloPlayer04Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.soloPlayer04mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.soloPlayer04.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.soloPlayer04mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.soloPlayer04mouseAngle));
                        BattleRoyale.soloPlayer04Wep.transform.position += (targetPosition - BattleRoyale.soloPlayer04Wep.transform.position) * 0.4f;
                        BattleRoyale.soloPlayer04Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.soloPlayer04mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.soloPlayer04mouseAngle) < 0.0) {
                            if (BattleRoyale.soloPlayer04Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.soloPlayer04Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.soloPlayer04Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.soloPlayer04Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { soloPlayer04KillButton.Timer = soloPlayer04KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // SoloPlayer05 Kill
            soloPlayer05KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetShotPlayer(2 * 0.2f, 6, 5);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.soloPlayer05.PlayerId);
                    writerShot.Write(0);
                    writerShot.Write(BattleRoyale.soloPlayer05mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.soloPlayer05.PlayerId, 0, BattleRoyale.soloPlayer05mouseAngle);

                    if (target == null) {
                        soloPlayer05KillButton.Timer = soloPlayer05KillButton.MaxTimer;
                        return;
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.soloPlayer05.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.soloPlayer05.PlayerId);

                    soloPlayer05KillButton.Timer = soloPlayer05KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.soloPlayer05 != null && BattleRoyale.soloPlayer05 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.soloPlayer05Wep == null) {
                        BattleRoyale.soloPlayer05Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.soloPlayer05Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.soloPlayer05.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead) {
                            BattleRoyale.soloPlayer05Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.soloPlayer05mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.soloPlayer05.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.soloPlayer05mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.soloPlayer05mouseAngle));
                        BattleRoyale.soloPlayer05Wep.transform.position += (targetPosition - BattleRoyale.soloPlayer05Wep.transform.position) * 0.4f;
                        BattleRoyale.soloPlayer05Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.soloPlayer05mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.soloPlayer05mouseAngle) < 0.0) {
                            if (BattleRoyale.soloPlayer05Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.soloPlayer05Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.soloPlayer05Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.soloPlayer05Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { soloPlayer05KillButton.Timer = soloPlayer05KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // SoloPlayer06 Kill
            soloPlayer06KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetShotPlayer(2 * 0.2f, 6, 6);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.soloPlayer06.PlayerId);
                    writerShot.Write(0);
                    writerShot.Write(BattleRoyale.soloPlayer06mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.soloPlayer06.PlayerId, 0, BattleRoyale.soloPlayer06mouseAngle);

                    if (target == null) {
                        soloPlayer06KillButton.Timer = soloPlayer06KillButton.MaxTimer;
                        return;
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.soloPlayer06.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.soloPlayer06.PlayerId);

                    soloPlayer06KillButton.Timer = soloPlayer06KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.soloPlayer06 != null && BattleRoyale.soloPlayer06 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.soloPlayer06Wep == null) {
                        BattleRoyale.soloPlayer06Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.soloPlayer06Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.soloPlayer06.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead) {
                            BattleRoyale.soloPlayer06Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.soloPlayer06mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.soloPlayer06.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.soloPlayer06mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.soloPlayer06mouseAngle));
                        BattleRoyale.soloPlayer06Wep.transform.position += (targetPosition - BattleRoyale.soloPlayer06Wep.transform.position) * 0.4f;
                        BattleRoyale.soloPlayer06Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.soloPlayer06mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.soloPlayer06mouseAngle) < 0.0) {
                            if (BattleRoyale.soloPlayer06Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.soloPlayer06Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.soloPlayer06Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.soloPlayer06Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { soloPlayer06KillButton.Timer = soloPlayer06KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // SoloPlayer07 Kill
            soloPlayer07KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetShotPlayer(2 * 0.2f, 6, 7);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.soloPlayer07.PlayerId);
                    writerShot.Write(0);
                    writerShot.Write(BattleRoyale.soloPlayer07mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.soloPlayer07.PlayerId, 0, BattleRoyale.soloPlayer07mouseAngle);

                    if (target == null) {
                        soloPlayer07KillButton.Timer = soloPlayer07KillButton.MaxTimer;
                        return;
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.soloPlayer07.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.soloPlayer07.PlayerId);

                    soloPlayer07KillButton.Timer = soloPlayer07KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.soloPlayer07 != null && BattleRoyale.soloPlayer07 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.soloPlayer07Wep == null) {
                        BattleRoyale.soloPlayer07Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.soloPlayer07Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.soloPlayer07.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead) {
                            BattleRoyale.soloPlayer07Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.soloPlayer07mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.soloPlayer07.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.soloPlayer07mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.soloPlayer07mouseAngle));
                        BattleRoyale.soloPlayer07Wep.transform.position += (targetPosition - BattleRoyale.soloPlayer07Wep.transform.position) * 0.4f;
                        BattleRoyale.soloPlayer07Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.soloPlayer07mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.soloPlayer07mouseAngle) < 0.0) {
                            if (BattleRoyale.soloPlayer07Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.soloPlayer07Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.soloPlayer07Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.soloPlayer07Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { soloPlayer07KillButton.Timer = soloPlayer07KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // SoloPlayer08 Kill
            soloPlayer08KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetShotPlayer(2 * 0.2f, 6, 8);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.soloPlayer08.PlayerId);
                    writerShot.Write(0);
                    writerShot.Write(BattleRoyale.soloPlayer08mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.soloPlayer08.PlayerId, 0, BattleRoyale.soloPlayer08mouseAngle);

                    if (target == null) {
                        soloPlayer08KillButton.Timer = soloPlayer08KillButton.MaxTimer;
                        return;
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.soloPlayer08.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.soloPlayer08.PlayerId);

                    soloPlayer08KillButton.Timer = soloPlayer08KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.soloPlayer08 != null && BattleRoyale.soloPlayer08 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.soloPlayer08Wep == null) {
                        BattleRoyale.soloPlayer08Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.soloPlayer08Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.soloPlayer08.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead) {
                            BattleRoyale.soloPlayer08Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.soloPlayer08mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.soloPlayer08.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.soloPlayer08mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.soloPlayer08mouseAngle));
                        BattleRoyale.soloPlayer08Wep.transform.position += (targetPosition - BattleRoyale.soloPlayer08Wep.transform.position) * 0.4f;
                        BattleRoyale.soloPlayer08Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.soloPlayer08mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.soloPlayer08mouseAngle) < 0.0) {
                            if (BattleRoyale.soloPlayer08Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.soloPlayer08Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.soloPlayer08Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.soloPlayer08Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { soloPlayer08KillButton.Timer = soloPlayer08KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // SoloPlayer09 Kill
            soloPlayer09KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetShotPlayer(2 * 0.2f, 6, 9);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.soloPlayer09.PlayerId);
                    writerShot.Write(0);
                    writerShot.Write(BattleRoyale.soloPlayer09mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.soloPlayer09.PlayerId, 0, BattleRoyale.soloPlayer09mouseAngle);

                    if (target == null) {
                        soloPlayer09KillButton.Timer = soloPlayer09KillButton.MaxTimer;
                        return;
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.soloPlayer09.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.soloPlayer09.PlayerId);

                    soloPlayer09KillButton.Timer = soloPlayer09KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.soloPlayer09 != null && BattleRoyale.soloPlayer09 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.soloPlayer09Wep == null) {
                        BattleRoyale.soloPlayer09Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.soloPlayer09Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.soloPlayer09.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead) {
                            BattleRoyale.soloPlayer09Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.soloPlayer09mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.soloPlayer09.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.soloPlayer09mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.soloPlayer09mouseAngle));
                        BattleRoyale.soloPlayer09Wep.transform.position += (targetPosition - BattleRoyale.soloPlayer09Wep.transform.position) * 0.4f;
                        BattleRoyale.soloPlayer09Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.soloPlayer09mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.soloPlayer09mouseAngle) < 0.0) {
                            if (BattleRoyale.soloPlayer09Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.soloPlayer09Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.soloPlayer09Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.soloPlayer09Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { soloPlayer09KillButton.Timer = soloPlayer09KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // SoloPlayer10 Kill
            soloPlayer10KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetShotPlayer(2 * 0.2f, 6, 10);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.soloPlayer10.PlayerId);
                    writerShot.Write(0);
                    writerShot.Write(BattleRoyale.soloPlayer10mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.soloPlayer10.PlayerId, 0, BattleRoyale.soloPlayer10mouseAngle);

                    if (target == null) {
                        soloPlayer10KillButton.Timer = soloPlayer10KillButton.MaxTimer;
                        return;
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.soloPlayer10.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.soloPlayer10.PlayerId);

                    soloPlayer10KillButton.Timer = soloPlayer10KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.soloPlayer10 != null && BattleRoyale.soloPlayer10 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.soloPlayer10Wep == null) {
                        BattleRoyale.soloPlayer10Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.soloPlayer10Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.soloPlayer10.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead) {
                            BattleRoyale.soloPlayer10Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.soloPlayer10mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.soloPlayer10.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.soloPlayer10mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.soloPlayer10mouseAngle));
                        BattleRoyale.soloPlayer10Wep.transform.position += (targetPosition - BattleRoyale.soloPlayer10Wep.transform.position) * 0.4f;
                        BattleRoyale.soloPlayer10Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.soloPlayer10mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.soloPlayer10mouseAngle) < 0.0) {
                            if (BattleRoyale.soloPlayer10Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.soloPlayer10Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.soloPlayer10Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.soloPlayer10Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { soloPlayer10KillButton.Timer = soloPlayer10KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // SoloPlayer11 Kill
            soloPlayer11KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetShotPlayer(2 * 0.2f, 6, 11);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.soloPlayer11.PlayerId);
                    writerShot.Write(0);
                    writerShot.Write(BattleRoyale.soloPlayer11mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.soloPlayer11.PlayerId, 0, BattleRoyale.soloPlayer11mouseAngle);

                    if (target == null) {
                        soloPlayer11KillButton.Timer = soloPlayer11KillButton.MaxTimer;
                        return;
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.soloPlayer11.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.soloPlayer11.PlayerId);

                    soloPlayer11KillButton.Timer = soloPlayer11KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.soloPlayer11 != null && BattleRoyale.soloPlayer11 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.soloPlayer11Wep == null) {
                        BattleRoyale.soloPlayer11Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.soloPlayer11Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.soloPlayer11.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead) {
                            BattleRoyale.soloPlayer11Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.soloPlayer11mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.soloPlayer11.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.soloPlayer11mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.soloPlayer11mouseAngle));
                        BattleRoyale.soloPlayer11Wep.transform.position += (targetPosition - BattleRoyale.soloPlayer11Wep.transform.position) * 0.4f;
                        BattleRoyale.soloPlayer11Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.soloPlayer11mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.soloPlayer11mouseAngle) < 0.0) {
                            if (BattleRoyale.soloPlayer11Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.soloPlayer11Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.soloPlayer11Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.soloPlayer11Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { soloPlayer11KillButton.Timer = soloPlayer11KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // SoloPlayer12 Kill
            soloPlayer12KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetShotPlayer(2 * 0.2f, 6, 12);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.soloPlayer12.PlayerId);
                    writerShot.Write(0);
                    writerShot.Write(BattleRoyale.soloPlayer12mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.soloPlayer12.PlayerId, 0, BattleRoyale.soloPlayer12mouseAngle);

                    if (target == null) {
                        soloPlayer12KillButton.Timer = soloPlayer12KillButton.MaxTimer;
                        return;
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.soloPlayer12.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.soloPlayer12.PlayerId);

                    soloPlayer12KillButton.Timer = soloPlayer12KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.soloPlayer12 != null && BattleRoyale.soloPlayer12 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.soloPlayer12Wep == null) {
                        BattleRoyale.soloPlayer12Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.soloPlayer12Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.soloPlayer12.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead) {
                            BattleRoyale.soloPlayer12Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.soloPlayer12mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.soloPlayer12.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.soloPlayer12mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.soloPlayer12mouseAngle));
                        BattleRoyale.soloPlayer12Wep.transform.position += (targetPosition - BattleRoyale.soloPlayer12Wep.transform.position) * 0.4f;
                        BattleRoyale.soloPlayer12Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.soloPlayer12mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.soloPlayer12mouseAngle) < 0.0) {
                            if (BattleRoyale.soloPlayer12Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.soloPlayer12Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.soloPlayer12Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.soloPlayer12Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { soloPlayer12KillButton.Timer = soloPlayer12KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // SoloPlayer13 Kill
            soloPlayer13KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetShotPlayer(2 * 0.2f, 6, 13);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.soloPlayer13.PlayerId);
                    writerShot.Write(0);
                    writerShot.Write(BattleRoyale.soloPlayer13mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.soloPlayer13.PlayerId, 0, BattleRoyale.soloPlayer13mouseAngle);

                    if (target == null) {
                        soloPlayer13KillButton.Timer = soloPlayer13KillButton.MaxTimer;
                        return;
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.soloPlayer13.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.soloPlayer13.PlayerId);

                    soloPlayer13KillButton.Timer = soloPlayer13KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.soloPlayer13 != null && BattleRoyale.soloPlayer13 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.soloPlayer13Wep == null) {
                        BattleRoyale.soloPlayer13Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.soloPlayer13Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.soloPlayer13.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead) {
                            BattleRoyale.soloPlayer13Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.soloPlayer13mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.soloPlayer13.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.soloPlayer13mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.soloPlayer13mouseAngle));
                        BattleRoyale.soloPlayer13Wep.transform.position += (targetPosition - BattleRoyale.soloPlayer13Wep.transform.position) * 0.4f;
                        BattleRoyale.soloPlayer13Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.soloPlayer13mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.soloPlayer13mouseAngle) < 0.0) {
                            if (BattleRoyale.soloPlayer13Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.soloPlayer13Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.soloPlayer13Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.soloPlayer13Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { soloPlayer13KillButton.Timer = soloPlayer13KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // SoloPlayer14 Kill
            soloPlayer14KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetShotPlayer(2 * 0.2f, 6, 14);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.soloPlayer14.PlayerId);
                    writerShot.Write(0);
                    writerShot.Write(BattleRoyale.soloPlayer14mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.soloPlayer14.PlayerId, 0, BattleRoyale.soloPlayer14mouseAngle);

                    if (target == null) {
                        soloPlayer14KillButton.Timer = soloPlayer14KillButton.MaxTimer;
                        return;
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.soloPlayer14.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.soloPlayer14.PlayerId);

                    soloPlayer14KillButton.Timer = soloPlayer14KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.soloPlayer14 != null && BattleRoyale.soloPlayer14 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.soloPlayer14Wep == null) {
                        BattleRoyale.soloPlayer14Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.soloPlayer14Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.soloPlayer14.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead) {
                            BattleRoyale.soloPlayer14Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.soloPlayer14mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.soloPlayer14.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.soloPlayer14mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.soloPlayer14mouseAngle));
                        BattleRoyale.soloPlayer14Wep.transform.position += (targetPosition - BattleRoyale.soloPlayer14Wep.transform.position) * 0.4f;
                        BattleRoyale.soloPlayer14Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.soloPlayer14mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.soloPlayer14mouseAngle) < 0.0) {
                            if (BattleRoyale.soloPlayer14Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.soloPlayer14Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.soloPlayer14Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.soloPlayer14Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { soloPlayer14KillButton.Timer = soloPlayer14KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // SoloPlayer15 Kill
            soloPlayer15KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetShotPlayer(2 * 0.2f, 6, 15);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.soloPlayer15.PlayerId);
                    writerShot.Write(0);
                    writerShot.Write(BattleRoyale.soloPlayer15mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.soloPlayer15.PlayerId, 0, BattleRoyale.soloPlayer15mouseAngle);

                    if (target == null) {
                        soloPlayer15KillButton.Timer = soloPlayer15KillButton.MaxTimer;
                        return;
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.soloPlayer15.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.soloPlayer15.PlayerId);

                    soloPlayer15KillButton.Timer = soloPlayer15KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.soloPlayer15 != null && BattleRoyale.soloPlayer15 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.soloPlayer15Wep == null) {
                        BattleRoyale.soloPlayer15Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.soloPlayer15Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.soloPlayer15.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead) {
                            BattleRoyale.soloPlayer15Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.soloPlayer15mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.soloPlayer15.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.soloPlayer15mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.soloPlayer15mouseAngle));
                        BattleRoyale.soloPlayer15Wep.transform.position += (targetPosition - BattleRoyale.soloPlayer15Wep.transform.position) * 0.4f;
                        BattleRoyale.soloPlayer15Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.soloPlayer15mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.soloPlayer15mouseAngle) < 0.0) {
                            if (BattleRoyale.soloPlayer15Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.soloPlayer15Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.soloPlayer15Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.soloPlayer15Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { soloPlayer15KillButton.Timer = soloPlayer15KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // LimePlayer01 Kill
            limePlayer01KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetLimeShotPlayer(2 * 0.2f, 6, 1);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.limePlayer01.PlayerId);
                    writerShot.Write(1);
                    writerShot.Write(BattleRoyale.limePlayer01mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.limePlayer01.PlayerId, 1, BattleRoyale.limePlayer01mouseAngle);

                    if (target == null) {
                        limePlayer01KillButton.Timer = limePlayer01KillButton.MaxTimer;
                        return;
                    }

                    if (BattleRoyale.matchType == 2) {
                        if (BattleRoyale.pinkPlayer01 != null && target == BattleRoyale.pinkPlayer01 && BattleRoyale.pinkPlayer01IsReviving ||
                        BattleRoyale.pinkPlayer02 != null && target == BattleRoyale.pinkPlayer02 && BattleRoyale.pinkPlayer02IsReviving ||
                        BattleRoyale.pinkPlayer03 != null && target == BattleRoyale.pinkPlayer03 && BattleRoyale.pinkPlayer03IsReviving ||
                        BattleRoyale.pinkPlayer04 != null && target == BattleRoyale.pinkPlayer04 && BattleRoyale.pinkPlayer04IsReviving ||
                        BattleRoyale.pinkPlayer05 != null && target == BattleRoyale.pinkPlayer05 && BattleRoyale.pinkPlayer05IsReviving ||
                        BattleRoyale.pinkPlayer06 != null && target == BattleRoyale.pinkPlayer06 && BattleRoyale.pinkPlayer06IsReviving ||
                        BattleRoyale.pinkPlayer07 != null && target == BattleRoyale.pinkPlayer07 && BattleRoyale.pinkPlayer07IsReviving ||
                        BattleRoyale.serialKiller != null && target == BattleRoyale.serialKiller && BattleRoyale.serialKillerIsReviving) {
                            limePlayer01KillButton.Timer = limePlayer01KillButton.MaxTimer;
                            return;
                        }
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.limePlayer01.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.limePlayer01.PlayerId);

                    limePlayer01KillButton.Timer = limePlayer01KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.limePlayer01 != null && BattleRoyale.limePlayer01 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.limePlayer01Wep == null) {
                        BattleRoyale.limePlayer01Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.limePlayer01Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.limePlayer01.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead && BattleRoyale.matchType != 2) {
                            BattleRoyale.limePlayer01Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.limePlayer01mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.limePlayer01.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.limePlayer01mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.limePlayer01mouseAngle));
                        BattleRoyale.limePlayer01Wep.transform.position += (targetPosition - BattleRoyale.limePlayer01Wep.transform.position) * 0.4f;
                        BattleRoyale.limePlayer01Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.limePlayer01mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.limePlayer01mouseAngle) < 0.0) {
                            if (BattleRoyale.limePlayer01Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.limePlayer01Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.limePlayer01Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.limePlayer01Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    bool CanUse = true;
                    if (BattleRoyale.limePlayer01IsReviving) {
                        CanUse = false;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { limePlayer01KillButton.Timer = limePlayer01KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // LimePlayer02 Kill
            limePlayer02KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetLimeShotPlayer(2 * 0.2f, 6, 2);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.limePlayer02.PlayerId);
                    writerShot.Write(1);
                    writerShot.Write(BattleRoyale.limePlayer02mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.limePlayer02.PlayerId, 1, BattleRoyale.limePlayer02mouseAngle);

                    if (target == null) {
                        limePlayer02KillButton.Timer = limePlayer02KillButton.MaxTimer;
                        return;
                    }

                    if (BattleRoyale.matchType == 2) {
                        if (BattleRoyale.pinkPlayer01 != null && target == BattleRoyale.pinkPlayer01 && BattleRoyale.pinkPlayer01IsReviving ||
                        BattleRoyale.pinkPlayer02 != null && target == BattleRoyale.pinkPlayer02 && BattleRoyale.pinkPlayer02IsReviving ||
                        BattleRoyale.pinkPlayer03 != null && target == BattleRoyale.pinkPlayer03 && BattleRoyale.pinkPlayer03IsReviving ||
                        BattleRoyale.pinkPlayer04 != null && target == BattleRoyale.pinkPlayer04 && BattleRoyale.pinkPlayer04IsReviving ||
                        BattleRoyale.pinkPlayer05 != null && target == BattleRoyale.pinkPlayer05 && BattleRoyale.pinkPlayer05IsReviving ||
                        BattleRoyale.pinkPlayer06 != null && target == BattleRoyale.pinkPlayer06 && BattleRoyale.pinkPlayer06IsReviving ||
                        BattleRoyale.pinkPlayer07 != null && target == BattleRoyale.pinkPlayer07 && BattleRoyale.pinkPlayer07IsReviving ||
                        BattleRoyale.serialKiller != null && target == BattleRoyale.serialKiller && BattleRoyale.serialKillerIsReviving) {
                            limePlayer02KillButton.Timer = limePlayer02KillButton.MaxTimer;
                            return;
                        }
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.limePlayer02.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.limePlayer02.PlayerId);

                    limePlayer02KillButton.Timer = limePlayer02KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.limePlayer02 != null && BattleRoyale.limePlayer02 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.limePlayer02Wep == null) {
                        BattleRoyale.limePlayer02Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.limePlayer02Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.limePlayer02.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead && BattleRoyale.matchType != 2) {
                            BattleRoyale.limePlayer02Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.limePlayer02mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.limePlayer02.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.limePlayer02mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.limePlayer02mouseAngle));
                        BattleRoyale.limePlayer02Wep.transform.position += (targetPosition - BattleRoyale.limePlayer02Wep.transform.position) * 0.4f;
                        BattleRoyale.limePlayer02Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.limePlayer02mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.limePlayer02mouseAngle) < 0.0) {
                            if (BattleRoyale.limePlayer02Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.limePlayer02Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.limePlayer02Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.limePlayer02Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    bool CanUse = true;
                    if (BattleRoyale.limePlayer02IsReviving) {
                        CanUse = false;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { limePlayer02KillButton.Timer = limePlayer02KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // LimePlayer03 Kill
            limePlayer03KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetLimeShotPlayer(2 * 0.2f, 6, 3);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.limePlayer03.PlayerId);
                    writerShot.Write(1);
                    writerShot.Write(BattleRoyale.limePlayer03mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.limePlayer03.PlayerId, 1, BattleRoyale.limePlayer03mouseAngle);

                    if (target == null) {
                        limePlayer03KillButton.Timer = limePlayer03KillButton.MaxTimer;
                        return;
                    }

                    if (BattleRoyale.matchType == 2) {
                        if (BattleRoyale.pinkPlayer01 != null && target == BattleRoyale.pinkPlayer01 && BattleRoyale.pinkPlayer01IsReviving ||
                        BattleRoyale.pinkPlayer02 != null && target == BattleRoyale.pinkPlayer02 && BattleRoyale.pinkPlayer02IsReviving ||
                        BattleRoyale.pinkPlayer03 != null && target == BattleRoyale.pinkPlayer03 && BattleRoyale.pinkPlayer03IsReviving ||
                        BattleRoyale.pinkPlayer04 != null && target == BattleRoyale.pinkPlayer04 && BattleRoyale.pinkPlayer04IsReviving ||
                        BattleRoyale.pinkPlayer05 != null && target == BattleRoyale.pinkPlayer05 && BattleRoyale.pinkPlayer05IsReviving ||
                        BattleRoyale.pinkPlayer06 != null && target == BattleRoyale.pinkPlayer06 && BattleRoyale.pinkPlayer06IsReviving ||
                        BattleRoyale.pinkPlayer07 != null && target == BattleRoyale.pinkPlayer07 && BattleRoyale.pinkPlayer07IsReviving ||
                        BattleRoyale.serialKiller != null && target == BattleRoyale.serialKiller && BattleRoyale.serialKillerIsReviving) {
                            limePlayer03KillButton.Timer = limePlayer03KillButton.MaxTimer;
                            return;
                        }
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.limePlayer03.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.limePlayer03.PlayerId);

                    limePlayer03KillButton.Timer = limePlayer03KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.limePlayer03 != null && BattleRoyale.limePlayer03 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.limePlayer03Wep == null) {
                        BattleRoyale.limePlayer03Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.limePlayer03Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.limePlayer03.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead && BattleRoyale.matchType != 2) {
                            BattleRoyale.limePlayer03Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.limePlayer03mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.limePlayer03.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.limePlayer03mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.limePlayer03mouseAngle));
                        BattleRoyale.limePlayer03Wep.transform.position += (targetPosition - BattleRoyale.limePlayer03Wep.transform.position) * 0.4f;
                        BattleRoyale.limePlayer03Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.limePlayer03mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.limePlayer03mouseAngle) < 0.0) {
                            if (BattleRoyale.limePlayer03Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.limePlayer03Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.limePlayer03Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.limePlayer03Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    bool CanUse = true;
                    if (BattleRoyale.limePlayer03IsReviving) {
                        CanUse = false;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { limePlayer03KillButton.Timer = limePlayer03KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // LimePlayer04 Kill
            limePlayer04KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetLimeShotPlayer(2 * 0.2f, 6, 4);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.limePlayer04.PlayerId);
                    writerShot.Write(1);
                    writerShot.Write(BattleRoyale.limePlayer04mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.limePlayer04.PlayerId, 1, BattleRoyale.limePlayer04mouseAngle);

                    if (target == null) {
                        limePlayer04KillButton.Timer = limePlayer04KillButton.MaxTimer;
                        return;
                    }

                    if (BattleRoyale.matchType == 2) {
                        if (BattleRoyale.pinkPlayer01 != null && target == BattleRoyale.pinkPlayer01 && BattleRoyale.pinkPlayer01IsReviving ||
                        BattleRoyale.pinkPlayer02 != null && target == BattleRoyale.pinkPlayer02 && BattleRoyale.pinkPlayer02IsReviving ||
                        BattleRoyale.pinkPlayer03 != null && target == BattleRoyale.pinkPlayer03 && BattleRoyale.pinkPlayer03IsReviving ||
                        BattleRoyale.pinkPlayer04 != null && target == BattleRoyale.pinkPlayer04 && BattleRoyale.pinkPlayer04IsReviving ||
                        BattleRoyale.pinkPlayer05 != null && target == BattleRoyale.pinkPlayer05 && BattleRoyale.pinkPlayer05IsReviving ||
                        BattleRoyale.pinkPlayer06 != null && target == BattleRoyale.pinkPlayer06 && BattleRoyale.pinkPlayer06IsReviving ||
                        BattleRoyale.pinkPlayer07 != null && target == BattleRoyale.pinkPlayer07 && BattleRoyale.pinkPlayer07IsReviving ||
                        BattleRoyale.serialKiller != null && target == BattleRoyale.serialKiller && BattleRoyale.serialKillerIsReviving) {
                            limePlayer04KillButton.Timer = limePlayer04KillButton.MaxTimer;
                            return;
                        }
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.limePlayer04.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.limePlayer04.PlayerId);

                    limePlayer04KillButton.Timer = limePlayer04KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.limePlayer04 != null && BattleRoyale.limePlayer04 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.limePlayer04Wep == null) {
                        BattleRoyale.limePlayer04Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.limePlayer04Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.limePlayer04.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead && BattleRoyale.matchType != 2) {
                            BattleRoyale.limePlayer04Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.limePlayer04mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.limePlayer04.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.limePlayer04mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.limePlayer04mouseAngle));
                        BattleRoyale.limePlayer04Wep.transform.position += (targetPosition - BattleRoyale.limePlayer04Wep.transform.position) * 0.4f;
                        BattleRoyale.limePlayer04Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.limePlayer04mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.limePlayer04mouseAngle) < 0.0) {
                            if (BattleRoyale.limePlayer04Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.limePlayer04Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.limePlayer04Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.limePlayer04Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    bool CanUse = true;
                    if (BattleRoyale.limePlayer04IsReviving) {
                        CanUse = false;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { limePlayer04KillButton.Timer = limePlayer04KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // LimePlayer05 Kill
            limePlayer05KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetLimeShotPlayer(2 * 0.2f, 6, 5);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.limePlayer05.PlayerId);
                    writerShot.Write(1);
                    writerShot.Write(BattleRoyale.limePlayer05mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.limePlayer05.PlayerId, 1, BattleRoyale.limePlayer05mouseAngle);

                    if (target == null) {
                        limePlayer05KillButton.Timer = limePlayer05KillButton.MaxTimer;
                        return;
                    }

                    if (BattleRoyale.matchType == 2) {
                        if (BattleRoyale.pinkPlayer01 != null && target == BattleRoyale.pinkPlayer01 && BattleRoyale.pinkPlayer01IsReviving ||
                        BattleRoyale.pinkPlayer02 != null && target == BattleRoyale.pinkPlayer02 && BattleRoyale.pinkPlayer02IsReviving ||
                        BattleRoyale.pinkPlayer03 != null && target == BattleRoyale.pinkPlayer03 && BattleRoyale.pinkPlayer03IsReviving ||
                        BattleRoyale.pinkPlayer04 != null && target == BattleRoyale.pinkPlayer04 && BattleRoyale.pinkPlayer04IsReviving ||
                        BattleRoyale.pinkPlayer05 != null && target == BattleRoyale.pinkPlayer05 && BattleRoyale.pinkPlayer05IsReviving ||
                        BattleRoyale.pinkPlayer06 != null && target == BattleRoyale.pinkPlayer06 && BattleRoyale.pinkPlayer06IsReviving ||
                        BattleRoyale.pinkPlayer07 != null && target == BattleRoyale.pinkPlayer07 && BattleRoyale.pinkPlayer07IsReviving ||
                        BattleRoyale.serialKiller != null && target == BattleRoyale.serialKiller && BattleRoyale.serialKillerIsReviving) {
                            limePlayer05KillButton.Timer = limePlayer05KillButton.MaxTimer;
                            return;
                        }
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.limePlayer05.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.limePlayer05.PlayerId);

                    limePlayer05KillButton.Timer = limePlayer05KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.limePlayer05 != null && BattleRoyale.limePlayer05 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.limePlayer05Wep == null) {
                        BattleRoyale.limePlayer05Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.limePlayer05Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.limePlayer05.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead && BattleRoyale.matchType != 2) {
                            BattleRoyale.limePlayer05Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.limePlayer05mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.limePlayer05.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.limePlayer05mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.limePlayer05mouseAngle));
                        BattleRoyale.limePlayer05Wep.transform.position += (targetPosition - BattleRoyale.limePlayer05Wep.transform.position) * 0.4f;
                        BattleRoyale.limePlayer05Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.limePlayer05mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.limePlayer05mouseAngle) < 0.0) {
                            if (BattleRoyale.limePlayer05Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.limePlayer05Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.limePlayer05Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.limePlayer05Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    bool CanUse = true;
                    if (BattleRoyale.limePlayer05IsReviving) {
                        CanUse = false;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { limePlayer05KillButton.Timer = limePlayer05KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // LimePlayer06 Kill
            limePlayer06KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetLimeShotPlayer(2 * 0.2f, 6, 6);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.limePlayer06.PlayerId);
                    writerShot.Write(1);
                    writerShot.Write(BattleRoyale.limePlayer06mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.limePlayer06.PlayerId, 1, BattleRoyale.limePlayer06mouseAngle);

                    if (target == null) {
                        limePlayer06KillButton.Timer = limePlayer06KillButton.MaxTimer;
                        return;
                    }

                    if (BattleRoyale.matchType == 2) {
                        if (BattleRoyale.pinkPlayer01 != null && target == BattleRoyale.pinkPlayer01 && BattleRoyale.pinkPlayer01IsReviving ||
                        BattleRoyale.pinkPlayer02 != null && target == BattleRoyale.pinkPlayer02 && BattleRoyale.pinkPlayer02IsReviving ||
                        BattleRoyale.pinkPlayer03 != null && target == BattleRoyale.pinkPlayer03 && BattleRoyale.pinkPlayer03IsReviving ||
                        BattleRoyale.pinkPlayer04 != null && target == BattleRoyale.pinkPlayer04 && BattleRoyale.pinkPlayer04IsReviving ||
                        BattleRoyale.pinkPlayer05 != null && target == BattleRoyale.pinkPlayer05 && BattleRoyale.pinkPlayer05IsReviving ||
                        BattleRoyale.pinkPlayer06 != null && target == BattleRoyale.pinkPlayer06 && BattleRoyale.pinkPlayer06IsReviving ||
                        BattleRoyale.pinkPlayer07 != null && target == BattleRoyale.pinkPlayer07 && BattleRoyale.pinkPlayer07IsReviving ||
                        BattleRoyale.serialKiller != null && target == BattleRoyale.serialKiller && BattleRoyale.serialKillerIsReviving) {
                            limePlayer06KillButton.Timer = limePlayer06KillButton.MaxTimer;
                            return;
                        }
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.limePlayer06.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.limePlayer06.PlayerId);

                    limePlayer06KillButton.Timer = limePlayer06KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.limePlayer06 != null && BattleRoyale.limePlayer06 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.limePlayer06Wep == null) {
                        BattleRoyale.limePlayer06Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.limePlayer06Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.limePlayer06.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead && BattleRoyale.matchType != 2) {
                            BattleRoyale.limePlayer06Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.limePlayer06mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.limePlayer06.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.limePlayer06mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.limePlayer06mouseAngle));
                        BattleRoyale.limePlayer06Wep.transform.position += (targetPosition - BattleRoyale.limePlayer06Wep.transform.position) * 0.4f;
                        BattleRoyale.limePlayer06Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.limePlayer06mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.limePlayer06mouseAngle) < 0.0) {
                            if (BattleRoyale.limePlayer06Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.limePlayer06Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.limePlayer06Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.limePlayer06Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    bool CanUse = true;
                    if (BattleRoyale.limePlayer06IsReviving) {
                        CanUse = false;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { limePlayer06KillButton.Timer = limePlayer06KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // LimePlayer07 Kill
            limePlayer07KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetLimeShotPlayer(2 * 0.2f, 6, 7);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.limePlayer07.PlayerId);
                    writerShot.Write(1);
                    writerShot.Write(BattleRoyale.limePlayer07mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.limePlayer07.PlayerId, 1, BattleRoyale.limePlayer07mouseAngle);

                    if (target == null) {
                        limePlayer07KillButton.Timer = limePlayer07KillButton.MaxTimer;
                        return;
                    }

                    if (BattleRoyale.matchType == 2) {
                        if (BattleRoyale.pinkPlayer01 != null && target == BattleRoyale.pinkPlayer01 && BattleRoyale.pinkPlayer01IsReviving ||
                        BattleRoyale.pinkPlayer02 != null && target == BattleRoyale.pinkPlayer02 && BattleRoyale.pinkPlayer02IsReviving ||
                        BattleRoyale.pinkPlayer03 != null && target == BattleRoyale.pinkPlayer03 && BattleRoyale.pinkPlayer03IsReviving ||
                        BattleRoyale.pinkPlayer04 != null && target == BattleRoyale.pinkPlayer04 && BattleRoyale.pinkPlayer04IsReviving ||
                        BattleRoyale.pinkPlayer05 != null && target == BattleRoyale.pinkPlayer05 && BattleRoyale.pinkPlayer05IsReviving ||
                        BattleRoyale.pinkPlayer06 != null && target == BattleRoyale.pinkPlayer06 && BattleRoyale.pinkPlayer06IsReviving ||
                        BattleRoyale.pinkPlayer07 != null && target == BattleRoyale.pinkPlayer07 && BattleRoyale.pinkPlayer07IsReviving ||
                        BattleRoyale.serialKiller != null && target == BattleRoyale.serialKiller && BattleRoyale.serialKillerIsReviving) {
                            limePlayer07KillButton.Timer = limePlayer07KillButton.MaxTimer;
                            return;
                        }
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.limePlayer07.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.limePlayer07.PlayerId);

                    limePlayer07KillButton.Timer = limePlayer07KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.limePlayer07 != null && BattleRoyale.limePlayer07 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.limePlayer07Wep == null) {
                        BattleRoyale.limePlayer07Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.limePlayer07Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.limePlayer07.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead && BattleRoyale.matchType != 2) {
                            BattleRoyale.limePlayer07Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.limePlayer07mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.limePlayer07.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.limePlayer07mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.limePlayer07mouseAngle));
                        BattleRoyale.limePlayer07Wep.transform.position += (targetPosition - BattleRoyale.limePlayer07Wep.transform.position) * 0.4f;
                        BattleRoyale.limePlayer07Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.limePlayer07mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.limePlayer07mouseAngle) < 0.0) {
                            if (BattleRoyale.limePlayer07Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.limePlayer07Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.limePlayer07Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.limePlayer07Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    bool CanUse = true;
                    if (BattleRoyale.limePlayer07IsReviving) {
                        CanUse = false;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { limePlayer07KillButton.Timer = limePlayer07KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // PinkPlayer01 Kill
            pinkPlayer01KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetPinkShotPlayer(2 * 0.2f, 6, 1);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.pinkPlayer01.PlayerId);
                    writerShot.Write(2);
                    writerShot.Write(BattleRoyale.pinkPlayer01mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.pinkPlayer01.PlayerId, 2, BattleRoyale.pinkPlayer01mouseAngle);

                    if (target == null) {
                        pinkPlayer01KillButton.Timer = pinkPlayer01KillButton.MaxTimer;
                        return;
                    }

                    if (BattleRoyale.matchType == 2) {
                        if (BattleRoyale.limePlayer01 != null && target == BattleRoyale.limePlayer01 && BattleRoyale.limePlayer01IsReviving ||
                        BattleRoyale.limePlayer02 != null && target == BattleRoyale.limePlayer02 && BattleRoyale.limePlayer02IsReviving ||
                        BattleRoyale.limePlayer03 != null && target == BattleRoyale.limePlayer03 && BattleRoyale.limePlayer03IsReviving ||
                        BattleRoyale.limePlayer04 != null && target == BattleRoyale.limePlayer04 && BattleRoyale.limePlayer04IsReviving ||
                        BattleRoyale.limePlayer05 != null && target == BattleRoyale.limePlayer05 && BattleRoyale.limePlayer05IsReviving ||
                        BattleRoyale.limePlayer06 != null && target == BattleRoyale.limePlayer06 && BattleRoyale.limePlayer06IsReviving ||
                        BattleRoyale.limePlayer07 != null && target == BattleRoyale.limePlayer07 && BattleRoyale.limePlayer07IsReviving ||
                        BattleRoyale.serialKiller != null && target == BattleRoyale.serialKiller && BattleRoyale.serialKillerIsReviving) {
                            pinkPlayer01KillButton.Timer = pinkPlayer01KillButton.MaxTimer;
                            return;
                        }
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.pinkPlayer01.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.pinkPlayer01.PlayerId);

                    pinkPlayer01KillButton.Timer = pinkPlayer01KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.pinkPlayer01 != null && BattleRoyale.pinkPlayer01 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.pinkPlayer01Wep == null) {
                        BattleRoyale.pinkPlayer01Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.pinkPlayer01Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.pinkPlayer01.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead && BattleRoyale.matchType != 2) {
                            BattleRoyale.pinkPlayer01Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.pinkPlayer01mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.pinkPlayer01.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.pinkPlayer01mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.pinkPlayer01mouseAngle));
                        BattleRoyale.pinkPlayer01Wep.transform.position += (targetPosition - BattleRoyale.pinkPlayer01Wep.transform.position) * 0.4f;
                        BattleRoyale.pinkPlayer01Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.pinkPlayer01mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.pinkPlayer01mouseAngle) < 0.0) {
                            if (BattleRoyale.pinkPlayer01Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.pinkPlayer01Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.pinkPlayer01Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.pinkPlayer01Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    bool CanUse = true;
                    if (BattleRoyale.pinkPlayer01IsReviving) {
                        CanUse = false;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { pinkPlayer01KillButton.Timer = pinkPlayer01KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // PinkPlayer02 Kill
            pinkPlayer02KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetPinkShotPlayer(2 * 0.2f, 6, 2);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.pinkPlayer02.PlayerId);
                    writerShot.Write(2);
                    writerShot.Write(BattleRoyale.pinkPlayer02mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.pinkPlayer02.PlayerId, 2, BattleRoyale.pinkPlayer02mouseAngle);

                    if (target == null) {
                        pinkPlayer02KillButton.Timer = pinkPlayer02KillButton.MaxTimer;
                        return;
                    }

                    if (BattleRoyale.matchType == 2) {
                        if (BattleRoyale.limePlayer01 != null && target == BattleRoyale.limePlayer01 && BattleRoyale.limePlayer01IsReviving ||
                        BattleRoyale.limePlayer02 != null && target == BattleRoyale.limePlayer02 && BattleRoyale.limePlayer02IsReviving ||
                        BattleRoyale.limePlayer03 != null && target == BattleRoyale.limePlayer03 && BattleRoyale.limePlayer03IsReviving ||
                        BattleRoyale.limePlayer04 != null && target == BattleRoyale.limePlayer04 && BattleRoyale.limePlayer04IsReviving ||
                        BattleRoyale.limePlayer05 != null && target == BattleRoyale.limePlayer05 && BattleRoyale.limePlayer05IsReviving ||
                        BattleRoyale.limePlayer06 != null && target == BattleRoyale.limePlayer06 && BattleRoyale.limePlayer06IsReviving ||
                        BattleRoyale.limePlayer07 != null && target == BattleRoyale.limePlayer07 && BattleRoyale.limePlayer07IsReviving ||
                        BattleRoyale.serialKiller != null && target == BattleRoyale.serialKiller && BattleRoyale.serialKillerIsReviving) {
                            pinkPlayer02KillButton.Timer = pinkPlayer02KillButton.MaxTimer;
                            return;
                        }
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.pinkPlayer02.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.pinkPlayer02.PlayerId);

                    pinkPlayer02KillButton.Timer = pinkPlayer02KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.pinkPlayer02 != null && BattleRoyale.pinkPlayer02 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.pinkPlayer02Wep == null) {
                        BattleRoyale.pinkPlayer02Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.pinkPlayer02Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.pinkPlayer02.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead && BattleRoyale.matchType != 2) {
                            BattleRoyale.pinkPlayer02Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.pinkPlayer02mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.pinkPlayer02.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.pinkPlayer02mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.pinkPlayer02mouseAngle));
                        BattleRoyale.pinkPlayer02Wep.transform.position += (targetPosition - BattleRoyale.pinkPlayer02Wep.transform.position) * 0.4f;
                        BattleRoyale.pinkPlayer02Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.pinkPlayer02mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.pinkPlayer02mouseAngle) < 0.0) {
                            if (BattleRoyale.pinkPlayer02Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.pinkPlayer02Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.pinkPlayer02Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.pinkPlayer02Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    bool CanUse = true;
                    if (BattleRoyale.pinkPlayer02IsReviving) {
                        CanUse = false;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { pinkPlayer02KillButton.Timer = pinkPlayer02KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // PinkPlayer03 Kill
            pinkPlayer03KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetPinkShotPlayer(2 * 0.2f, 6, 3);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.pinkPlayer03.PlayerId);
                    writerShot.Write(2);
                    writerShot.Write(BattleRoyale.pinkPlayer03mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.pinkPlayer03.PlayerId, 2, BattleRoyale.pinkPlayer03mouseAngle);

                    if (target == null) {
                        pinkPlayer03KillButton.Timer = pinkPlayer03KillButton.MaxTimer;
                        return;
                    }

                    if (BattleRoyale.matchType == 2) {
                        if (BattleRoyale.limePlayer01 != null && target == BattleRoyale.limePlayer01 && BattleRoyale.limePlayer01IsReviving ||
                        BattleRoyale.limePlayer02 != null && target == BattleRoyale.limePlayer02 && BattleRoyale.limePlayer02IsReviving ||
                        BattleRoyale.limePlayer03 != null && target == BattleRoyale.limePlayer03 && BattleRoyale.limePlayer03IsReviving ||
                        BattleRoyale.limePlayer04 != null && target == BattleRoyale.limePlayer04 && BattleRoyale.limePlayer04IsReviving ||
                        BattleRoyale.limePlayer05 != null && target == BattleRoyale.limePlayer05 && BattleRoyale.limePlayer05IsReviving ||
                        BattleRoyale.limePlayer06 != null && target == BattleRoyale.limePlayer06 && BattleRoyale.limePlayer06IsReviving ||
                        BattleRoyale.limePlayer07 != null && target == BattleRoyale.limePlayer07 && BattleRoyale.limePlayer07IsReviving ||
                        BattleRoyale.serialKiller != null && target == BattleRoyale.serialKiller && BattleRoyale.serialKillerIsReviving) {
                            pinkPlayer03KillButton.Timer = pinkPlayer03KillButton.MaxTimer;
                            return;
                        }
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.pinkPlayer03.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.pinkPlayer03.PlayerId);

                    pinkPlayer03KillButton.Timer = pinkPlayer03KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.pinkPlayer03 != null && BattleRoyale.pinkPlayer03 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.pinkPlayer03Wep == null) {
                        BattleRoyale.pinkPlayer03Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.pinkPlayer03Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.pinkPlayer03.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead && BattleRoyale.matchType != 2) {
                            BattleRoyale.pinkPlayer03Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.pinkPlayer03mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.pinkPlayer03.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.pinkPlayer03mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.pinkPlayer03mouseAngle));
                        BattleRoyale.pinkPlayer03Wep.transform.position += (targetPosition - BattleRoyale.pinkPlayer03Wep.transform.position) * 0.4f;
                        BattleRoyale.pinkPlayer03Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.pinkPlayer03mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.pinkPlayer03mouseAngle) < 0.0) {
                            if (BattleRoyale.pinkPlayer03Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.pinkPlayer03Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.pinkPlayer03Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.pinkPlayer03Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    bool CanUse = true;
                    if (BattleRoyale.pinkPlayer03IsReviving) {
                        CanUse = false;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { pinkPlayer03KillButton.Timer = pinkPlayer03KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // PinkPlayer04 Kill
            pinkPlayer04KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetPinkShotPlayer(2 * 0.2f, 6, 4);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.pinkPlayer04.PlayerId);
                    writerShot.Write(2);
                    writerShot.Write(BattleRoyale.pinkPlayer04mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.pinkPlayer04.PlayerId, 2, BattleRoyale.pinkPlayer04mouseAngle);

                    if (target == null) {
                        pinkPlayer04KillButton.Timer = pinkPlayer04KillButton.MaxTimer;
                        return;
                    }

                    if (BattleRoyale.matchType == 2) {
                        if (BattleRoyale.limePlayer01 != null && target == BattleRoyale.limePlayer01 && BattleRoyale.limePlayer01IsReviving ||
                        BattleRoyale.limePlayer02 != null && target == BattleRoyale.limePlayer02 && BattleRoyale.limePlayer02IsReviving ||
                        BattleRoyale.limePlayer03 != null && target == BattleRoyale.limePlayer03 && BattleRoyale.limePlayer03IsReviving ||
                        BattleRoyale.limePlayer04 != null && target == BattleRoyale.limePlayer04 && BattleRoyale.limePlayer04IsReviving ||
                        BattleRoyale.limePlayer05 != null && target == BattleRoyale.limePlayer05 && BattleRoyale.limePlayer05IsReviving ||
                        BattleRoyale.limePlayer06 != null && target == BattleRoyale.limePlayer06 && BattleRoyale.limePlayer06IsReviving ||
                        BattleRoyale.limePlayer07 != null && target == BattleRoyale.limePlayer07 && BattleRoyale.limePlayer07IsReviving ||
                        BattleRoyale.serialKiller != null && target == BattleRoyale.serialKiller && BattleRoyale.serialKillerIsReviving) {
                            pinkPlayer04KillButton.Timer = pinkPlayer04KillButton.MaxTimer;
                            return;
                        }
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.pinkPlayer04.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.pinkPlayer04.PlayerId);

                    pinkPlayer04KillButton.Timer = pinkPlayer04KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.pinkPlayer04 != null && BattleRoyale.pinkPlayer04 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.pinkPlayer04Wep == null) {
                        BattleRoyale.pinkPlayer04Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.pinkPlayer04Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.pinkPlayer04.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead && BattleRoyale.matchType != 2) {
                            BattleRoyale.pinkPlayer04Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.pinkPlayer04mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.pinkPlayer04.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.pinkPlayer04mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.pinkPlayer04mouseAngle));
                        BattleRoyale.pinkPlayer04Wep.transform.position += (targetPosition - BattleRoyale.pinkPlayer04Wep.transform.position) * 0.4f;
                        BattleRoyale.pinkPlayer04Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.pinkPlayer04mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.pinkPlayer04mouseAngle) < 0.0) {
                            if (BattleRoyale.pinkPlayer04Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.pinkPlayer04Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.pinkPlayer04Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.pinkPlayer04Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    bool CanUse = true;
                    if (BattleRoyale.pinkPlayer04IsReviving) {
                        CanUse = false;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { pinkPlayer04KillButton.Timer = pinkPlayer04KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // PinkPlayer05 Kill
            pinkPlayer05KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetPinkShotPlayer(2 * 0.2f, 6, 5);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.pinkPlayer05.PlayerId);
                    writerShot.Write(2);
                    writerShot.Write(BattleRoyale.pinkPlayer05mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.pinkPlayer05.PlayerId, 2, BattleRoyale.pinkPlayer05mouseAngle);

                    if (target == null) {
                        pinkPlayer05KillButton.Timer = pinkPlayer05KillButton.MaxTimer;
                        return;
                    }

                    if (BattleRoyale.matchType == 2) {
                        if (BattleRoyale.limePlayer01 != null && target == BattleRoyale.limePlayer01 && BattleRoyale.limePlayer01IsReviving ||
                        BattleRoyale.limePlayer02 != null && target == BattleRoyale.limePlayer02 && BattleRoyale.limePlayer02IsReviving ||
                        BattleRoyale.limePlayer03 != null && target == BattleRoyale.limePlayer03 && BattleRoyale.limePlayer03IsReviving ||
                        BattleRoyale.limePlayer04 != null && target == BattleRoyale.limePlayer04 && BattleRoyale.limePlayer04IsReviving ||
                        BattleRoyale.limePlayer05 != null && target == BattleRoyale.limePlayer05 && BattleRoyale.limePlayer05IsReviving ||
                        BattleRoyale.limePlayer06 != null && target == BattleRoyale.limePlayer06 && BattleRoyale.limePlayer06IsReviving ||
                        BattleRoyale.limePlayer07 != null && target == BattleRoyale.limePlayer07 && BattleRoyale.limePlayer07IsReviving ||
                        BattleRoyale.serialKiller != null && target == BattleRoyale.serialKiller && BattleRoyale.serialKillerIsReviving) {
                            pinkPlayer05KillButton.Timer = pinkPlayer05KillButton.MaxTimer;
                            return;
                        }
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.pinkPlayer05.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.pinkPlayer05.PlayerId);

                    pinkPlayer05KillButton.Timer = pinkPlayer05KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.pinkPlayer05 != null && BattleRoyale.pinkPlayer05 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.pinkPlayer05Wep == null) {
                        BattleRoyale.pinkPlayer05Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.pinkPlayer05Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.pinkPlayer05.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead && BattleRoyale.matchType != 2) {
                            BattleRoyale.pinkPlayer05Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.pinkPlayer05mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.pinkPlayer05.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.pinkPlayer05mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.pinkPlayer05mouseAngle));
                        BattleRoyale.pinkPlayer05Wep.transform.position += (targetPosition - BattleRoyale.pinkPlayer05Wep.transform.position) * 0.4f;
                        BattleRoyale.pinkPlayer05Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.pinkPlayer05mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.pinkPlayer05mouseAngle) < 0.0) {
                            if (BattleRoyale.pinkPlayer05Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.pinkPlayer05Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.pinkPlayer05Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.pinkPlayer05Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    bool CanUse = true;
                    if (BattleRoyale.pinkPlayer05IsReviving) {
                        CanUse = false;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { pinkPlayer05KillButton.Timer = pinkPlayer05KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // PinkPlayer06 Kill
            pinkPlayer06KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetPinkShotPlayer(2 * 0.2f, 6, 6);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.pinkPlayer06.PlayerId);
                    writerShot.Write(2);
                    writerShot.Write(BattleRoyale.pinkPlayer06mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.pinkPlayer06.PlayerId, 2, BattleRoyale.pinkPlayer06mouseAngle);

                    if (target == null) {
                        pinkPlayer06KillButton.Timer = pinkPlayer06KillButton.MaxTimer;
                        return;
                    }

                    if (BattleRoyale.matchType == 2) {
                        if (BattleRoyale.limePlayer01 != null && target == BattleRoyale.limePlayer01 && BattleRoyale.limePlayer01IsReviving ||
                        BattleRoyale.limePlayer02 != null && target == BattleRoyale.limePlayer02 && BattleRoyale.limePlayer02IsReviving ||
                        BattleRoyale.limePlayer03 != null && target == BattleRoyale.limePlayer03 && BattleRoyale.limePlayer03IsReviving ||
                        BattleRoyale.limePlayer04 != null && target == BattleRoyale.limePlayer04 && BattleRoyale.limePlayer04IsReviving ||
                        BattleRoyale.limePlayer05 != null && target == BattleRoyale.limePlayer05 && BattleRoyale.limePlayer05IsReviving ||
                        BattleRoyale.limePlayer06 != null && target == BattleRoyale.limePlayer06 && BattleRoyale.limePlayer06IsReviving ||
                        BattleRoyale.limePlayer07 != null && target == BattleRoyale.limePlayer07 && BattleRoyale.limePlayer07IsReviving ||
                        BattleRoyale.serialKiller != null && target == BattleRoyale.serialKiller && BattleRoyale.serialKillerIsReviving) {
                            pinkPlayer06KillButton.Timer = pinkPlayer06KillButton.MaxTimer;
                            return;
                        }
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.pinkPlayer06.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.pinkPlayer06.PlayerId);

                    pinkPlayer06KillButton.Timer = pinkPlayer06KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.pinkPlayer06 != null && BattleRoyale.pinkPlayer06 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.pinkPlayer06Wep == null) {
                        BattleRoyale.pinkPlayer06Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.pinkPlayer06Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.pinkPlayer06.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead && BattleRoyale.matchType != 2) {
                            BattleRoyale.pinkPlayer06Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.pinkPlayer06mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.pinkPlayer06.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.pinkPlayer06mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.pinkPlayer06mouseAngle));
                        BattleRoyale.pinkPlayer06Wep.transform.position += (targetPosition - BattleRoyale.pinkPlayer06Wep.transform.position) * 0.4f;
                        BattleRoyale.pinkPlayer06Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.pinkPlayer06mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.pinkPlayer06mouseAngle) < 0.0) {
                            if (BattleRoyale.pinkPlayer06Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.pinkPlayer06Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.pinkPlayer06Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.pinkPlayer06Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    bool CanUse = true;
                    if (BattleRoyale.pinkPlayer06IsReviving) {
                        CanUse = false;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { pinkPlayer06KillButton.Timer = pinkPlayer06KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // PinkPlayer07 Kill
            pinkPlayer07KillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetPinkShotPlayer(2 * 0.2f, 6, 7);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.pinkPlayer07.PlayerId);
                    writerShot.Write(2);
                    writerShot.Write(BattleRoyale.pinkPlayer07mouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.pinkPlayer07.PlayerId, 2, BattleRoyale.pinkPlayer07mouseAngle);

                    if (target == null) {
                        pinkPlayer07KillButton.Timer = pinkPlayer07KillButton.MaxTimer;
                        return;
                    }

                    if (BattleRoyale.matchType == 2) {
                        if (BattleRoyale.limePlayer01 != null && target == BattleRoyale.limePlayer01 && BattleRoyale.limePlayer01IsReviving ||
                        BattleRoyale.limePlayer02 != null && target == BattleRoyale.limePlayer02 && BattleRoyale.limePlayer02IsReviving ||
                        BattleRoyale.limePlayer03 != null && target == BattleRoyale.limePlayer03 && BattleRoyale.limePlayer03IsReviving ||
                        BattleRoyale.limePlayer04 != null && target == BattleRoyale.limePlayer04 && BattleRoyale.limePlayer04IsReviving ||
                        BattleRoyale.limePlayer05 != null && target == BattleRoyale.limePlayer05 && BattleRoyale.limePlayer05IsReviving ||
                        BattleRoyale.limePlayer06 != null && target == BattleRoyale.limePlayer06 && BattleRoyale.limePlayer06IsReviving ||
                        BattleRoyale.limePlayer07 != null && target == BattleRoyale.limePlayer07 && BattleRoyale.limePlayer07IsReviving ||
                        BattleRoyale.serialKiller != null && target == BattleRoyale.serialKiller && BattleRoyale.serialKillerIsReviving) {
                            pinkPlayer07KillButton.Timer = pinkPlayer07KillButton.MaxTimer;
                            return;
                        }
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.pinkPlayer07.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.pinkPlayer07.PlayerId);

                    pinkPlayer07KillButton.Timer = pinkPlayer07KillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.pinkPlayer07 != null && BattleRoyale.pinkPlayer07 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.pinkPlayer07Wep == null) {
                        BattleRoyale.pinkPlayer07Wep = new GameObject("Weapon");
                        var renderer = BattleRoyale.pinkPlayer07Wep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.pinkPlayer07.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead && BattleRoyale.matchType != 2) {
                            BattleRoyale.pinkPlayer07Wep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.pinkPlayer07mouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.pinkPlayer07.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.pinkPlayer07mouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.pinkPlayer07mouseAngle));
                        BattleRoyale.pinkPlayer07Wep.transform.position += (targetPosition - BattleRoyale.pinkPlayer07Wep.transform.position) * 0.4f;
                        BattleRoyale.pinkPlayer07Wep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.pinkPlayer07mouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.pinkPlayer07mouseAngle) < 0.0) {
                            if (BattleRoyale.pinkPlayer07Wep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.pinkPlayer07Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.pinkPlayer07Wep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.pinkPlayer07Wep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    bool CanUse = true;
                    if (BattleRoyale.pinkPlayer07IsReviving) {
                        CanUse = false;
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { pinkPlayer07KillButton.Timer = pinkPlayer07KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // Serial Killer Kill
            serialKillerKillButton = new CustomButton(
                () => {
                    PlayerControl target = BattleRoyale.GetSerialShootPlayer(2 * 0.2f, 6);

                    MessageWriter writerShot = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.BattleRoyaleShowShoots, Hazel.SendOption.Reliable, -1);
                    writerShot.Write(BattleRoyale.serialKiller.PlayerId);
                    writerShot.Write(3);
                    writerShot.Write(BattleRoyale.serialKillermouseAngle);
                    AmongUsClient.Instance.FinishRpcImmediately(writerShot);
                    RPCProcedure.battleRoyaleShowShoots(BattleRoyale.serialKiller.PlayerId, 3, BattleRoyale.serialKillermouseAngle);

                    if (target == null) {
                        serialKillerKillButton.Timer = serialKillerKillButton.MaxTimer;
                        return;
                    }

                    if (BattleRoyale.matchType == 2) {
                        if (BattleRoyale.limePlayer01 != null && target == BattleRoyale.limePlayer01 && BattleRoyale.limePlayer01IsReviving ||
                        BattleRoyale.limePlayer02 != null && target == BattleRoyale.limePlayer02 && BattleRoyale.limePlayer02IsReviving ||
                        BattleRoyale.limePlayer03 != null && target == BattleRoyale.limePlayer03 && BattleRoyale.limePlayer03IsReviving ||
                        BattleRoyale.limePlayer04 != null && target == BattleRoyale.limePlayer04 && BattleRoyale.limePlayer04IsReviving ||
                        BattleRoyale.limePlayer05 != null && target == BattleRoyale.limePlayer05 && BattleRoyale.limePlayer05IsReviving ||
                        BattleRoyale.limePlayer06 != null && target == BattleRoyale.limePlayer06 && BattleRoyale.limePlayer06IsReviving ||
                        BattleRoyale.limePlayer07 != null && target == BattleRoyale.limePlayer07 && BattleRoyale.limePlayer07IsReviving ||
                        BattleRoyale.pinkPlayer01 != null && target == BattleRoyale.pinkPlayer01 && BattleRoyale.pinkPlayer01IsReviving ||
                        BattleRoyale.pinkPlayer02 != null && target == BattleRoyale.pinkPlayer02 && BattleRoyale.pinkPlayer02IsReviving ||
                        BattleRoyale.pinkPlayer03 != null && target == BattleRoyale.pinkPlayer03 && BattleRoyale.pinkPlayer03IsReviving ||
                        BattleRoyale.pinkPlayer04 != null && target == BattleRoyale.pinkPlayer04 && BattleRoyale.pinkPlayer04IsReviving ||
                        BattleRoyale.pinkPlayer05 != null && target == BattleRoyale.pinkPlayer05 && BattleRoyale.pinkPlayer05IsReviving ||
                        BattleRoyale.pinkPlayer06 != null && target == BattleRoyale.pinkPlayer06 && BattleRoyale.pinkPlayer06IsReviving ||
                        BattleRoyale.pinkPlayer07 != null && target == BattleRoyale.pinkPlayer07 && BattleRoyale.pinkPlayer07IsReviving) {
                            serialKillerKillButton.Timer = serialKillerKillButton.MaxTimer;
                            return;
                        }
                    }

                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    writer.Write(target.PlayerId);
                    writer.Write(BattleRoyale.serialKiller.PlayerId);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.gamemodeKills(target.PlayerId, BattleRoyale.serialKiller.PlayerId);

                    serialKillerKillButton.Timer = serialKillerKillButton.MaxTimer;
                    SoundManager.Instance.PlaySound(CustomMain.customAssets.royaleHitPlayer, false, 100f);

                    target = null;
                },
                () => { return BattleRoyale.serialKiller != null && BattleRoyale.serialKiller == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (BattleRoyale.serialKillerWep == null) {
                        BattleRoyale.serialKillerWep = new GameObject("Weapon");
                        var renderer = BattleRoyale.serialKillerWep.AddComponent<SpriteRenderer>();

                        renderer.sprite = Archer.getBowSprite();
                        renderer.transform.parent = BattleRoyale.serialKiller.transform;
                        renderer.color = new Color(1, 1, 1, 1);
                        renderer.transform.position = new Vector3(0, 0, -30f);
                    }
                    else {

                        if (PlayerInCache.LocalPlayer.Data.IsDead && BattleRoyale.matchType != 2) {
                            BattleRoyale.serialKillerWep.SetActive(false);
                        }

                        Vector3 mouseDirection = Input.mousePosition - new Vector3(Screen.width / 2, Screen.height / 2);
                        BattleRoyale.serialKillermouseAngle = Mathf.Atan2(mouseDirection.y, mouseDirection.x);

                        var targetPosition = BattleRoyale.serialKiller.transform.position + new Vector3(0.8f * (float)Math.Cos(BattleRoyale.serialKillermouseAngle), 0.8f * (float)Math.Sin(BattleRoyale.serialKillermouseAngle));
                        BattleRoyale.serialKillerWep.transform.position += (targetPosition - BattleRoyale.serialKillerWep.transform.position) * 0.4f;
                        BattleRoyale.serialKillerWep.GetComponent<SpriteRenderer>().transform.eulerAngles = new Vector3(0f, 0f, (float)(BattleRoyale.serialKillermouseAngle * 360f / Math.PI / 2f));
                        if (Math.Cos(BattleRoyale.serialKillermouseAngle) < 0.0) {
                            if (BattleRoyale.serialKillerWep.GetComponent<SpriteRenderer>().transform.localScale.y > 0)
                                BattleRoyale.serialKillerWep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, -1f);
                        }
                        else {
                            if (BattleRoyale.serialKillerWep.GetComponent<SpriteRenderer>().transform.localScale.y < 0)
                                BattleRoyale.serialKillerWep.GetComponent<SpriteRenderer>().transform.localScale = new Vector3(1f, 1f);
                        }
                    }
                    bool CanUse = true;
                    if (BattleRoyale.serialKillerIsReviving) {
                        CanUse = false;
                    }
                    bool canSpawnKill = true;
                    foreach (GameObject spawns in BattleRoyale.serialKillerSpawns) {
                        if (spawns != null && BattleRoyale.matchType == 2 && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, spawns.transform.position) < 3f) {
                            canSpawnKill = false;
                        }
                    }
                    return CanUse && canSpawnKill && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead;
                },
                () => { serialKillerKillButton.Timer = serialKillerKillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                 CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Mouse1
            );

            // Monja Festival buttons
            // GreenMonja01 Kill
            greenmonja01KillButton = new CustomButton(
                () => {
                    byte targetId = MonjaFestival.greenPlayer01currentTarget.PlayerId;
                    byte sourceId = MonjaFestival.greenPlayer01.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    greenmonja01KillButton.Timer = greenmonja01KillButton.MaxTimer;
                    MonjaFestival.greenPlayer01currentTarget = null;
                },
                () => { return MonjaFestival.greenPlayer01 != null && MonjaFestival.greenPlayer01 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return MonjaFestival.greenPlayer01currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.greenPlayer01IsReviving && MonjaFestival.greenPlayer01Items == 0; },
                () => { greenmonja01KillButton.Timer = greenmonja01KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // GreenMonja02 Kill
            greenmonja02KillButton = new CustomButton(
                () => {
                    byte targetId = MonjaFestival.greenPlayer02currentTarget.PlayerId;
                    byte sourceId = MonjaFestival.greenPlayer02.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    greenmonja02KillButton.Timer = greenmonja02KillButton.MaxTimer;
                    MonjaFestival.greenPlayer02currentTarget = null;
                },
                () => { return MonjaFestival.greenPlayer02 != null && MonjaFestival.greenPlayer02 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return MonjaFestival.greenPlayer02currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.greenPlayer02IsReviving && MonjaFestival.greenPlayer02Items == 0; },
                () => { greenmonja02KillButton.Timer = greenmonja02KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // GreenMonja03 Kill
            greenmonja03KillButton = new CustomButton(
                () => {
                    byte targetId = MonjaFestival.greenPlayer03currentTarget.PlayerId;
                    byte sourceId = MonjaFestival.greenPlayer03.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    greenmonja03KillButton.Timer = greenmonja03KillButton.MaxTimer;
                    MonjaFestival.greenPlayer03currentTarget = null;
                },
                () => { return MonjaFestival.greenPlayer03 != null && MonjaFestival.greenPlayer03 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return MonjaFestival.greenPlayer03currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.greenPlayer03IsReviving && MonjaFestival.greenPlayer03Items == 0; },
                () => { greenmonja03KillButton.Timer = greenmonja03KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // GreenMonja04 Kill
            greenmonja04KillButton = new CustomButton(
                () => {
                    byte targetId = MonjaFestival.greenPlayer04currentTarget.PlayerId;
                    byte sourceId = MonjaFestival.greenPlayer04.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    greenmonja04KillButton.Timer = greenmonja04KillButton.MaxTimer;
                    MonjaFestival.greenPlayer04currentTarget = null;
                },
                () => { return MonjaFestival.greenPlayer04 != null && MonjaFestival.greenPlayer04 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return MonjaFestival.greenPlayer04currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.greenPlayer04IsReviving && MonjaFestival.greenPlayer04Items == 0; },
                () => { greenmonja04KillButton.Timer = greenmonja04KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // GreenMonja05 Kill
            greenmonja05KillButton = new CustomButton(
                () => {
                    byte targetId = MonjaFestival.greenPlayer05currentTarget.PlayerId;
                    byte sourceId = MonjaFestival.greenPlayer05.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    greenmonja05KillButton.Timer = greenmonja05KillButton.MaxTimer;
                    MonjaFestival.greenPlayer05currentTarget = null;
                },
                () => { return MonjaFestival.greenPlayer05 != null && MonjaFestival.greenPlayer05 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return MonjaFestival.greenPlayer05currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.greenPlayer05IsReviving && MonjaFestival.greenPlayer05Items == 0; },
                () => { greenmonja05KillButton.Timer = greenmonja05KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // GreenMonja06 Kill
            greenmonja06KillButton = new CustomButton(
                () => {
                    byte targetId = MonjaFestival.greenPlayer06currentTarget.PlayerId;
                    byte sourceId = MonjaFestival.greenPlayer06.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    greenmonja06KillButton.Timer = greenmonja06KillButton.MaxTimer;
                    MonjaFestival.greenPlayer06currentTarget = null;
                },
                () => { return MonjaFestival.greenPlayer06 != null && MonjaFestival.greenPlayer06 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return MonjaFestival.greenPlayer06currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.greenPlayer06IsReviving && MonjaFestival.greenPlayer06Items == 0; },
                () => { greenmonja06KillButton.Timer = greenmonja06KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // GreenMonja07 Kill
            greenmonja07KillButton = new CustomButton(
                () => {
                    byte targetId = MonjaFestival.greenPlayer07currentTarget.PlayerId;
                    byte sourceId = MonjaFestival.greenPlayer07.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    greenmonja07KillButton.Timer = greenmonja07KillButton.MaxTimer;
                    MonjaFestival.greenPlayer07currentTarget = null;
                },
                () => { return MonjaFestival.greenPlayer07 != null && MonjaFestival.greenPlayer07 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return MonjaFestival.greenPlayer07currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.greenPlayer07IsReviving && MonjaFestival.greenPlayer07Items == 0; },
                () => { greenmonja07KillButton.Timer = greenmonja07KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // CyanMonja01 Kill
            cyanmonja01KillButton = new CustomButton(
                () => {
                    byte targetId = MonjaFestival.cyanPlayer01currentTarget.PlayerId;
                    byte sourceId = MonjaFestival.cyanPlayer01.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    cyanmonja01KillButton.Timer = cyanmonja01KillButton.MaxTimer;
                    MonjaFestival.cyanPlayer01currentTarget = null;
                },
                () => { return MonjaFestival.cyanPlayer01 != null && MonjaFestival.cyanPlayer01 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return MonjaFestival.cyanPlayer01currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.cyanPlayer01IsReviving && MonjaFestival.cyanPlayer01Items == 0; },
                () => { cyanmonja01KillButton.Timer = cyanmonja01KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // CyanMonja02 Kill
            cyanmonja02KillButton = new CustomButton(
                () => {
                    byte targetId = MonjaFestival.cyanPlayer02currentTarget.PlayerId;
                    byte sourceId = MonjaFestival.cyanPlayer02.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    cyanmonja02KillButton.Timer = cyanmonja02KillButton.MaxTimer;
                    MonjaFestival.cyanPlayer02currentTarget = null;
                },
                () => { return MonjaFestival.cyanPlayer02 != null && MonjaFestival.cyanPlayer02 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return MonjaFestival.cyanPlayer02currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.cyanPlayer02IsReviving && MonjaFestival.cyanPlayer02Items == 0; },
                () => { cyanmonja02KillButton.Timer = cyanmonja02KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // CyanMonja03 Kill
            cyanmonja03KillButton = new CustomButton(
                () => {
                    byte targetId = MonjaFestival.cyanPlayer03currentTarget.PlayerId;
                    byte sourceId = MonjaFestival.cyanPlayer03.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    cyanmonja03KillButton.Timer = cyanmonja03KillButton.MaxTimer;
                    MonjaFestival.cyanPlayer03currentTarget = null;
                },
                () => { return MonjaFestival.cyanPlayer03 != null && MonjaFestival.cyanPlayer03 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return MonjaFestival.cyanPlayer03currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.cyanPlayer03IsReviving && MonjaFestival.cyanPlayer03Items == 0; },
                () => { cyanmonja03KillButton.Timer = cyanmonja03KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // CyanMonja04 Kill
            cyanmonja04KillButton = new CustomButton(
                () => {
                    byte targetId = MonjaFestival.cyanPlayer04currentTarget.PlayerId;
                    byte sourceId = MonjaFestival.cyanPlayer04.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    cyanmonja04KillButton.Timer = cyanmonja04KillButton.MaxTimer;
                    MonjaFestival.cyanPlayer04currentTarget = null;
                },
                () => { return MonjaFestival.cyanPlayer04 != null && MonjaFestival.cyanPlayer04 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return MonjaFestival.cyanPlayer04currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.cyanPlayer04IsReviving && MonjaFestival.cyanPlayer04Items == 0; },
                () => { cyanmonja04KillButton.Timer = cyanmonja04KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // CyanMonja05 Kill
            cyanmonja05KillButton = new CustomButton(
                () => {
                    byte targetId = MonjaFestival.cyanPlayer05currentTarget.PlayerId;
                    byte sourceId = MonjaFestival.cyanPlayer05.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    cyanmonja05KillButton.Timer = cyanmonja05KillButton.MaxTimer;
                    MonjaFestival.cyanPlayer05currentTarget = null;
                },
                () => { return MonjaFestival.cyanPlayer05 != null && MonjaFestival.cyanPlayer05 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return MonjaFestival.cyanPlayer05currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.cyanPlayer05IsReviving && MonjaFestival.cyanPlayer05Items == 0; },
                () => { cyanmonja05KillButton.Timer = cyanmonja05KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // CyanMonja06 Kill
            cyanmonja06KillButton = new CustomButton(
                () => {
                    byte targetId = MonjaFestival.cyanPlayer06currentTarget.PlayerId;
                    byte sourceId = MonjaFestival.cyanPlayer06.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    cyanmonja06KillButton.Timer = cyanmonja06KillButton.MaxTimer;
                    MonjaFestival.cyanPlayer06currentTarget = null;
                },
                () => { return MonjaFestival.cyanPlayer06 != null && MonjaFestival.cyanPlayer06 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return MonjaFestival.cyanPlayer06currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.cyanPlayer06IsReviving && MonjaFestival.cyanPlayer06Items == 0; },
                () => { cyanmonja06KillButton.Timer = cyanmonja06KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // CyanMonja07 Kill
            cyanmonja07KillButton = new CustomButton(
                () => {
                    byte targetId = MonjaFestival.cyanPlayer07currentTarget.PlayerId;
                    byte sourceId = MonjaFestival.cyanPlayer07.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    cyanmonja07KillButton.Timer = cyanmonja07KillButton.MaxTimer;
                    MonjaFestival.cyanPlayer07currentTarget = null;
                },
                () => { return MonjaFestival.cyanPlayer07 != null && MonjaFestival.cyanPlayer07 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return MonjaFestival.cyanPlayer07currentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.cyanPlayer07IsReviving && MonjaFestival.cyanPlayer07Items == 0; },
                () => { cyanmonja07KillButton.Timer = cyanmonja07KillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Big Monja Kill
            bigmonjaKillButton = new CustomButton(
                () => {
                    byte targetId = MonjaFestival.bigMonjaPlayercurrentTarget.PlayerId;
                    byte sourceId = MonjaFestival.bigMonjaPlayer.PlayerId;
                    MessageWriter killWriter = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.GamemodeKills, Hazel.SendOption.Reliable, -1);
                    killWriter.Write(targetId);
                    killWriter.Write(sourceId);
                    AmongUsClient.Instance.FinishRpcImmediately(killWriter);
                    RPCProcedure.gamemodeKills(targetId, sourceId);
                    bigmonjaKillButton.Timer = bigmonjaKillButton.MaxTimer;
                    MonjaFestival.bigMonjaPlayercurrentTarget = null;
                },
                () => { return MonjaFestival.bigMonjaPlayer != null && MonjaFestival.bigMonjaPlayer == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return MonjaFestival.bigMonjaPlayercurrentTarget && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.bigMonjaIsReviving; },
                () => { bigmonjaKillButton.Timer = bigmonjaKillButton.MaxTimer; },
                __instance.KillButton.graphic.sprite,
                CustomButton.ButtonPositions.upperRowRight,
                __instance,
                KeyCode.Q
            );

            // Big Monja invisible
            bigmonjaInvisibleButton = new CustomButton(
                () => {

                    SoundManager.Instance.PlaySound(CustomMain.customAssets.chameleonInvisible, false, 100f);

                    bigmonjaInvisibleButton.EffectDuration = 20f;
                    MessageWriter writer = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalBigMonjaInvisible, Hazel.SendOption.Reliable, -1);
                    AmongUsClient.Instance.FinishRpcImmediately(writer);
                    RPCProcedure.monjaFestivalBigMonjaInvisible();
                },
                () => { return MonjaFestival.bigMonjaPlayer != null && MonjaFestival.bigMonjaPlayer == PlayerInCache.LocalPlayer.PlayerControl; },
                () => { return PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead; },
                () => {},
                Stranded.getInvisibleButtonSprite(),
                CustomButton.ButtonPositions.upperRowCenter,
                __instance,
                KeyCode.T,
                true,
                0f,
                () => {
                    bigmonjaInvisibleButton.Timer = bigmonjaInvisibleButton.MaxTimer;
                }
            );

            // Green Monja 01 find deliver button
            greenmonja01PickDeliverButton = new CustomButton(
                () => {
                    
                    greenmonja01PickDeliverButton.HasEffect = true;
                    MonjaFestival.greenmonja01selectedSpawn = MonjaFestival.greenmonja01currentSpawn;

                },
                () => { return MonjaFestival.greenPlayer01 != null && MonjaFestival.greenPlayer01 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (MonjaFestival.localArrows.Count != 0) {
                        MonjaFestival.localArrows[0].Update(MonjaFestival.greenTeamBase.transform.position);
                    }
                    
                    if (MonjaFestival.greenPlayer01Items == 3) {
                        greenmonja01PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreenDeliverButtonSprite();
                    }
                    else if (MonjaFestival.greenPlayer01Items > 0 && MonjaFestival.greenPlayer01Items < 3) {
                        greenmonja01PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreenPickDeliverButtonSprite();
                    }
                    else {
                        greenmonja01PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreenPickButtonSprite();
                    }

                    if (greenmonja01PickDeliverButton.isEffectActive && MonjaFestival.greenmonja01selectedSpawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, MonjaFestival.greenmonja01selectedSpawn.transform.position) > 0.75f) {
                        MonjaFestival.greenmonja01selectedSpawn = null;
                        greenmonja01PickDeliverButton.Timer = 0f;
                        greenmonja01PickDeliverButton.isEffectActive = false;
                    }

                    bool CanUse = false;
                    if (MonjaFestival.bigMonjaSpawns.Count != 0) {
                        foreach (GameObject spawn in MonjaFestival.bigMonjaSpawns) {
                            if (spawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, spawn.transform.position) < 0.75f) {
                                MonjaFestival.greenmonja01currentSpawn = spawn;
                                CanUse = true;
                                if (spawn.name.StartsWith("littleMonja")) {
                                    CanUse = MonjaFestival.greenPlayer01Items < 3;
                                    MonjaFestival.greenmonja01foundspawn = 8;
                                } else {
                                    switch (spawn.name) {
                                        case "bigSpawnOne":
                                            CanUse = MonjaFestival.bigSpawnOnePoints > 0 && MonjaFestival.greenPlayer01Items < 3;
                                            MonjaFestival.greenmonja01foundspawn = 1;
                                            break;
                                        case "bigSpawnTwo":
                                            CanUse = MonjaFestival.bigSpawnTwoPoints > 0 && MonjaFestival.greenPlayer01Items < 3;
                                            MonjaFestival.greenmonja01foundspawn = 2;
                                            break;
                                        case "littleSpawnOne":
                                            CanUse = MonjaFestival.littleSpawnOnePoints > 0 && MonjaFestival.greenPlayer01Items < 3;
                                            MonjaFestival.greenmonja01foundspawn = 3;
                                            break;
                                        case "littleSpawnTwo":
                                            CanUse = MonjaFestival.littleSpawnTwoPoints > 0 && MonjaFestival.greenPlayer01Items < 3;
                                            MonjaFestival.greenmonja01foundspawn = 4;
                                            break;
                                        case "littleSpawnThree":
                                            CanUse = MonjaFestival.littleSpawnThreePoints > 0 && MonjaFestival.greenPlayer01Items < 3;
                                            MonjaFestival.greenmonja01foundspawn = 5;
                                            break;
                                        case "littleSpawnFour":
                                            CanUse = MonjaFestival.littleSpawnFourPoints > 0 && MonjaFestival.greenPlayer01Items < 3;
                                            MonjaFestival.greenmonja01foundspawn = 6;
                                            break;
                                        case "greenBase":
                                            CanUse = MonjaFestival.greenPlayer01Items > 0;
                                            MonjaFestival.greenmonja01foundspawn = 7;
                                            break;
                                        case "cyanBase":
                                            CanUse = false;
                                            break;
                                        case "greyBase":
                                            CanUse = false;
                                            break;
                                        case "allulMonja":
                                            CanUse = MonjaFestival.allulMonja.activeSelf;
                                            MonjaFestival.greenmonja01foundspawn = 9;
                                            break;
                                    }
                                }
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.greenPlayer01IsReviving;
                },
                () => { greenmonja01PickDeliverButton.Timer = greenmonja01PickDeliverButton.MaxTimer; },
                MonjaFestival.getgreenPickButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                3f,
                () => {
                    if (!MonjaFestival.greenPlayer01.Data.IsDead) {
                        MessageWriter findSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalFindSpawns, Hazel.SendOption.Reliable, -1);
                        MessageWriter checkSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalCheckItems, Hazel.SendOption.Reliable, -1);
                        switch (MonjaFestival.greenmonja01foundspawn) {
                            case 1: // Big Spawn one
                                findSpawn.Write(1);
                                checkSpawn.Write(1);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(1);
                                RPCProcedure.monjaFestivalCheckItems(1);
                                break;
                            case 2: // Big Spawn two
                                findSpawn.Write(2);
                                checkSpawn.Write(1);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(2);
                                RPCProcedure.monjaFestivalCheckItems(1);
                                break;
                            case 3: // Little spawn one
                                findSpawn.Write(3);
                                checkSpawn.Write(1);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(3);
                                RPCProcedure.monjaFestivalCheckItems(1);
                                break;
                            case 4: // Little spawn two
                                findSpawn.Write(4);
                                checkSpawn.Write(1);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(4);
                                RPCProcedure.monjaFestivalCheckItems(1);
                                break;
                            case 5: // Little spawn three
                                findSpawn.Write(5);
                                checkSpawn.Write(1);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(5);
                                RPCProcedure.monjaFestivalCheckItems(1);
                                break;
                            case 6: // Little spawn four
                                findSpawn.Write(6);
                                checkSpawn.Write(1);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(6);
                                RPCProcedure.monjaFestivalCheckItems(1);
                                break;
                            case 7: // Green base
                                checkSpawn.Write(21);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(21);
                                MessageWriter delivertoSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                delivertoSpawn.Write(1);
                                AmongUsClient.Instance.FinishRpcImmediately(delivertoSpawn);
                                RPCProcedure.monjaFestivalDeliver(1);
                                break;
                            case 8: // Little Monja
                                checkSpawn.Write(1);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(1);
                                MessageWriter destroyLittleMonja = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDestroyLittleMonja, Hazel.SendOption.Reliable, -1);
                                destroyLittleMonja.Write(MonjaFestival.greenmonja01currentSpawn.name);
                                AmongUsClient.Instance.FinishRpcImmediately(destroyLittleMonja);
                                RPCProcedure.monjaFestivalDestroyLittleMonja(MonjaFestival.greenmonja01currentSpawn.name); 
                                break;
                            case 9: // Allul Monja
                                MessageWriter deliverAllul = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                deliverAllul.Write(4);
                                AmongUsClient.Instance.FinishRpcImmediately(deliverAllul);
                                RPCProcedure.monjaFestivalDeliver(4);
                                break;
                        }
                    }
                    greenmonja01PickDeliverButton.Timer = greenmonja01PickDeliverButton.MaxTimer;
                }
            );

            // Green Monja 01 button counter
            MonjaFestival.greenmonja01DeliverCount = GameObject.Instantiate(greenmonja01PickDeliverButton.actionButton.cooldownTimerText, greenmonja01PickDeliverButton.actionButton.cooldownTimerText.transform.parent);
            MonjaFestival.greenmonja01DeliverCount.enableWordWrapping = false;
            MonjaFestival.greenmonja01DeliverCount.transform.localScale = Vector3.one * 0.5f;
            MonjaFestival.greenmonja01DeliverCount.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Green Monja 02 find deliver button
            greenmonja02PickDeliverButton = new CustomButton(
                () => {

                    greenmonja02PickDeliverButton.HasEffect = true;
                    MonjaFestival.greenmonja02selectedSpawn = MonjaFestival.greenmonja02currentSpawn;

                },
                () => { return MonjaFestival.greenPlayer02 != null && MonjaFestival.greenPlayer02 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (MonjaFestival.localArrows.Count != 0) {
                        MonjaFestival.localArrows[0].Update(MonjaFestival.greenTeamBase.transform.position);
                    }

                    if (MonjaFestival.greenPlayer02Items == 3) {
                        greenmonja02PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreenDeliverButtonSprite();
                    }
                    else if (MonjaFestival.greenPlayer02Items > 0 && MonjaFestival.greenPlayer02Items < 3) {
                        greenmonja02PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreenPickDeliverButtonSprite();
                    }
                    else {
                        greenmonja02PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreenPickButtonSprite();
                    }

                    if (greenmonja02PickDeliverButton.isEffectActive && MonjaFestival.greenmonja02selectedSpawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, MonjaFestival.greenmonja02selectedSpawn.transform.position) > 0.75f) {
                        MonjaFestival.greenmonja02selectedSpawn = null;
                        greenmonja02PickDeliverButton.Timer = 0f;
                        greenmonja02PickDeliverButton.isEffectActive = false;
                    }

                    bool CanUse = false;
                    if (MonjaFestival.bigMonjaSpawns.Count != 0) {
                        foreach (GameObject spawn in MonjaFestival.bigMonjaSpawns) {
                            if (spawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, spawn.transform.position) < 0.75f) {
                                MonjaFestival.greenmonja02currentSpawn = spawn;
                                CanUse = true;
                                if (spawn.name.StartsWith("littleMonja")) {
                                    CanUse = MonjaFestival.greenPlayer02Items < 3;
                                    MonjaFestival.greenmonja02foundspawn = 8;
                                }
                                else {
                                    switch (spawn.name) {
                                        case "bigSpawnOne":
                                            CanUse = MonjaFestival.bigSpawnOnePoints > 0 && MonjaFestival.greenPlayer02Items < 3;
                                            MonjaFestival.greenmonja02foundspawn = 1;
                                            break;
                                        case "bigSpawnTwo":
                                            CanUse = MonjaFestival.bigSpawnTwoPoints > 0 && MonjaFestival.greenPlayer02Items < 3;
                                            MonjaFestival.greenmonja02foundspawn = 2;
                                            break;
                                        case "littleSpawnOne":
                                            CanUse = MonjaFestival.littleSpawnOnePoints > 0 && MonjaFestival.greenPlayer02Items < 3;
                                            MonjaFestival.greenmonja02foundspawn = 3;
                                            break;
                                        case "littleSpawnTwo":
                                            CanUse = MonjaFestival.littleSpawnTwoPoints > 0 && MonjaFestival.greenPlayer02Items < 3;
                                            MonjaFestival.greenmonja02foundspawn = 4;
                                            break;
                                        case "littleSpawnThree":
                                            CanUse = MonjaFestival.littleSpawnThreePoints > 0 && MonjaFestival.greenPlayer02Items < 3;
                                            MonjaFestival.greenmonja02foundspawn = 5;
                                            break;
                                        case "littleSpawnFour":
                                            CanUse = MonjaFestival.littleSpawnFourPoints > 0 && MonjaFestival.greenPlayer02Items < 3;
                                            MonjaFestival.greenmonja02foundspawn = 6;
                                            break;
                                        case "greenBase":
                                            CanUse = MonjaFestival.greenPlayer02Items > 0;
                                            MonjaFestival.greenmonja02foundspawn = 7;
                                            break;
                                        case "cyanBase":
                                            CanUse = false;
                                            break;
                                        case "greyBase":
                                            CanUse = false;
                                            break;
                                        case "allulMonja":
                                            CanUse = MonjaFestival.allulMonja.activeSelf;
                                            MonjaFestival.greenmonja02foundspawn = 9;
                                            break;
                                    }
                                }
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.greenPlayer02IsReviving;
                },
                () => { greenmonja02PickDeliverButton.Timer = greenmonja02PickDeliverButton.MaxTimer; },
                MonjaFestival.getgreenPickButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                3f,
                () => {
                    if (!MonjaFestival.greenPlayer02.Data.IsDead) {
                        MessageWriter findSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalFindSpawns, Hazel.SendOption.Reliable, -1);
                        MessageWriter checkSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalCheckItems, Hazel.SendOption.Reliable, -1);
                        switch (MonjaFestival.greenmonja02foundspawn) {
                            case 1: // Big Spawn one
                                findSpawn.Write(1);
                                checkSpawn.Write(2);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(1);
                                RPCProcedure.monjaFestivalCheckItems(2);
                                break;
                            case 2: // Big Spawn two
                                findSpawn.Write(2);
                                checkSpawn.Write(2);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(2);
                                RPCProcedure.monjaFestivalCheckItems(2);
                                break;
                            case 3: // Little spawn one
                                findSpawn.Write(3);
                                checkSpawn.Write(2);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(3);
                                RPCProcedure.monjaFestivalCheckItems(2);
                                break;
                            case 4: // Little spawn two
                                findSpawn.Write(4);
                                checkSpawn.Write(2);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(4);
                                RPCProcedure.monjaFestivalCheckItems(2);
                                break;
                            case 5: // Little spawn three
                                findSpawn.Write(5);
                                checkSpawn.Write(2);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(5);
                                RPCProcedure.monjaFestivalCheckItems(2);
                                break;
                            case 6: // Little spawn four
                                findSpawn.Write(6);
                                checkSpawn.Write(2);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(6);
                                RPCProcedure.monjaFestivalCheckItems(2);
                                break;
                            case 7: // Green base
                                checkSpawn.Write(22);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(22); 
                                MessageWriter delivertoSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                delivertoSpawn.Write(1);
                                AmongUsClient.Instance.FinishRpcImmediately(delivertoSpawn);
                                RPCProcedure.monjaFestivalDeliver(1);
                                break;
                            case 8: // Little Monja
                                checkSpawn.Write(2);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(2);
                                MessageWriter destroyLittleMonja = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDestroyLittleMonja, Hazel.SendOption.Reliable, -1);
                                destroyLittleMonja.Write(MonjaFestival.greenmonja02currentSpawn.name);
                                AmongUsClient.Instance.FinishRpcImmediately(destroyLittleMonja);
                                RPCProcedure.monjaFestivalDestroyLittleMonja(MonjaFestival.greenmonja02currentSpawn.name);
                                break;
                            case 9: // Allul Monja
                                MessageWriter deliverAllul = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                deliverAllul.Write(4);
                                AmongUsClient.Instance.FinishRpcImmediately(deliverAllul);
                                RPCProcedure.monjaFestivalDeliver(4);
                                break;
                        }
                    }
                    greenmonja02PickDeliverButton.Timer = greenmonja02PickDeliverButton.MaxTimer;
                }
            );

            // Green Monja 02 button counter
            MonjaFestival.greenmonja02DeliverCount = GameObject.Instantiate(greenmonja02PickDeliverButton.actionButton.cooldownTimerText, greenmonja02PickDeliverButton.actionButton.cooldownTimerText.transform.parent);
            MonjaFestival.greenmonja02DeliverCount.enableWordWrapping = false;
            MonjaFestival.greenmonja02DeliverCount.transform.localScale = Vector3.one * 0.5f;
            MonjaFestival.greenmonja02DeliverCount.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Green Monja 03 find deliver button
            greenmonja03PickDeliverButton = new CustomButton(
                () => {

                    greenmonja03PickDeliverButton.HasEffect = true;
                    MonjaFestival.greenmonja03selectedSpawn = MonjaFestival.greenmonja03currentSpawn;

                },
                () => { return MonjaFestival.greenPlayer03 != null && MonjaFestival.greenPlayer03 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (MonjaFestival.localArrows.Count != 0) {
                        MonjaFestival.localArrows[0].Update(MonjaFestival.greenTeamBase.transform.position);
                    }

                    if (MonjaFestival.greenPlayer03Items == 3) {
                        greenmonja03PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreenDeliverButtonSprite();
                    }
                    else if (MonjaFestival.greenPlayer03Items > 0 && MonjaFestival.greenPlayer03Items < 3) {
                        greenmonja03PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreenPickDeliverButtonSprite();
                    }
                    else {
                        greenmonja03PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreenPickButtonSprite();
                    }

                    if (greenmonja03PickDeliverButton.isEffectActive && MonjaFestival.greenmonja03selectedSpawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, MonjaFestival.greenmonja03selectedSpawn.transform.position) > 0.75f) {
                        MonjaFestival.greenmonja03selectedSpawn = null;
                        greenmonja03PickDeliverButton.Timer = 0f;
                        greenmonja03PickDeliverButton.isEffectActive = false;
                    }

                    bool CanUse = false;
                    if (MonjaFestival.bigMonjaSpawns.Count != 0) {
                        foreach (GameObject spawn in MonjaFestival.bigMonjaSpawns) {
                            if (spawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, spawn.transform.position) < 0.75f) {
                                MonjaFestival.greenmonja03currentSpawn = spawn;
                                CanUse = true;
                                if (spawn.name.StartsWith("littleMonja")) {
                                    CanUse = MonjaFestival.greenPlayer03Items < 3;
                                    MonjaFestival.greenmonja03foundspawn = 8;
                                }
                                else {
                                    switch (spawn.name) {
                                        case "bigSpawnOne":
                                            CanUse = MonjaFestival.bigSpawnOnePoints > 0 && MonjaFestival.greenPlayer03Items < 3;
                                            MonjaFestival.greenmonja03foundspawn = 1;
                                            break;
                                        case "bigSpawnTwo":
                                            CanUse = MonjaFestival.bigSpawnTwoPoints > 0 && MonjaFestival.greenPlayer03Items < 3;
                                            MonjaFestival.greenmonja03foundspawn = 2;
                                            break;
                                        case "littleSpawnOne":
                                            CanUse = MonjaFestival.littleSpawnOnePoints > 0 && MonjaFestival.greenPlayer03Items < 3;
                                            MonjaFestival.greenmonja03foundspawn = 3;
                                            break;
                                        case "littleSpawnTwo":
                                            CanUse = MonjaFestival.littleSpawnTwoPoints > 0 && MonjaFestival.greenPlayer03Items < 3;
                                            MonjaFestival.greenmonja03foundspawn = 4;
                                            break;
                                        case "littleSpawnThree":
                                            CanUse = MonjaFestival.littleSpawnThreePoints > 0 && MonjaFestival.greenPlayer03Items < 3;
                                            MonjaFestival.greenmonja03foundspawn = 5;
                                            break;
                                        case "littleSpawnFour":
                                            CanUse = MonjaFestival.littleSpawnFourPoints > 0 && MonjaFestival.greenPlayer03Items < 3;
                                            MonjaFestival.greenmonja03foundspawn = 6;
                                            break;
                                        case "greenBase":
                                            CanUse = MonjaFestival.greenPlayer03Items > 0;
                                            MonjaFestival.greenmonja03foundspawn = 7;
                                            break;
                                        case "cyanBase":
                                            CanUse = false;
                                            break;
                                        case "greyBase":
                                            CanUse = false;
                                            break;
                                        case "allulMonja":
                                            CanUse = MonjaFestival.allulMonja.activeSelf;
                                            MonjaFestival.greenmonja03foundspawn = 9;
                                            break;
                                    }
                                }
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.greenPlayer03IsReviving;
                },
                () => { greenmonja03PickDeliverButton.Timer = greenmonja03PickDeliverButton.MaxTimer; },
                MonjaFestival.getgreenPickButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                3f,
                () => {
                    if (!MonjaFestival.greenPlayer03.Data.IsDead) {
                        MessageWriter findSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalFindSpawns, Hazel.SendOption.Reliable, -1);
                        MessageWriter checkSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalCheckItems, Hazel.SendOption.Reliable, -1);
                        switch (MonjaFestival.greenmonja03foundspawn) {
                            case 1: // Big Spawn one
                                findSpawn.Write(1);
                                checkSpawn.Write(3);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(1);
                                RPCProcedure.monjaFestivalCheckItems(3);
                                break;
                            case 2: // Big Spawn two
                                findSpawn.Write(2);
                                checkSpawn.Write(3);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(2);
                                RPCProcedure.monjaFestivalCheckItems(3);
                                break;
                            case 3: // Little spawn one
                                findSpawn.Write(3);
                                checkSpawn.Write(3);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(3);
                                RPCProcedure.monjaFestivalCheckItems(3);
                                break;
                            case 4: // Little spawn two
                                findSpawn.Write(4);
                                checkSpawn.Write(3);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(4);
                                RPCProcedure.monjaFestivalCheckItems(3);
                                break;
                            case 5: // Little spawn three
                                findSpawn.Write(5);
                                checkSpawn.Write(3);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(5);
                                RPCProcedure.monjaFestivalCheckItems(3);
                                break;
                            case 6: // Little spawn four
                                findSpawn.Write(6);
                                checkSpawn.Write(3);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(6);
                                RPCProcedure.monjaFestivalCheckItems(3);
                                break;
                            case 7: // Green base
                                checkSpawn.Write(23);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(23); 
                                MessageWriter delivertoSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                delivertoSpawn.Write(1);
                                AmongUsClient.Instance.FinishRpcImmediately(delivertoSpawn);
                                RPCProcedure.monjaFestivalDeliver(1);
                                break;
                            case 8: // Little Monja
                                checkSpawn.Write(3);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(3);
                                MessageWriter destroyLittleMonja = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDestroyLittleMonja, Hazel.SendOption.Reliable, -1);
                                destroyLittleMonja.Write(MonjaFestival.greenmonja03currentSpawn.name);
                                AmongUsClient.Instance.FinishRpcImmediately(destroyLittleMonja);
                                RPCProcedure.monjaFestivalDestroyLittleMonja(MonjaFestival.greenmonja03currentSpawn.name); 
                                break;
                            case 9: // Allul Monja
                                MessageWriter deliverAllul = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                deliverAllul.Write(4);
                                AmongUsClient.Instance.FinishRpcImmediately(deliverAllul);
                                RPCProcedure.monjaFestivalDeliver(4);
                                break;
                        }
                    }
                    greenmonja03PickDeliverButton.Timer = greenmonja03PickDeliverButton.MaxTimer;
                }
            );

            // Green Monja 03 button counter
            MonjaFestival.greenmonja03DeliverCount = GameObject.Instantiate(greenmonja03PickDeliverButton.actionButton.cooldownTimerText, greenmonja03PickDeliverButton.actionButton.cooldownTimerText.transform.parent);
            MonjaFestival.greenmonja03DeliverCount.enableWordWrapping = false;
            MonjaFestival.greenmonja03DeliverCount.transform.localScale = Vector3.one * 0.5f;
            MonjaFestival.greenmonja03DeliverCount.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Green Monja 04 find deliver button
            greenmonja04PickDeliverButton = new CustomButton(
                () => {

                    greenmonja04PickDeliverButton.HasEffect = true;
                    MonjaFestival.greenmonja04selectedSpawn = MonjaFestival.greenmonja04currentSpawn;

                },
                () => { return MonjaFestival.greenPlayer04 != null && MonjaFestival.greenPlayer04 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (MonjaFestival.localArrows.Count != 0) {
                        MonjaFestival.localArrows[0].Update(MonjaFestival.greenTeamBase.transform.position);
                    }

                    if (MonjaFestival.greenPlayer04Items == 3) {
                        greenmonja04PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreenDeliverButtonSprite();
                    }
                    else if (MonjaFestival.greenPlayer04Items > 0 && MonjaFestival.greenPlayer04Items < 3) {
                        greenmonja04PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreenPickDeliverButtonSprite();
                    }
                    else {
                        greenmonja04PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreenPickButtonSprite();
                    }

                    if (greenmonja04PickDeliverButton.isEffectActive && MonjaFestival.greenmonja04selectedSpawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, MonjaFestival.greenmonja04selectedSpawn.transform.position) > 0.75f) {
                        MonjaFestival.greenmonja04selectedSpawn = null;
                        greenmonja04PickDeliverButton.Timer = 0f;
                        greenmonja04PickDeliverButton.isEffectActive = false;
                    }

                    bool CanUse = false;
                    if (MonjaFestival.bigMonjaSpawns.Count != 0) {
                        foreach (GameObject spawn in MonjaFestival.bigMonjaSpawns) {
                            if (spawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, spawn.transform.position) < 0.75f) {
                                MonjaFestival.greenmonja04currentSpawn = spawn;
                                CanUse = true;
                                if (spawn.name.StartsWith("littleMonja")) {
                                    CanUse = MonjaFestival.greenPlayer04Items < 3;
                                    MonjaFestival.greenmonja04foundspawn = 8;
                                }
                                else {
                                    switch (spawn.name) {
                                        case "bigSpawnOne":
                                            CanUse = MonjaFestival.bigSpawnOnePoints > 0 && MonjaFestival.greenPlayer04Items < 3;
                                            MonjaFestival.greenmonja04foundspawn = 1;
                                            break;
                                        case "bigSpawnTwo":
                                            CanUse = MonjaFestival.bigSpawnTwoPoints > 0 && MonjaFestival.greenPlayer04Items < 3;
                                            MonjaFestival.greenmonja04foundspawn = 2;
                                            break;
                                        case "littleSpawnOne":
                                            CanUse = MonjaFestival.littleSpawnOnePoints > 0 && MonjaFestival.greenPlayer04Items < 3;
                                            MonjaFestival.greenmonja04foundspawn = 3;
                                            break;
                                        case "littleSpawnTwo":
                                            CanUse = MonjaFestival.littleSpawnTwoPoints > 0 && MonjaFestival.greenPlayer04Items < 3;
                                            MonjaFestival.greenmonja04foundspawn = 4;
                                            break;
                                        case "littleSpawnThree":
                                            CanUse = MonjaFestival.littleSpawnThreePoints > 0 && MonjaFestival.greenPlayer04Items < 3;
                                            MonjaFestival.greenmonja04foundspawn = 5;
                                            break;
                                        case "littleSpawnFour":
                                            CanUse = MonjaFestival.littleSpawnFourPoints > 0 && MonjaFestival.greenPlayer04Items < 3;
                                            MonjaFestival.greenmonja04foundspawn = 6;
                                            break;
                                        case "greenBase":
                                            CanUse = MonjaFestival.greenPlayer04Items > 0;
                                            MonjaFestival.greenmonja04foundspawn = 7;
                                            break;
                                        case "cyanBase":
                                            CanUse = false;
                                            break;
                                        case "greyBase":
                                            CanUse = false;
                                            break;
                                        case "allulMonja":
                                            CanUse = MonjaFestival.allulMonja.activeSelf;
                                            MonjaFestival.greenmonja04foundspawn = 9;
                                            break;
                                    }
                                }
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.greenPlayer04IsReviving;
                },
                () => { greenmonja04PickDeliverButton.Timer = greenmonja04PickDeliverButton.MaxTimer; },
                MonjaFestival.getgreenPickButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                3f,
                () => {
                    if (!MonjaFestival.greenPlayer04.Data.IsDead) {
                        MessageWriter findSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalFindSpawns, Hazel.SendOption.Reliable, -1);
                        MessageWriter checkSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalCheckItems, Hazel.SendOption.Reliable, -1);
                        switch (MonjaFestival.greenmonja04foundspawn) {
                            case 1: // Big Spawn one
                                findSpawn.Write(1);
                                checkSpawn.Write(4);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(1);
                                RPCProcedure.monjaFestivalCheckItems(4);
                                break;
                            case 2: // Big Spawn two
                                findSpawn.Write(2);
                                checkSpawn.Write(4);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(2);
                                RPCProcedure.monjaFestivalCheckItems(4);
                                break;
                            case 3: // Little spawn one
                                findSpawn.Write(3);
                                checkSpawn.Write(4);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(3);
                                RPCProcedure.monjaFestivalCheckItems(4);
                                break;
                            case 4: // Little spawn two
                                findSpawn.Write(4);
                                checkSpawn.Write(4);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(4);
                                RPCProcedure.monjaFestivalCheckItems(4);
                                break;
                            case 5: // Little spawn three
                                findSpawn.Write(5);
                                checkSpawn.Write(4);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(5);
                                RPCProcedure.monjaFestivalCheckItems(4);
                                break;
                            case 6: // Little spawn four
                                findSpawn.Write(6);
                                checkSpawn.Write(4);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(6);
                                RPCProcedure.monjaFestivalCheckItems(4);
                                break;
                            case 7: // Green base
                                checkSpawn.Write(24);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(24); 
                                MessageWriter delivertoSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                delivertoSpawn.Write(1);
                                AmongUsClient.Instance.FinishRpcImmediately(delivertoSpawn);
                                RPCProcedure.monjaFestivalDeliver(1);
                                break;
                            case 8: // Little Monja
                                checkSpawn.Write(4);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(4);
                                MessageWriter destroyLittleMonja = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDestroyLittleMonja, Hazel.SendOption.Reliable, -1);
                                destroyLittleMonja.Write(MonjaFestival.greenmonja04currentSpawn.name);
                                AmongUsClient.Instance.FinishRpcImmediately(destroyLittleMonja);
                                RPCProcedure.monjaFestivalDestroyLittleMonja(MonjaFestival.greenmonja04currentSpawn.name);
                                break;
                            case 9: // Allul Monja
                                MessageWriter deliverAllul = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                deliverAllul.Write(4);
                                AmongUsClient.Instance.FinishRpcImmediately(deliverAllul);
                                RPCProcedure.monjaFestivalDeliver(4);
                                break;
                        }
                    }
                    greenmonja04PickDeliverButton.Timer = greenmonja04PickDeliverButton.MaxTimer;
                }
            );

            // Green Monja 04 button counter
            MonjaFestival.greenmonja04DeliverCount = GameObject.Instantiate(greenmonja04PickDeliverButton.actionButton.cooldownTimerText, greenmonja04PickDeliverButton.actionButton.cooldownTimerText.transform.parent);
            MonjaFestival.greenmonja04DeliverCount.enableWordWrapping = false;
            MonjaFestival.greenmonja04DeliverCount.transform.localScale = Vector3.one * 0.5f;
            MonjaFestival.greenmonja04DeliverCount.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Green Monja 05 find deliver button
            greenmonja05PickDeliverButton = new CustomButton(
                () => {

                    greenmonja05PickDeliverButton.HasEffect = true;
                    MonjaFestival.greenmonja05selectedSpawn = MonjaFestival.greenmonja05currentSpawn;

                },
                () => { return MonjaFestival.greenPlayer05 != null && MonjaFestival.greenPlayer05 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (MonjaFestival.localArrows.Count != 0) {
                        MonjaFestival.localArrows[0].Update(MonjaFestival.greenTeamBase.transform.position);
                    }

                    if (MonjaFestival.greenPlayer05Items == 3) {
                        greenmonja05PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreenDeliverButtonSprite();
                    }
                    else if (MonjaFestival.greenPlayer05Items > 0 && MonjaFestival.greenPlayer05Items < 3) {
                        greenmonja05PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreenPickDeliverButtonSprite();
                    }
                    else {
                        greenmonja05PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreenPickButtonSprite();
                    }

                    if (greenmonja05PickDeliverButton.isEffectActive && MonjaFestival.greenmonja05selectedSpawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, MonjaFestival.greenmonja05selectedSpawn.transform.position) > 0.75f) {
                        MonjaFestival.greenmonja05selectedSpawn = null;
                        greenmonja05PickDeliverButton.Timer = 0f;
                        greenmonja05PickDeliverButton.isEffectActive = false;
                    }

                    bool CanUse = false;
                    if (MonjaFestival.bigMonjaSpawns.Count != 0) {
                        foreach (GameObject spawn in MonjaFestival.bigMonjaSpawns) {
                            if (spawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, spawn.transform.position) < 0.75f) {
                                MonjaFestival.greenmonja05currentSpawn = spawn;
                                CanUse = true;
                                if (spawn.name.StartsWith("littleMonja")) {
                                    CanUse = MonjaFestival.greenPlayer05Items < 3;
                                    MonjaFestival.greenmonja05foundspawn = 8;
                                }
                                else {
                                    switch (spawn.name) {
                                        case "bigSpawnOne":
                                            CanUse = MonjaFestival.bigSpawnOnePoints > 0 && MonjaFestival.greenPlayer05Items < 3;
                                            MonjaFestival.greenmonja05foundspawn = 1;
                                            break;
                                        case "bigSpawnTwo":
                                            CanUse = MonjaFestival.bigSpawnTwoPoints > 0 && MonjaFestival.greenPlayer05Items < 3;
                                            MonjaFestival.greenmonja05foundspawn = 2;
                                            break;
                                        case "littleSpawnOne":
                                            CanUse = MonjaFestival.littleSpawnOnePoints > 0 && MonjaFestival.greenPlayer05Items < 3;
                                            MonjaFestival.greenmonja05foundspawn = 3;
                                            break;
                                        case "littleSpawnTwo":
                                            CanUse = MonjaFestival.littleSpawnTwoPoints > 0 && MonjaFestival.greenPlayer05Items < 3;
                                            MonjaFestival.greenmonja05foundspawn = 4;
                                            break;
                                        case "littleSpawnThree":
                                            CanUse = MonjaFestival.littleSpawnThreePoints > 0 && MonjaFestival.greenPlayer05Items < 3;
                                            MonjaFestival.greenmonja05foundspawn = 5;
                                            break;
                                        case "littleSpawnFour":
                                            CanUse = MonjaFestival.littleSpawnFourPoints > 0 && MonjaFestival.greenPlayer05Items < 3;
                                            MonjaFestival.greenmonja05foundspawn = 6;
                                            break;
                                        case "greenBase":
                                            CanUse = MonjaFestival.greenPlayer05Items > 0;
                                            MonjaFestival.greenmonja05foundspawn = 7;
                                            break;
                                        case "cyanBase":
                                            CanUse = false;
                                            break;
                                        case "greyBase":
                                            CanUse = false;
                                            break;
                                        case "allulMonja":
                                            CanUse = MonjaFestival.allulMonja.activeSelf;
                                            MonjaFestival.greenmonja05foundspawn = 9;
                                            break;
                                    }
                                }
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.greenPlayer05IsReviving;
                },
                () => { greenmonja05PickDeliverButton.Timer = greenmonja05PickDeliverButton.MaxTimer; },
                MonjaFestival.getgreenPickButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                3f,
                () => {
                    if (!MonjaFestival.greenPlayer05.Data.IsDead) {
                        MessageWriter findSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalFindSpawns, Hazel.SendOption.Reliable, -1);
                        MessageWriter checkSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalCheckItems, Hazel.SendOption.Reliable, -1);
                        switch (MonjaFestival.greenmonja05foundspawn) {
                            case 1: // Big Spawn one
                                findSpawn.Write(1);
                                checkSpawn.Write(5);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(1);
                                RPCProcedure.monjaFestivalCheckItems(5);
                                break;
                            case 2: // Big Spawn two
                                findSpawn.Write(2);
                                checkSpawn.Write(2);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(2);
                                RPCProcedure.monjaFestivalCheckItems(2);
                                break;
                            case 3: // Little spawn one
                                findSpawn.Write(3);
                                checkSpawn.Write(5);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(3);
                                RPCProcedure.monjaFestivalCheckItems(5);
                                break;
                            case 4: // Little spawn two
                                findSpawn.Write(4);
                                checkSpawn.Write(5);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(4);
                                RPCProcedure.monjaFestivalCheckItems(5);
                                break;
                            case 5: // Little spawn three
                                findSpawn.Write(5);
                                checkSpawn.Write(5);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(5);
                                RPCProcedure.monjaFestivalCheckItems(5);
                                break;
                            case 6: // Little spawn four
                                findSpawn.Write(6);
                                checkSpawn.Write(5);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(6);
                                RPCProcedure.monjaFestivalCheckItems(5);
                                break;
                            case 7: // Green base
                                checkSpawn.Write(25);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(25); 
                                MessageWriter delivertoSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                delivertoSpawn.Write(1);
                                AmongUsClient.Instance.FinishRpcImmediately(delivertoSpawn);
                                RPCProcedure.monjaFestivalDeliver(1);
                                break;
                            case 8: // Little Monja
                                checkSpawn.Write(5);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(5);
                                MessageWriter destroyLittleMonja = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDestroyLittleMonja, Hazel.SendOption.Reliable, -1);
                                destroyLittleMonja.Write(MonjaFestival.greenmonja05currentSpawn.name);
                                AmongUsClient.Instance.FinishRpcImmediately(destroyLittleMonja);
                                RPCProcedure.monjaFestivalDestroyLittleMonja(MonjaFestival.greenmonja05currentSpawn.name);
                                break;
                            case 9: // Allul Monja
                                MessageWriter deliverAllul = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                deliverAllul.Write(4);
                                AmongUsClient.Instance.FinishRpcImmediately(deliverAllul);
                                RPCProcedure.monjaFestivalDeliver(4);
                                break;
                        }
                    }
                    greenmonja05PickDeliverButton.Timer = greenmonja05PickDeliverButton.MaxTimer;
                }
            );

            // Green Monja 05 button counter
            MonjaFestival.greenmonja05DeliverCount = GameObject.Instantiate(greenmonja05PickDeliverButton.actionButton.cooldownTimerText, greenmonja05PickDeliverButton.actionButton.cooldownTimerText.transform.parent);
            MonjaFestival.greenmonja05DeliverCount.enableWordWrapping = false;
            MonjaFestival.greenmonja05DeliverCount.transform.localScale = Vector3.one * 0.5f;
            MonjaFestival.greenmonja05DeliverCount.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Green Monja 06 find deliver button
            greenmonja06PickDeliverButton = new CustomButton(
                () => {

                    greenmonja06PickDeliverButton.HasEffect = true;
                    MonjaFestival.greenmonja06selectedSpawn = MonjaFestival.greenmonja06currentSpawn;

                },
                () => { return MonjaFestival.greenPlayer06 != null && MonjaFestival.greenPlayer06 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (MonjaFestival.localArrows.Count != 0) {
                        MonjaFestival.localArrows[0].Update(MonjaFestival.greenTeamBase.transform.position);
                    }

                    if (MonjaFestival.greenPlayer06Items == 3) {
                        greenmonja06PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreenDeliverButtonSprite();
                    }
                    else if (MonjaFestival.greenPlayer06Items > 0 && MonjaFestival.greenPlayer06Items < 3) {
                        greenmonja06PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreenPickDeliverButtonSprite();
                    }
                    else {
                        greenmonja06PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreenPickButtonSprite();
                    }

                    if (greenmonja06PickDeliverButton.isEffectActive && MonjaFestival.greenmonja06selectedSpawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, MonjaFestival.greenmonja06selectedSpawn.transform.position) > 0.75f) {
                        MonjaFestival.greenmonja06selectedSpawn = null;
                        greenmonja06PickDeliverButton.Timer = 0f;
                        greenmonja06PickDeliverButton.isEffectActive = false;
                    }

                    bool CanUse = false;
                    if (MonjaFestival.bigMonjaSpawns.Count != 0) {
                        foreach (GameObject spawn in MonjaFestival.bigMonjaSpawns) {
                            if (spawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, spawn.transform.position) < 0.75f) {
                                MonjaFestival.greenmonja06currentSpawn = spawn;
                                CanUse = true;
                                if (spawn.name.StartsWith("littleMonja")) {
                                    CanUse = MonjaFestival.greenPlayer06Items < 3;
                                    MonjaFestival.greenmonja06foundspawn = 8;
                                }
                                else {
                                    switch (spawn.name) {
                                        case "bigSpawnOne":
                                            CanUse = MonjaFestival.bigSpawnOnePoints > 0 && MonjaFestival.greenPlayer06Items < 3;
                                            MonjaFestival.greenmonja06foundspawn = 1;
                                            break;
                                        case "bigSpawnTwo":
                                            CanUse = MonjaFestival.bigSpawnTwoPoints > 0 && MonjaFestival.greenPlayer06Items < 3;
                                            MonjaFestival.greenmonja06foundspawn = 2;
                                            break;
                                        case "littleSpawnOne":
                                            CanUse = MonjaFestival.littleSpawnOnePoints > 0 && MonjaFestival.greenPlayer06Items < 3;
                                            MonjaFestival.greenmonja06foundspawn = 3;
                                            break;
                                        case "littleSpawnTwo":
                                            CanUse = MonjaFestival.littleSpawnTwoPoints > 0 && MonjaFestival.greenPlayer06Items < 3;
                                            MonjaFestival.greenmonja06foundspawn = 4;
                                            break;
                                        case "littleSpawnThree":
                                            CanUse = MonjaFestival.littleSpawnThreePoints > 0 && MonjaFestival.greenPlayer06Items < 3;
                                            MonjaFestival.greenmonja06foundspawn = 5;
                                            break;
                                        case "littleSpawnFour":
                                            CanUse = MonjaFestival.littleSpawnFourPoints > 0 && MonjaFestival.greenPlayer06Items < 3;
                                            MonjaFestival.greenmonja06foundspawn = 6;
                                            break;
                                        case "greenBase":
                                            CanUse = MonjaFestival.greenPlayer06Items > 0;
                                            MonjaFestival.greenmonja06foundspawn = 7;
                                            break;
                                        case "cyanBase":
                                            CanUse = false;
                                            break;
                                        case "greyBase":
                                            CanUse = false;
                                            break;
                                        case "allulMonja":
                                            CanUse = MonjaFestival.allulMonja.activeSelf;
                                            MonjaFestival.greenmonja06foundspawn = 9;
                                            break;
                                    }
                                }
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.greenPlayer06IsReviving;
                },
                () => { greenmonja06PickDeliverButton.Timer = greenmonja06PickDeliverButton.MaxTimer; },
                MonjaFestival.getgreenPickButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                3f,
                () => {
                    if (!MonjaFestival.greenPlayer06.Data.IsDead) {
                        MessageWriter findSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalFindSpawns, Hazel.SendOption.Reliable, -1);
                        MessageWriter checkSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalCheckItems, Hazel.SendOption.Reliable, -1);
                        switch (MonjaFestival.greenmonja06foundspawn) {
                            case 1: // Big Spawn one
                                findSpawn.Write(1);
                                checkSpawn.Write(6);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(1);
                                RPCProcedure.monjaFestivalCheckItems(6);
                                break;
                            case 2: // Big Spawn two
                                findSpawn.Write(2);
                                checkSpawn.Write(6);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(2);
                                RPCProcedure.monjaFestivalCheckItems(6);
                                break;
                            case 3: // Little spawn one
                                findSpawn.Write(3);
                                checkSpawn.Write(6);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(3);
                                RPCProcedure.monjaFestivalCheckItems(6);
                                break;
                            case 4: // Little spawn two
                                findSpawn.Write(4);
                                checkSpawn.Write(6);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(4);
                                RPCProcedure.monjaFestivalCheckItems(6);
                                break;
                            case 5: // Little spawn three
                                findSpawn.Write(5);
                                checkSpawn.Write(6);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(5);
                                RPCProcedure.monjaFestivalCheckItems(6);
                                break;
                            case 6: // Little spawn four
                                findSpawn.Write(6);
                                checkSpawn.Write(6);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(6);
                                RPCProcedure.monjaFestivalCheckItems(6);
                                break;
                            case 7: // Green base
                                checkSpawn.Write(26);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(26); 
                                MessageWriter delivertoSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                delivertoSpawn.Write(1);
                                AmongUsClient.Instance.FinishRpcImmediately(delivertoSpawn);
                                RPCProcedure.monjaFestivalDeliver(1);
                                break;
                            case 8: // Little Monja
                                checkSpawn.Write(6);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(6);
                                MessageWriter destroyLittleMonja = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDestroyLittleMonja, Hazel.SendOption.Reliable, -1);
                                destroyLittleMonja.Write(MonjaFestival.greenmonja06currentSpawn.name);
                                AmongUsClient.Instance.FinishRpcImmediately(destroyLittleMonja);
                                RPCProcedure.monjaFestivalDestroyLittleMonja(MonjaFestival.greenmonja06currentSpawn.name);
                                break;
                            case 9: // Allul Monja
                                MessageWriter deliverAllul = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                deliverAllul.Write(4);
                                AmongUsClient.Instance.FinishRpcImmediately(deliverAllul);
                                RPCProcedure.monjaFestivalDeliver(4);
                                break;
                        }
                    }
                    greenmonja06PickDeliverButton.Timer = greenmonja06PickDeliverButton.MaxTimer;
                }
            );

            // Green Monja 06 button counter
            MonjaFestival.greenmonja06DeliverCount = GameObject.Instantiate(greenmonja06PickDeliverButton.actionButton.cooldownTimerText, greenmonja06PickDeliverButton.actionButton.cooldownTimerText.transform.parent);
            MonjaFestival.greenmonja06DeliverCount.enableWordWrapping = false;
            MonjaFestival.greenmonja06DeliverCount.transform.localScale = Vector3.one * 0.5f;
            MonjaFestival.greenmonja06DeliverCount.transform.localPosition += new Vector3(-0.06f, 0.7f, 0);

            // Green Monja 07 find deliver button
            greenmonja07PickDeliverButton = new CustomButton(
                () => {

                    greenmonja07PickDeliverButton.HasEffect = true;
                    MonjaFestival.greenmonja07selectedSpawn = MonjaFestival.greenmonja07currentSpawn;

                },
                () => { return MonjaFestival.greenPlayer07 != null && MonjaFestival.greenPlayer07 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (MonjaFestival.localArrows.Count != 0) {
                        MonjaFestival.localArrows[0].Update(MonjaFestival.greenTeamBase.transform.position);
                    }

                    if (MonjaFestival.greenPlayer07Items == 3) {
                        greenmonja07PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreenDeliverButtonSprite();
                    }
                    else if (MonjaFestival.greenPlayer07Items > 0 && MonjaFestival.greenPlayer07Items < 3) {
                        greenmonja07PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreenPickDeliverButtonSprite();
                    }
                    else {
                        greenmonja07PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreenPickButtonSprite();
                    }

                    if (greenmonja07PickDeliverButton.isEffectActive && MonjaFestival.greenmonja07selectedSpawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, MonjaFestival.greenmonja07selectedSpawn.transform.position) > 0.75f) {
                        MonjaFestival.greenmonja07selectedSpawn = null;
                        greenmonja07PickDeliverButton.Timer = 0f;
                        greenmonja07PickDeliverButton.isEffectActive = false;
                    }

                    bool CanUse = false;
                    if (MonjaFestival.bigMonjaSpawns.Count != 0) {
                        foreach (GameObject spawn in MonjaFestival.bigMonjaSpawns) {
                            if (spawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, spawn.transform.position) < 0.75f) {
                                MonjaFestival.greenmonja07currentSpawn = spawn;
                                CanUse = true;
                                if (spawn.name.StartsWith("littleMonja")) {
                                    CanUse = MonjaFestival.greenPlayer07Items < 3;
                                    MonjaFestival.greenmonja07foundspawn = 8;
                                }
                                else {
                                    switch (spawn.name) {
                                        case "bigSpawnOne":
                                            CanUse = MonjaFestival.bigSpawnOnePoints > 0 && MonjaFestival.greenPlayer07Items < 3;
                                            MonjaFestival.greenmonja07foundspawn = 1;
                                            break;
                                        case "bigSpawnTwo":
                                            CanUse = MonjaFestival.bigSpawnTwoPoints > 0 && MonjaFestival.greenPlayer07Items < 3;
                                            MonjaFestival.greenmonja07foundspawn = 2;
                                            break;
                                        case "littleSpawnOne":
                                            CanUse = MonjaFestival.littleSpawnOnePoints > 0 && MonjaFestival.greenPlayer07Items < 3;
                                            MonjaFestival.greenmonja07foundspawn = 3;
                                            break;
                                        case "littleSpawnTwo":
                                            CanUse = MonjaFestival.littleSpawnTwoPoints > 0 && MonjaFestival.greenPlayer07Items < 3;
                                            MonjaFestival.greenmonja07foundspawn = 4;
                                            break;
                                        case "littleSpawnThree":
                                            CanUse = MonjaFestival.littleSpawnThreePoints > 0 && MonjaFestival.greenPlayer07Items < 3;
                                            MonjaFestival.greenmonja07foundspawn = 5;
                                            break;
                                        case "littleSpawnFour":
                                            CanUse = MonjaFestival.littleSpawnFourPoints > 0 && MonjaFestival.greenPlayer07Items < 3;
                                            MonjaFestival.greenmonja07foundspawn = 6;
                                            break;
                                        case "greenBase":
                                            CanUse = MonjaFestival.greenPlayer07Items > 0;
                                            MonjaFestival.greenmonja07foundspawn = 7;
                                            break;
                                        case "cyanBase":
                                            CanUse = false;
                                            break;
                                        case "greyBase":
                                            CanUse = false;
                                            break;
                                        case "allulMonja":
                                            CanUse = MonjaFestival.allulMonja.activeSelf;
                                            MonjaFestival.greenmonja07foundspawn = 9;
                                            break;
                                    }
                                }
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.greenPlayer07IsReviving;
                },
                () => { greenmonja07PickDeliverButton.Timer = greenmonja07PickDeliverButton.MaxTimer; },
                MonjaFestival.getgreenPickButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                3f,
                () => {
                    if (!MonjaFestival.greenPlayer07.Data.IsDead) {
                        MessageWriter findSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalFindSpawns, Hazel.SendOption.Reliable, -1);
                        MessageWriter checkSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalCheckItems, Hazel.SendOption.Reliable, -1);
                        switch (MonjaFestival.greenmonja07foundspawn) {
                            case 1: // Big Spawn one
                                findSpawn.Write(1);
                                checkSpawn.Write(7);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(1);
                                RPCProcedure.monjaFestivalCheckItems(7);
                                break;
                            case 2: // Big Spawn two
                                findSpawn.Write(2);
                                checkSpawn.Write(7);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(2);
                                RPCProcedure.monjaFestivalCheckItems(7);
                                break;
                            case 3: // Little spawn one
                                findSpawn.Write(3);
                                checkSpawn.Write(7);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(3);
                                RPCProcedure.monjaFestivalCheckItems(7);
                                break;
                            case 4: // Little spawn two
                                findSpawn.Write(4);
                                checkSpawn.Write(7);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(4);
                                RPCProcedure.monjaFestivalCheckItems(7);
                                break;
                            case 5: // Little spawn three
                                findSpawn.Write(5);
                                checkSpawn.Write(7);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(5);
                                RPCProcedure.monjaFestivalCheckItems(7);
                                break;
                            case 6: // Little spawn four
                                findSpawn.Write(6);
                                checkSpawn.Write(7);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(6);
                                RPCProcedure.monjaFestivalCheckItems(7);
                                break;
                            case 7: // Green base
                                checkSpawn.Write(27);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(27); 
                                MessageWriter delivertoSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                delivertoSpawn.Write(1);
                                AmongUsClient.Instance.FinishRpcImmediately(delivertoSpawn);
                                RPCProcedure.monjaFestivalDeliver(1);
                                break;
                            case 8: // Little Monja
                                checkSpawn.Write(7);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(7);
                                MessageWriter destroyLittleMonja = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDestroyLittleMonja, Hazel.SendOption.Reliable, -1);
                                destroyLittleMonja.Write(MonjaFestival.greenmonja07currentSpawn.name);
                                AmongUsClient.Instance.FinishRpcImmediately(destroyLittleMonja);
                                RPCProcedure.monjaFestivalDestroyLittleMonja(MonjaFestival.greenmonja07currentSpawn.name);
                                break;
                            case 9: // Allul Monja
                                MessageWriter deliverAllul = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                deliverAllul.Write(4);
                                AmongUsClient.Instance.FinishRpcImmediately(deliverAllul);
                                RPCProcedure.monjaFestivalDeliver(4);
                                break;
                        }
                    }
                    greenmonja07PickDeliverButton.Timer = greenmonja07PickDeliverButton.MaxTimer;
                }
            );

            // Green Monja 07 button counter
            MonjaFestival.greenmonja07DeliverCount = GameObject.Instantiate(greenmonja07PickDeliverButton.actionButton.cooldownTimerText, greenmonja07PickDeliverButton.actionButton.cooldownTimerText.transform.parent);
            MonjaFestival.greenmonja07DeliverCount.enableWordWrapping = false;
            MonjaFestival.greenmonja07DeliverCount.transform.localScale = Vector3.one * 0.5f;
            MonjaFestival.greenmonja07DeliverCount.transform.localPosition += new Vector3(-0.07f, 0.7f, 0);
            
            // Cyan Monja 01 find deliver button
            cyanmonja01PickDeliverButton = new CustomButton(
                () => {

                    cyanmonja01PickDeliverButton.HasEffect = true;
                    MonjaFestival.cyanPlayer01selectedSpawn = MonjaFestival.cyanPlayer01currentSpawn;

                },
                () => { return MonjaFestival.cyanPlayer01 != null && MonjaFestival.cyanPlayer01 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (MonjaFestival.localArrows.Count != 0) {
                        MonjaFestival.localArrows[1].Update(MonjaFestival.cyanTeamBase.transform.position);
                    }

                    if (MonjaFestival.cyanPlayer01Items == 3) {
                        cyanmonja01PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getcyanDeliverButtonSprite();
                    }
                    else if (MonjaFestival.cyanPlayer01Items > 0 && MonjaFestival.cyanPlayer01Items < 3) {
                        cyanmonja01PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getcyanPickDeliverButtonSprite();
                    }
                    else {
                        cyanmonja01PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getcyanPickButtonSprite();
                    }

                    if (cyanmonja01PickDeliverButton.isEffectActive && MonjaFestival.cyanPlayer01selectedSpawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, MonjaFestival.cyanPlayer01selectedSpawn.transform.position) > 0.75f) {
                        MonjaFestival.cyanPlayer01selectedSpawn = null;
                        cyanmonja01PickDeliverButton.Timer = 0f;
                        cyanmonja01PickDeliverButton.isEffectActive = false;
                    }

                    bool CanUse = false;
                    if (MonjaFestival.bigMonjaSpawns.Count != 0) {
                        foreach (GameObject spawn in MonjaFestival.bigMonjaSpawns) {
                            if (spawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, spawn.transform.position) < 0.75f) {
                                MonjaFestival.cyanPlayer01currentSpawn = spawn;
                                CanUse = true;
                                if (spawn.name.StartsWith("littleMonja")) {
                                    CanUse = MonjaFestival.cyanPlayer01Items < 3;
                                    MonjaFestival.cyanPlayer01foundspawn = 8;
                                }
                                else {
                                    switch (spawn.name) {
                                        case "bigSpawnOne":
                                            CanUse = MonjaFestival.bigSpawnOnePoints > 0 && MonjaFestival.cyanPlayer01Items < 3;
                                            MonjaFestival.cyanPlayer01foundspawn = 1;
                                            break;
                                        case "bigSpawnTwo":
                                            CanUse = MonjaFestival.bigSpawnTwoPoints > 0 && MonjaFestival.cyanPlayer01Items < 3;
                                            MonjaFestival.cyanPlayer01foundspawn = 2;
                                            break;
                                        case "littleSpawnOne":
                                            CanUse = MonjaFestival.littleSpawnOnePoints > 0 && MonjaFestival.cyanPlayer01Items < 3;
                                            MonjaFestival.cyanPlayer01foundspawn = 3;
                                            break;
                                        case "littleSpawnTwo":
                                            CanUse = MonjaFestival.littleSpawnTwoPoints > 0 && MonjaFestival.cyanPlayer01Items < 3;
                                            MonjaFestival.cyanPlayer01foundspawn = 4;
                                            break;
                                        case "littleSpawnThree":
                                            CanUse = MonjaFestival.littleSpawnThreePoints > 0 && MonjaFestival.cyanPlayer01Items < 3;
                                            MonjaFestival.cyanPlayer01foundspawn = 5;
                                            break;
                                        case "littleSpawnFour":
                                            CanUse = MonjaFestival.littleSpawnFourPoints > 0 && MonjaFestival.cyanPlayer01Items < 3;
                                            MonjaFestival.cyanPlayer01foundspawn = 6;
                                            break;
                                        case "greenBase":
                                            CanUse = false;
                                            break;
                                        case "cyanBase":
                                            CanUse = MonjaFestival.cyanPlayer01Items > 0;
                                            MonjaFestival.cyanPlayer01foundspawn = 7;
                                            break;
                                        case "greyBase":
                                            CanUse = false;
                                            break;
                                        case "allulMonja":
                                            CanUse = MonjaFestival.allulMonja.activeSelf;
                                            MonjaFestival.cyanPlayer01foundspawn = 9;
                                            break;
                                    }
                                }
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.cyanPlayer01IsReviving;
                },
                () => { cyanmonja01PickDeliverButton.Timer = cyanmonja01PickDeliverButton.MaxTimer; },
                MonjaFestival.getcyanPickButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                3f,
                () => {
                    if (!MonjaFestival.cyanPlayer01.Data.IsDead) {
                        MessageWriter findSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalFindSpawns, Hazel.SendOption.Reliable, -1);
                        MessageWriter checkSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalCheckItems, Hazel.SendOption.Reliable, -1);
                        switch (MonjaFestival.cyanPlayer01foundspawn) {
                            case 1: // Big Spawn one
                                findSpawn.Write(1);
                                checkSpawn.Write(8);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(1);
                                RPCProcedure.monjaFestivalCheckItems(8);
                                break;
                            case 2: // Big Spawn two
                                findSpawn.Write(2);
                                checkSpawn.Write(8);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(2);
                                RPCProcedure.monjaFestivalCheckItems(8);
                                break;
                            case 3: // Little spawn one
                                findSpawn.Write(3);
                                checkSpawn.Write(8);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(3);
                                RPCProcedure.monjaFestivalCheckItems(8);
                                break;
                            case 4: // Little spawn two
                                findSpawn.Write(4);
                                checkSpawn.Write(8);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(4);
                                RPCProcedure.monjaFestivalCheckItems(8);
                                break;
                            case 5: // Little spawn three
                                findSpawn.Write(5);
                                checkSpawn.Write(8);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(5);
                                RPCProcedure.monjaFestivalCheckItems(8);
                                break;
                            case 6: // Little spawn four
                                findSpawn.Write(6);
                                checkSpawn.Write(8);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(6);
                                RPCProcedure.monjaFestivalCheckItems(8);
                                break;
                            case 7: // Cyan base
                                checkSpawn.Write(28);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(28);
                                MessageWriter delivertoSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                delivertoSpawn.Write(2);
                                AmongUsClient.Instance.FinishRpcImmediately(delivertoSpawn);
                                RPCProcedure.monjaFestivalDeliver(2);
                                break;
                            case 8: // Little Monja
                                checkSpawn.Write(8);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(8);
                                MessageWriter destroyLittleMonja = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDestroyLittleMonja, Hazel.SendOption.Reliable, -1);
                                destroyLittleMonja.Write(MonjaFestival.cyanPlayer01currentSpawn.name);
                                AmongUsClient.Instance.FinishRpcImmediately(destroyLittleMonja);
                                RPCProcedure.monjaFestivalDestroyLittleMonja(MonjaFestival.cyanPlayer01currentSpawn.name);
                                break;
                            case 9: // Allul Monja
                                MessageWriter deliverAllul = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                deliverAllul.Write(5);
                                AmongUsClient.Instance.FinishRpcImmediately(deliverAllul);
                                RPCProcedure.monjaFestivalDeliver(5);
                                break;
                        }
                    }
                    cyanmonja01PickDeliverButton.Timer = cyanmonja01PickDeliverButton.MaxTimer;
                }
            );

            // Cyan Monja 01 button counter
            MonjaFestival.cyanPlayer01DeliverCount = GameObject.Instantiate(cyanmonja01PickDeliverButton.actionButton.cooldownTimerText, cyanmonja01PickDeliverButton.actionButton.cooldownTimerText.transform.parent);
            MonjaFestival.cyanPlayer01DeliverCount.enableWordWrapping = false;
            MonjaFestival.cyanPlayer01DeliverCount.transform.localScale = Vector3.one * 0.5f;
            MonjaFestival.cyanPlayer01DeliverCount.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);
            
            // Cyan Monja 02 find deliver button
            cyanmonja02PickDeliverButton = new CustomButton(
                () => {

                    cyanmonja02PickDeliverButton.HasEffect = true;
                    MonjaFestival.cyanPlayer02selectedSpawn = MonjaFestival.cyanPlayer02currentSpawn;

                },
                () => { return MonjaFestival.cyanPlayer02 != null && MonjaFestival.cyanPlayer02 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (MonjaFestival.localArrows.Count != 0) {
                        MonjaFestival.localArrows[1].Update(MonjaFestival.cyanTeamBase.transform.position);
                    }

                    if (MonjaFestival.cyanPlayer02Items == 3) {
                        cyanmonja02PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getcyanDeliverButtonSprite();
                    }
                    else if (MonjaFestival.cyanPlayer02Items > 0 && MonjaFestival.cyanPlayer02Items < 3) {
                        cyanmonja02PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getcyanPickDeliverButtonSprite();
                    }
                    else {
                        cyanmonja02PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getcyanPickButtonSprite();
                    }

                    if (cyanmonja02PickDeliverButton.isEffectActive && MonjaFestival.cyanPlayer02selectedSpawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, MonjaFestival.cyanPlayer02selectedSpawn.transform.position) > 0.75f) {
                        MonjaFestival.cyanPlayer02selectedSpawn = null;
                        cyanmonja02PickDeliverButton.Timer = 0f;
                        cyanmonja02PickDeliverButton.isEffectActive = false;
                    }

                    bool CanUse = false;
                    if (MonjaFestival.bigMonjaSpawns.Count != 0) {
                        foreach (GameObject spawn in MonjaFestival.bigMonjaSpawns) {
                            if (spawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, spawn.transform.position) < 0.75f) {
                                MonjaFestival.cyanPlayer02currentSpawn = spawn;
                                CanUse = true;
                                if (spawn.name.StartsWith("littleMonja")) {
                                    CanUse = MonjaFestival.cyanPlayer02Items < 3;
                                    MonjaFestival.cyanPlayer02foundspawn = 8;
                                }
                                else {
                                    switch (spawn.name) {
                                        case "bigSpawnOne":
                                            CanUse = MonjaFestival.bigSpawnOnePoints > 0 && MonjaFestival.cyanPlayer02Items < 3;
                                            MonjaFestival.cyanPlayer02foundspawn = 1;
                                            break;
                                        case "bigSpawnTwo":
                                            CanUse = MonjaFestival.bigSpawnTwoPoints > 0 && MonjaFestival.cyanPlayer02Items < 3;
                                            MonjaFestival.cyanPlayer02foundspawn = 2;
                                            break;
                                        case "littleSpawnOne":
                                            CanUse = MonjaFestival.littleSpawnOnePoints > 0 && MonjaFestival.cyanPlayer02Items < 3;
                                            MonjaFestival.cyanPlayer02foundspawn = 3;
                                            break;
                                        case "littleSpawnTwo":
                                            CanUse = MonjaFestival.littleSpawnTwoPoints > 0 && MonjaFestival.cyanPlayer02Items < 3;
                                            MonjaFestival.cyanPlayer02foundspawn = 4;
                                            break;
                                        case "littleSpawnThree":
                                            CanUse = MonjaFestival.littleSpawnThreePoints > 0 && MonjaFestival.cyanPlayer02Items < 3;
                                            MonjaFestival.cyanPlayer02foundspawn = 5;
                                            break;
                                        case "littleSpawnFour":
                                            CanUse = MonjaFestival.littleSpawnFourPoints > 0 && MonjaFestival.cyanPlayer02Items < 3;
                                            MonjaFestival.cyanPlayer02foundspawn = 6;
                                            break;
                                        case "greenBase":
                                            CanUse = false;
                                            break;
                                        case "cyanBase":
                                            CanUse = MonjaFestival.cyanPlayer02Items > 0;
                                            MonjaFestival.cyanPlayer02foundspawn = 7;
                                            break;
                                        case "greyBase":
                                            CanUse = false;
                                            break;
                                        case "allulMonja":
                                            CanUse = MonjaFestival.allulMonja.activeSelf;
                                            MonjaFestival.cyanPlayer02foundspawn = 9;
                                            break;
                                    }
                                }
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.cyanPlayer02IsReviving;
                },
                () => { cyanmonja02PickDeliverButton.Timer = cyanmonja02PickDeliverButton.MaxTimer; },
                MonjaFestival.getcyanPickButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                3f,
                () => {
                    if (!MonjaFestival.cyanPlayer02.Data.IsDead) {
                        MessageWriter findSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalFindSpawns, Hazel.SendOption.Reliable, -1);
                        MessageWriter checkSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalCheckItems, Hazel.SendOption.Reliable, -1);
                        switch (MonjaFestival.cyanPlayer02foundspawn) {
                            case 1: // Big Spawn one
                                findSpawn.Write(1);
                                checkSpawn.Write(9);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(1);
                                RPCProcedure.monjaFestivalCheckItems(9);
                                break;
                            case 2: // Big Spawn two
                                findSpawn.Write(2);
                                checkSpawn.Write(9);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(2);
                                RPCProcedure.monjaFestivalCheckItems(9);
                                break;
                            case 3: // Little spawn one
                                findSpawn.Write(3);
                                checkSpawn.Write(9);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(3);
                                RPCProcedure.monjaFestivalCheckItems(9);
                                break;
                            case 4: // Little spawn two
                                findSpawn.Write(4);
                                checkSpawn.Write(9);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(4);
                                RPCProcedure.monjaFestivalCheckItems(9);
                                break;
                            case 5: // Little spawn three
                                findSpawn.Write(5);
                                checkSpawn.Write(9);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(5);
                                RPCProcedure.monjaFestivalCheckItems(9);
                                break;
                            case 6: // Little spawn four
                                findSpawn.Write(6);
                                checkSpawn.Write(9);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(6);
                                RPCProcedure.monjaFestivalCheckItems(9);
                                break;
                            case 7: // Cyan base
                                checkSpawn.Write(29);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(29);
                                MessageWriter delivertoSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                delivertoSpawn.Write(2);
                                AmongUsClient.Instance.FinishRpcImmediately(delivertoSpawn);
                                RPCProcedure.monjaFestivalDeliver(2);
                                break;
                            case 8: // Little Monja
                                checkSpawn.Write(9);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(9);
                                MessageWriter destroyLittleMonja = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDestroyLittleMonja, Hazel.SendOption.Reliable, -1);
                                destroyLittleMonja.Write(MonjaFestival.cyanPlayer02currentSpawn.name);
                                AmongUsClient.Instance.FinishRpcImmediately(destroyLittleMonja);
                                RPCProcedure.monjaFestivalDestroyLittleMonja(MonjaFestival.cyanPlayer02currentSpawn.name);
                                break;
                            case 9: // Allul Monja
                                MessageWriter deliverAllul = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                deliverAllul.Write(5);
                                AmongUsClient.Instance.FinishRpcImmediately(deliverAllul);
                                RPCProcedure.monjaFestivalDeliver(5);
                                break;
                        }
                    }
                    cyanmonja02PickDeliverButton.Timer = cyanmonja02PickDeliverButton.MaxTimer;
                }
            );

            // Cyan Monja 02 button counter
            MonjaFestival.cyanPlayer02DeliverCount = GameObject.Instantiate(cyanmonja02PickDeliverButton.actionButton.cooldownTimerText, cyanmonja02PickDeliverButton.actionButton.cooldownTimerText.transform.parent);
            MonjaFestival.cyanPlayer02DeliverCount.enableWordWrapping = false;
            MonjaFestival.cyanPlayer02DeliverCount.transform.localScale = Vector3.one * 0.5f;
            MonjaFestival.cyanPlayer02DeliverCount.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Cyan Monja 03 find deliver button
            cyanmonja03PickDeliverButton = new CustomButton(
                () => {

                    cyanmonja03PickDeliverButton.HasEffect = true;
                    MonjaFestival.cyanPlayer03selectedSpawn = MonjaFestival.cyanPlayer03currentSpawn;

                },
                () => { return MonjaFestival.cyanPlayer03 != null && MonjaFestival.cyanPlayer03 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (MonjaFestival.localArrows.Count != 0) {
                        MonjaFestival.localArrows[1].Update(MonjaFestival.cyanTeamBase.transform.position);
                    }

                    if (MonjaFestival.cyanPlayer03Items == 3) {
                        cyanmonja03PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getcyanDeliverButtonSprite();
                    }
                    else if (MonjaFestival.cyanPlayer03Items > 0 && MonjaFestival.cyanPlayer03Items < 3) {
                        cyanmonja03PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getcyanPickDeliverButtonSprite();
                    }
                    else {
                        cyanmonja03PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getcyanPickButtonSprite();
                    }

                    if (cyanmonja03PickDeliverButton.isEffectActive && MonjaFestival.cyanPlayer03selectedSpawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, MonjaFestival.cyanPlayer03selectedSpawn.transform.position) > 0.75f) {
                        MonjaFestival.cyanPlayer03selectedSpawn = null;
                        cyanmonja03PickDeliverButton.Timer = 0f;
                        cyanmonja03PickDeliverButton.isEffectActive = false;
                    }

                    bool CanUse = false;
                    if (MonjaFestival.bigMonjaSpawns.Count != 0) {
                        foreach (GameObject spawn in MonjaFestival.bigMonjaSpawns) {
                            if (spawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, spawn.transform.position) < 0.75f) {
                                MonjaFestival.cyanPlayer03currentSpawn = spawn;
                                CanUse = true;
                                if (spawn.name.StartsWith("littleMonja")) {
                                    CanUse = MonjaFestival.cyanPlayer03Items < 3;
                                    MonjaFestival.cyanPlayer03foundspawn = 8;
                                }
                                else {
                                    switch (spawn.name) {
                                        case "bigSpawnOne":
                                            CanUse = MonjaFestival.bigSpawnOnePoints > 0 && MonjaFestival.cyanPlayer03Items < 3;
                                            MonjaFestival.cyanPlayer03foundspawn = 1;
                                            break;
                                        case "bigSpawnTwo":
                                            CanUse = MonjaFestival.bigSpawnTwoPoints > 0 && MonjaFestival.cyanPlayer03Items < 3;
                                            MonjaFestival.cyanPlayer03foundspawn = 2;
                                            break;
                                        case "littleSpawnOne":
                                            CanUse = MonjaFestival.littleSpawnOnePoints > 0 && MonjaFestival.cyanPlayer03Items < 3;
                                            MonjaFestival.cyanPlayer03foundspawn = 3;
                                            break;
                                        case "littleSpawnTwo":
                                            CanUse = MonjaFestival.littleSpawnTwoPoints > 0 && MonjaFestival.cyanPlayer03Items < 3;
                                            MonjaFestival.cyanPlayer03foundspawn = 4;
                                            break;
                                        case "littleSpawnThree":
                                            CanUse = MonjaFestival.littleSpawnThreePoints > 0 && MonjaFestival.cyanPlayer03Items < 3;
                                            MonjaFestival.cyanPlayer03foundspawn = 5;
                                            break;
                                        case "littleSpawnFour":
                                            CanUse = MonjaFestival.littleSpawnFourPoints > 0 && MonjaFestival.cyanPlayer03Items < 3;
                                            MonjaFestival.cyanPlayer03foundspawn = 6;
                                            break;
                                        case "greenBase":
                                            CanUse = false;
                                            break;
                                        case "cyanBase":
                                            CanUse = MonjaFestival.cyanPlayer03Items > 0;
                                            MonjaFestival.cyanPlayer03foundspawn = 7;
                                            break;
                                        case "greyBase":
                                            CanUse = false;
                                            break;
                                        case "allulMonja":
                                            CanUse = MonjaFestival.allulMonja.activeSelf;
                                            MonjaFestival.cyanPlayer03foundspawn = 9;
                                            break;
                                    }
                                }
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.cyanPlayer03IsReviving;
                },
                () => { cyanmonja03PickDeliverButton.Timer = cyanmonja03PickDeliverButton.MaxTimer; },
                MonjaFestival.getcyanPickButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                3f,
                () => {
                    if (!MonjaFestival.cyanPlayer03.Data.IsDead) {
                        MessageWriter findSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalFindSpawns, Hazel.SendOption.Reliable, -1);
                        MessageWriter checkSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalCheckItems, Hazel.SendOption.Reliable, -1);
                        switch (MonjaFestival.cyanPlayer03foundspawn) {
                            case 1: // Big Spawn one
                                findSpawn.Write(1);
                                checkSpawn.Write(10);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(1);
                                RPCProcedure.monjaFestivalCheckItems(10);
                                break;
                            case 2: // Big Spawn two
                                findSpawn.Write(2);
                                checkSpawn.Write(10);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(2);
                                RPCProcedure.monjaFestivalCheckItems(10);
                                break;
                            case 3: // Little spawn one
                                findSpawn.Write(3);
                                checkSpawn.Write(10);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(3);
                                RPCProcedure.monjaFestivalCheckItems(10);
                                break;
                            case 4: // Little spawn two
                                findSpawn.Write(4);
                                checkSpawn.Write(10);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(4);
                                RPCProcedure.monjaFestivalCheckItems(10);
                                break;
                            case 5: // Little spawn three
                                findSpawn.Write(5);
                                checkSpawn.Write(10);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(5);
                                RPCProcedure.monjaFestivalCheckItems(10);
                                break;
                            case 6: // Little spawn four
                                findSpawn.Write(6);
                                checkSpawn.Write(10);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(6);
                                RPCProcedure.monjaFestivalCheckItems(10);
                                break;
                            case 7: // Cyan base
                                checkSpawn.Write(30);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(30);
                                MessageWriter delivertoSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                delivertoSpawn.Write(2);
                                AmongUsClient.Instance.FinishRpcImmediately(delivertoSpawn);
                                RPCProcedure.monjaFestivalDeliver(2);
                                break;
                            case 8: // Little Monja
                                checkSpawn.Write(10);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(10);
                                MessageWriter destroyLittleMonja = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDestroyLittleMonja, Hazel.SendOption.Reliable, -1);
                                destroyLittleMonja.Write(MonjaFestival.cyanPlayer03currentSpawn.name);
                                AmongUsClient.Instance.FinishRpcImmediately(destroyLittleMonja);
                                RPCProcedure.monjaFestivalDestroyLittleMonja(MonjaFestival.cyanPlayer03currentSpawn.name);
                                break;
                            case 9: // Allul Monja
                                MessageWriter deliverAllul = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                deliverAllul.Write(5);
                                AmongUsClient.Instance.FinishRpcImmediately(deliverAllul);
                                RPCProcedure.monjaFestivalDeliver(5);
                                break;
                        }
                    }
                    cyanmonja03PickDeliverButton.Timer = cyanmonja03PickDeliverButton.MaxTimer;
                }
            );

            // Cyan Monja 03 button counter
            MonjaFestival.cyanPlayer03DeliverCount = GameObject.Instantiate(cyanmonja03PickDeliverButton.actionButton.cooldownTimerText, cyanmonja03PickDeliverButton.actionButton.cooldownTimerText.transform.parent);
            MonjaFestival.cyanPlayer03DeliverCount.enableWordWrapping = false;
            MonjaFestival.cyanPlayer03DeliverCount.transform.localScale = Vector3.one * 0.5f;
            MonjaFestival.cyanPlayer03DeliverCount.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Cyan Monja 04 find deliver button
            cyanmonja04PickDeliverButton = new CustomButton(
                () => {

                    cyanmonja04PickDeliverButton.HasEffect = true;
                    MonjaFestival.cyanPlayer04selectedSpawn = MonjaFestival.cyanPlayer04currentSpawn;

                },
                () => { return MonjaFestival.cyanPlayer04 != null && MonjaFestival.cyanPlayer04 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (MonjaFestival.localArrows.Count != 0) {
                        MonjaFestival.localArrows[1].Update(MonjaFestival.cyanTeamBase.transform.position);
                    }

                    if (MonjaFestival.cyanPlayer04Items == 3) {
                        cyanmonja04PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getcyanDeliverButtonSprite();
                    }
                    else if (MonjaFestival.cyanPlayer04Items > 0 && MonjaFestival.cyanPlayer04Items < 3) {
                        cyanmonja04PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getcyanPickDeliverButtonSprite();
                    }
                    else {
                        cyanmonja04PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getcyanPickButtonSprite();
                    }

                    if (cyanmonja04PickDeliverButton.isEffectActive && MonjaFestival.cyanPlayer04selectedSpawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, MonjaFestival.cyanPlayer04selectedSpawn.transform.position) > 0.75f) {
                        MonjaFestival.cyanPlayer04selectedSpawn = null;
                        cyanmonja04PickDeliverButton.Timer = 0f;
                        cyanmonja04PickDeliverButton.isEffectActive = false;
                    }

                    bool CanUse = false;
                    if (MonjaFestival.bigMonjaSpawns.Count != 0) {
                        foreach (GameObject spawn in MonjaFestival.bigMonjaSpawns) {
                            if (spawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, spawn.transform.position) < 0.75f) {
                                MonjaFestival.cyanPlayer04currentSpawn = spawn;
                                CanUse = true;
                                if (spawn.name.StartsWith("littleMonja")) {
                                    CanUse = MonjaFestival.cyanPlayer04Items < 3;
                                    MonjaFestival.cyanPlayer04foundspawn = 8;
                                }
                                else {
                                    switch (spawn.name) {
                                        case "bigSpawnOne":
                                            CanUse = MonjaFestival.bigSpawnOnePoints > 0 && MonjaFestival.cyanPlayer04Items < 3;
                                            MonjaFestival.cyanPlayer04foundspawn = 1;
                                            break;
                                        case "bigSpawnTwo":
                                            CanUse = MonjaFestival.bigSpawnTwoPoints > 0 && MonjaFestival.cyanPlayer04Items < 3;
                                            MonjaFestival.cyanPlayer04foundspawn = 2;
                                            break;
                                        case "littleSpawnOne":
                                            CanUse = MonjaFestival.littleSpawnOnePoints > 0 && MonjaFestival.cyanPlayer04Items < 3;
                                            MonjaFestival.cyanPlayer04foundspawn = 3;
                                            break;
                                        case "littleSpawnTwo":
                                            CanUse = MonjaFestival.littleSpawnTwoPoints > 0 && MonjaFestival.cyanPlayer04Items < 3;
                                            MonjaFestival.cyanPlayer04foundspawn = 4;
                                            break;
                                        case "littleSpawnThree":
                                            CanUse = MonjaFestival.littleSpawnThreePoints > 0 && MonjaFestival.cyanPlayer04Items < 3;
                                            MonjaFestival.cyanPlayer04foundspawn = 5;
                                            break;
                                        case "littleSpawnFour":
                                            CanUse = MonjaFestival.littleSpawnFourPoints > 0 && MonjaFestival.cyanPlayer04Items < 3;
                                            MonjaFestival.cyanPlayer04foundspawn = 6;
                                            break;
                                        case "greenBase":
                                            CanUse = false;
                                            break;
                                        case "cyanBase":
                                            CanUse = MonjaFestival.cyanPlayer04Items > 0;
                                            MonjaFestival.cyanPlayer04foundspawn = 7;
                                            break;
                                        case "greyBase":
                                            CanUse = false;
                                            break;
                                        case "allulMonja":
                                            CanUse = MonjaFestival.allulMonja.activeSelf;
                                            MonjaFestival.cyanPlayer04foundspawn = 9;
                                            break;
                                    }
                                }
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.cyanPlayer04IsReviving;
                },
                () => { cyanmonja04PickDeliverButton.Timer = cyanmonja04PickDeliverButton.MaxTimer; },
                MonjaFestival.getcyanPickButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                3f,
                () => {
                    if (!MonjaFestival.cyanPlayer04.Data.IsDead) {
                        MessageWriter findSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalFindSpawns, Hazel.SendOption.Reliable, -1);
                        MessageWriter checkSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalCheckItems, Hazel.SendOption.Reliable, -1);
                        switch (MonjaFestival.cyanPlayer04foundspawn) {
                            case 1: // Big Spawn one
                                findSpawn.Write(1);
                                checkSpawn.Write(11);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(1);
                                RPCProcedure.monjaFestivalCheckItems(11);
                                break;
                            case 2: // Big Spawn two
                                findSpawn.Write(2);
                                checkSpawn.Write(11);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(2);
                                RPCProcedure.monjaFestivalCheckItems(11);
                                break;
                            case 3: // Little spawn one
                                findSpawn.Write(3);
                                checkSpawn.Write(11);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(3);
                                RPCProcedure.monjaFestivalCheckItems(11);
                                break;
                            case 4: // Little spawn two
                                findSpawn.Write(4);
                                checkSpawn.Write(11);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(4);
                                RPCProcedure.monjaFestivalCheckItems(11);
                                break;
                            case 5: // Little spawn three
                                findSpawn.Write(5);
                                checkSpawn.Write(11);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(5);
                                RPCProcedure.monjaFestivalCheckItems(11);
                                break;
                            case 6: // Little spawn four
                                findSpawn.Write(6);
                                checkSpawn.Write(11);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(6);
                                RPCProcedure.monjaFestivalCheckItems(11);
                                break;
                            case 7: // Cyan base
                                checkSpawn.Write(31);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(31);
                                MessageWriter delivertoSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                delivertoSpawn.Write(2);
                                AmongUsClient.Instance.FinishRpcImmediately(delivertoSpawn);
                                RPCProcedure.monjaFestivalDeliver(2);
                                break;
                            case 8: // Little Monja
                                checkSpawn.Write(11);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(11);
                                MessageWriter destroyLittleMonja = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDestroyLittleMonja, Hazel.SendOption.Reliable, -1);
                                destroyLittleMonja.Write(MonjaFestival.cyanPlayer04currentSpawn.name);
                                AmongUsClient.Instance.FinishRpcImmediately(destroyLittleMonja);
                                RPCProcedure.monjaFestivalDestroyLittleMonja(MonjaFestival.cyanPlayer04currentSpawn.name);
                                
                                break;
                            case 9: // Allul Monja
                                MessageWriter deliverAllul = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                deliverAllul.Write(5);
                                AmongUsClient.Instance.FinishRpcImmediately(deliverAllul);
                                RPCProcedure.monjaFestivalDeliver(5);
                                break;
                        }
                    }
                    cyanmonja04PickDeliverButton.Timer = cyanmonja04PickDeliverButton.MaxTimer;
                }
            );

            // Cyan Monja 04 button counter
            MonjaFestival.cyanPlayer04DeliverCount = GameObject.Instantiate(cyanmonja04PickDeliverButton.actionButton.cooldownTimerText, cyanmonja04PickDeliverButton.actionButton.cooldownTimerText.transform.parent);
            MonjaFestival.cyanPlayer04DeliverCount.enableWordWrapping = false;
            MonjaFestival.cyanPlayer04DeliverCount.transform.localScale = Vector3.one * 0.5f;
            MonjaFestival.cyanPlayer04DeliverCount.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Cyan Monja 05 find deliver button
            cyanmonja05PickDeliverButton = new CustomButton(
                () => {

                    cyanmonja05PickDeliverButton.HasEffect = true;
                    MonjaFestival.cyanPlayer05selectedSpawn = MonjaFestival.cyanPlayer05currentSpawn;

                },
                () => { return MonjaFestival.cyanPlayer05 != null && MonjaFestival.cyanPlayer05 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (MonjaFestival.localArrows.Count != 0) {
                        MonjaFestival.localArrows[1].Update(MonjaFestival.cyanTeamBase.transform.position);
                    }

                    if (MonjaFestival.cyanPlayer05Items == 3) {
                        cyanmonja05PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getcyanDeliverButtonSprite();
                    }
                    else if (MonjaFestival.cyanPlayer05Items > 0 && MonjaFestival.cyanPlayer05Items < 3) {
                        cyanmonja05PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getcyanPickDeliverButtonSprite();
                    }
                    else {
                        cyanmonja05PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getcyanPickButtonSprite();
                    }

                    if (cyanmonja05PickDeliverButton.isEffectActive && MonjaFestival.cyanPlayer05selectedSpawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, MonjaFestival.cyanPlayer05selectedSpawn.transform.position) > 0.75f) {
                        MonjaFestival.cyanPlayer05selectedSpawn = null;
                        cyanmonja05PickDeliverButton.Timer = 0f;
                        cyanmonja05PickDeliverButton.isEffectActive = false;
                    }

                    bool CanUse = false;
                    if (MonjaFestival.bigMonjaSpawns.Count != 0) {
                        foreach (GameObject spawn in MonjaFestival.bigMonjaSpawns) {
                            if (spawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, spawn.transform.position) < 0.75f) {
                                MonjaFestival.cyanPlayer05currentSpawn = spawn;
                                CanUse = true;
                                if (spawn.name.StartsWith("littleMonja")) {
                                    CanUse = MonjaFestival.cyanPlayer05Items < 3;
                                    MonjaFestival.cyanPlayer05foundspawn = 8;
                                }
                                else {
                                    switch (spawn.name) {
                                        case "bigSpawnOne":
                                            CanUse = MonjaFestival.bigSpawnOnePoints > 0 && MonjaFestival.cyanPlayer05Items < 3;
                                            MonjaFestival.cyanPlayer05foundspawn = 1;
                                            break;
                                        case "bigSpawnTwo":
                                            CanUse = MonjaFestival.bigSpawnTwoPoints > 0 && MonjaFestival.cyanPlayer05Items < 3;
                                            MonjaFestival.cyanPlayer05foundspawn = 2;
                                            break;
                                        case "littleSpawnOne":
                                            CanUse = MonjaFestival.littleSpawnOnePoints > 0 && MonjaFestival.cyanPlayer05Items < 3;
                                            MonjaFestival.cyanPlayer05foundspawn = 3;
                                            break;
                                        case "littleSpawnTwo":
                                            CanUse = MonjaFestival.littleSpawnTwoPoints > 0 && MonjaFestival.cyanPlayer05Items < 3;
                                            MonjaFestival.cyanPlayer05foundspawn = 4;
                                            break;
                                        case "littleSpawnThree":
                                            CanUse = MonjaFestival.littleSpawnThreePoints > 0 && MonjaFestival.cyanPlayer05Items < 3;
                                            MonjaFestival.cyanPlayer05foundspawn = 5;
                                            break;
                                        case "littleSpawnFour":
                                            CanUse = MonjaFestival.littleSpawnFourPoints > 0 && MonjaFestival.cyanPlayer05Items < 3;
                                            MonjaFestival.cyanPlayer05foundspawn = 6;
                                            break;
                                        case "greenBase":
                                            CanUse = false;
                                            break;
                                        case "cyanBase":
                                            CanUse = MonjaFestival.cyanPlayer05Items > 0;
                                            MonjaFestival.cyanPlayer05foundspawn = 7;
                                            break;
                                        case "greyBase":
                                            CanUse = false;
                                            break;
                                        case "allulMonja":
                                            CanUse = MonjaFestival.allulMonja.activeSelf;
                                            MonjaFestival.cyanPlayer05foundspawn = 9;
                                            break;
                                    }
                                }
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.cyanPlayer05IsReviving;
                },
                () => { cyanmonja05PickDeliverButton.Timer = cyanmonja05PickDeliverButton.MaxTimer; },
                MonjaFestival.getcyanPickButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                3f,
                () => {
                    if (!MonjaFestival.cyanPlayer05.Data.IsDead) {
                        MessageWriter findSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalFindSpawns, Hazel.SendOption.Reliable, -1);
                        MessageWriter checkSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalCheckItems, Hazel.SendOption.Reliable, -1);
                        switch (MonjaFestival.cyanPlayer05foundspawn) {
                            case 1: // Big Spawn one
                                findSpawn.Write(1);
                                checkSpawn.Write(12);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(1);
                                RPCProcedure.monjaFestivalCheckItems(12);
                                break;
                            case 2: // Big Spawn two
                                findSpawn.Write(2);
                                checkSpawn.Write(12);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(2);
                                RPCProcedure.monjaFestivalCheckItems(12);
                                break;
                            case 3: // Little spawn one
                                findSpawn.Write(3);
                                checkSpawn.Write(12);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(3);
                                RPCProcedure.monjaFestivalCheckItems(12);
                                break;
                            case 4: // Little spawn two
                                findSpawn.Write(4);
                                checkSpawn.Write(12);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(4);
                                RPCProcedure.monjaFestivalCheckItems(12);
                                break;
                            case 5: // Little spawn three
                                findSpawn.Write(5);
                                checkSpawn.Write(12);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(5);
                                RPCProcedure.monjaFestivalCheckItems(12);
                                break;
                            case 6: // Little spawn four
                                findSpawn.Write(6);
                                checkSpawn.Write(12);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(6);
                                RPCProcedure.monjaFestivalCheckItems(12);
                                break;
                            case 7: // Cyan base
                                checkSpawn.Write(32);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(32);
                                MessageWriter delivertoSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                delivertoSpawn.Write(2);
                                AmongUsClient.Instance.FinishRpcImmediately(delivertoSpawn);
                                RPCProcedure.monjaFestivalDeliver(2);
                                break;
                            case 8: // Little Monja
                                checkSpawn.Write(12);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(12);
                                MessageWriter destroyLittleMonja = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDestroyLittleMonja, Hazel.SendOption.Reliable, -1);
                                destroyLittleMonja.Write(MonjaFestival.cyanPlayer05currentSpawn.name);
                                AmongUsClient.Instance.FinishRpcImmediately(destroyLittleMonja);
                                RPCProcedure.monjaFestivalDestroyLittleMonja(MonjaFestival.cyanPlayer05currentSpawn.name);
                                break;
                            case 9: // Allul Monja
                                MessageWriter deliverAllul = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                deliverAllul.Write(5);
                                AmongUsClient.Instance.FinishRpcImmediately(deliverAllul);
                                RPCProcedure.monjaFestivalDeliver(5);
                                break;
                        }
                    }
                    cyanmonja05PickDeliverButton.Timer = cyanmonja05PickDeliverButton.MaxTimer;
                }
            );

            // Cyan Monja 05 button counter
            MonjaFestival.cyanPlayer05DeliverCount = GameObject.Instantiate(cyanmonja05PickDeliverButton.actionButton.cooldownTimerText, cyanmonja05PickDeliverButton.actionButton.cooldownTimerText.transform.parent);
            MonjaFestival.cyanPlayer05DeliverCount.enableWordWrapping = false;
            MonjaFestival.cyanPlayer05DeliverCount.transform.localScale = Vector3.one * 0.5f;
            MonjaFestival.cyanPlayer05DeliverCount.transform.localPosition += new Vector3(-0.05f, 0.7f, 0);

            // Cyan Monja 06 find deliver button
            cyanmonja06PickDeliverButton = new CustomButton(
                () => {

                    cyanmonja06PickDeliverButton.HasEffect = true;
                    MonjaFestival.cyanPlayer06selectedSpawn = MonjaFestival.cyanPlayer06currentSpawn;

                },
                () => { return MonjaFestival.cyanPlayer06 != null && MonjaFestival.cyanPlayer06 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (MonjaFestival.localArrows.Count != 0) {
                        MonjaFestival.localArrows[1].Update(MonjaFestival.cyanTeamBase.transform.position);
                    }

                    if (MonjaFestival.cyanPlayer06Items == 3) {
                        cyanmonja06PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getcyanDeliverButtonSprite();
                    }
                    else if (MonjaFestival.cyanPlayer06Items > 0 && MonjaFestival.cyanPlayer06Items < 3) {
                        cyanmonja06PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getcyanPickDeliverButtonSprite();
                    }
                    else {
                        cyanmonja06PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getcyanPickButtonSprite();
                    }

                    if (cyanmonja06PickDeliverButton.isEffectActive && MonjaFestival.cyanPlayer06selectedSpawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, MonjaFestival.cyanPlayer06selectedSpawn.transform.position) > 0.75f) {
                        MonjaFestival.cyanPlayer06selectedSpawn = null;
                        cyanmonja06PickDeliverButton.Timer = 0f;
                        cyanmonja06PickDeliverButton.isEffectActive = false;
                    }

                    bool CanUse = false;
                    if (MonjaFestival.bigMonjaSpawns.Count != 0) {
                        foreach (GameObject spawn in MonjaFestival.bigMonjaSpawns) {
                            if (spawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, spawn.transform.position) < 0.75f) {
                                MonjaFestival.cyanPlayer06currentSpawn = spawn;
                                CanUse = true;
                                if (spawn.name.StartsWith("littleMonja")) {
                                    CanUse = MonjaFestival.cyanPlayer06Items < 3;
                                    MonjaFestival.cyanPlayer06foundspawn = 8;
                                }
                                else {
                                    switch (spawn.name) {
                                        case "bigSpawnOne":
                                            CanUse = MonjaFestival.bigSpawnOnePoints > 0 && MonjaFestival.cyanPlayer06Items < 3;
                                            MonjaFestival.cyanPlayer06foundspawn = 1;
                                            break;
                                        case "bigSpawnTwo":
                                            CanUse = MonjaFestival.bigSpawnTwoPoints > 0 && MonjaFestival.cyanPlayer06Items < 3;
                                            MonjaFestival.cyanPlayer06foundspawn = 2;
                                            break;
                                        case "littleSpawnOne":
                                            CanUse = MonjaFestival.littleSpawnOnePoints > 0 && MonjaFestival.cyanPlayer06Items < 3;
                                            MonjaFestival.cyanPlayer06foundspawn = 3;
                                            break;
                                        case "littleSpawnTwo":
                                            CanUse = MonjaFestival.littleSpawnTwoPoints > 0 && MonjaFestival.cyanPlayer06Items < 3;
                                            MonjaFestival.cyanPlayer06foundspawn = 4;
                                            break;
                                        case "littleSpawnThree":
                                            CanUse = MonjaFestival.littleSpawnThreePoints > 0 && MonjaFestival.cyanPlayer06Items < 3;
                                            MonjaFestival.cyanPlayer06foundspawn = 5;
                                            break;
                                        case "littleSpawnFour":
                                            CanUse = MonjaFestival.littleSpawnFourPoints > 0 && MonjaFestival.cyanPlayer06Items < 3;
                                            MonjaFestival.cyanPlayer06foundspawn = 6;
                                            break;
                                        case "greenBase":
                                            CanUse = false;
                                            break;
                                        case "cyanBase":
                                            CanUse = MonjaFestival.cyanPlayer06Items > 0;
                                            MonjaFestival.cyanPlayer06foundspawn = 7;
                                            break;
                                        case "greyBase":
                                            CanUse = false;
                                            break;
                                        case "allulMonja":
                                            CanUse = MonjaFestival.allulMonja.activeSelf;
                                            MonjaFestival.cyanPlayer06foundspawn = 9;
                                            break;
                                    }
                                }
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.cyanPlayer06IsReviving;
                },
                () => { cyanmonja06PickDeliverButton.Timer = cyanmonja06PickDeliverButton.MaxTimer; },
                MonjaFestival.getcyanPickButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                3f,
                () => {
                    if (!MonjaFestival.cyanPlayer06.Data.IsDead) {
                        MessageWriter findSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalFindSpawns, Hazel.SendOption.Reliable, -1);
                        MessageWriter checkSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalCheckItems, Hazel.SendOption.Reliable, -1);
                        switch (MonjaFestival.cyanPlayer06foundspawn) {
                            case 1: // Big Spawn one
                                findSpawn.Write(1);
                                checkSpawn.Write(13);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(1);
                                RPCProcedure.monjaFestivalCheckItems(13);
                                break;
                            case 2: // Big Spawn two
                                findSpawn.Write(2);
                                checkSpawn.Write(13);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(2);
                                RPCProcedure.monjaFestivalCheckItems(13);
                                break;
                            case 3: // Little spawn one
                                findSpawn.Write(3);
                                checkSpawn.Write(13);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(3);
                                RPCProcedure.monjaFestivalCheckItems(13);
                                break;
                            case 4: // Little spawn two
                                findSpawn.Write(4);
                                checkSpawn.Write(13);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(4);
                                RPCProcedure.monjaFestivalCheckItems(13);
                                break;
                            case 5: // Little spawn three
                                findSpawn.Write(5);
                                checkSpawn.Write(13);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(5);
                                RPCProcedure.monjaFestivalCheckItems(13);
                                break;
                            case 6: // Little spawn four
                                findSpawn.Write(6);
                                checkSpawn.Write(13);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(6);
                                RPCProcedure.monjaFestivalCheckItems(13);
                                break;
                            case 7: // Cyan base
                                checkSpawn.Write(33);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(33);
                                MessageWriter delivertoSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                delivertoSpawn.Write(2);
                                AmongUsClient.Instance.FinishRpcImmediately(delivertoSpawn);
                                RPCProcedure.monjaFestivalDeliver(2);
                                break;
                            case 8: // Little Monja
                                checkSpawn.Write(13);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(13);
                                MessageWriter destroyLittleMonja = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDestroyLittleMonja, Hazel.SendOption.Reliable, -1);
                                destroyLittleMonja.Write(MonjaFestival.cyanPlayer06currentSpawn.name);
                                AmongUsClient.Instance.FinishRpcImmediately(destroyLittleMonja);
                                RPCProcedure.monjaFestivalDestroyLittleMonja(MonjaFestival.cyanPlayer06currentSpawn.name);
                                break;
                            case 9: // Allul Monja
                                MessageWriter deliverAllul = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                deliverAllul.Write(5);
                                AmongUsClient.Instance.FinishRpcImmediately(deliverAllul);
                                RPCProcedure.monjaFestivalDeliver(5);
                                break;
                        }
                    }
                    cyanmonja06PickDeliverButton.Timer = cyanmonja06PickDeliverButton.MaxTimer;
                }
            );

            // Cyan Monja 06 button counter
            MonjaFestival.cyanPlayer06DeliverCount = GameObject.Instantiate(cyanmonja06PickDeliverButton.actionButton.cooldownTimerText, cyanmonja06PickDeliverButton.actionButton.cooldownTimerText.transform.parent);
            MonjaFestival.cyanPlayer06DeliverCount.enableWordWrapping = false;
            MonjaFestival.cyanPlayer06DeliverCount.transform.localScale = Vector3.one * 0.5f;
            MonjaFestival.cyanPlayer06DeliverCount.transform.localPosition += new Vector3(-0.06f, 0.7f, 0);

            // Cyan Monja 07 find deliver button
            cyanmonja07PickDeliverButton = new CustomButton(
                () => {

                    cyanmonja07PickDeliverButton.HasEffect = true;
                    MonjaFestival.cyanPlayer07selectedSpawn = MonjaFestival.cyanPlayer07currentSpawn;

                },
                () => { return MonjaFestival.cyanPlayer07 != null && MonjaFestival.cyanPlayer07 == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (MonjaFestival.localArrows.Count != 0) {
                        MonjaFestival.localArrows[1].Update(MonjaFestival.cyanTeamBase.transform.position);
                    }

                    if (MonjaFestival.cyanPlayer07Items == 3) {
                        cyanmonja07PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getcyanDeliverButtonSprite();
                    }
                    else if (MonjaFestival.cyanPlayer07Items > 0 && MonjaFestival.cyanPlayer07Items < 3) {
                        cyanmonja07PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getcyanPickDeliverButtonSprite();
                    }
                    else {
                        cyanmonja07PickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getcyanPickButtonSprite();
                    }

                    if (cyanmonja07PickDeliverButton.isEffectActive && MonjaFestival.cyanPlayer07selectedSpawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, MonjaFestival.cyanPlayer07selectedSpawn.transform.position) > 0.75f) {
                        MonjaFestival.cyanPlayer07selectedSpawn = null;
                        cyanmonja07PickDeliverButton.Timer = 0f;
                        cyanmonja07PickDeliverButton.isEffectActive = false;
                    }

                    bool CanUse = false;
                    if (MonjaFestival.bigMonjaSpawns.Count != 0) {
                        foreach (GameObject spawn in MonjaFestival.bigMonjaSpawns) {
                            if (spawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, spawn.transform.position) < 0.75f) {
                                MonjaFestival.cyanPlayer07currentSpawn = spawn;
                                CanUse = true;
                                if (spawn.name.StartsWith("littleMonja")) {
                                    CanUse = MonjaFestival.cyanPlayer07Items < 3;
                                    MonjaFestival.cyanPlayer07foundspawn = 8;
                                }
                                else {
                                    switch (spawn.name) {
                                        case "bigSpawnOne":
                                            CanUse = MonjaFestival.bigSpawnOnePoints > 0 && MonjaFestival.cyanPlayer07Items < 3;
                                            MonjaFestival.cyanPlayer07foundspawn = 1;
                                            break;
                                        case "bigSpawnTwo":
                                            CanUse = MonjaFestival.bigSpawnTwoPoints > 0 && MonjaFestival.cyanPlayer07Items < 3;
                                            MonjaFestival.cyanPlayer07foundspawn = 2;
                                            break;
                                        case "littleSpawnOne":
                                            CanUse = MonjaFestival.littleSpawnOnePoints > 0 && MonjaFestival.cyanPlayer07Items < 3;
                                            MonjaFestival.cyanPlayer07foundspawn = 3;
                                            break;
                                        case "littleSpawnTwo":
                                            CanUse = MonjaFestival.littleSpawnTwoPoints > 0 && MonjaFestival.cyanPlayer07Items < 3;
                                            MonjaFestival.cyanPlayer07foundspawn = 4;
                                            break;
                                        case "littleSpawnThree":
                                            CanUse = MonjaFestival.littleSpawnThreePoints > 0 && MonjaFestival.cyanPlayer07Items < 3;
                                            MonjaFestival.cyanPlayer07foundspawn = 5;
                                            break;
                                        case "littleSpawnFour":
                                            CanUse = MonjaFestival.littleSpawnFourPoints > 0 && MonjaFestival.cyanPlayer07Items < 3;
                                            MonjaFestival.cyanPlayer07foundspawn = 6;
                                            break;
                                        case "greenBase":
                                            CanUse = false;
                                            break;
                                        case "cyanBase":
                                            CanUse = MonjaFestival.cyanPlayer07Items > 0;
                                            MonjaFestival.cyanPlayer07foundspawn = 7;
                                            break;
                                        case "greyBase":
                                            CanUse = false;
                                            break;
                                        case "allulMonja":
                                            CanUse = MonjaFestival.allulMonja.activeSelf;
                                            MonjaFestival.cyanPlayer07foundspawn = 9;
                                            break;
                                    }
                                }
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.cyanPlayer07IsReviving;
                },
                () => { cyanmonja07PickDeliverButton.Timer = cyanmonja07PickDeliverButton.MaxTimer; },
                MonjaFestival.getcyanPickButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                3f,
                () => {
                    if (!MonjaFestival.cyanPlayer07.Data.IsDead) {
                        MessageWriter findSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalFindSpawns, Hazel.SendOption.Reliable, -1);
                        MessageWriter checkSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalCheckItems, Hazel.SendOption.Reliable, -1);
                        switch (MonjaFestival.cyanPlayer07foundspawn) {
                            case 1: // Big Spawn one
                                findSpawn.Write(1);
                                checkSpawn.Write(14);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(1);
                                RPCProcedure.monjaFestivalCheckItems(14);
                                break;
                            case 2: // Big Spawn two
                                findSpawn.Write(2);
                                checkSpawn.Write(14);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(2);
                                RPCProcedure.monjaFestivalCheckItems(14);
                                break;
                            case 3: // Little spawn one
                                findSpawn.Write(3);
                                checkSpawn.Write(14);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(3);
                                RPCProcedure.monjaFestivalCheckItems(14);
                                break;
                            case 4: // Little spawn two
                                findSpawn.Write(4);
                                checkSpawn.Write(14);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(4);
                                RPCProcedure.monjaFestivalCheckItems(14);
                                break;
                            case 5: // Little spawn three
                                findSpawn.Write(5);
                                checkSpawn.Write(14);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(5);
                                RPCProcedure.monjaFestivalCheckItems(14);
                                break;
                            case 6: // Little spawn four
                                findSpawn.Write(6);
                                checkSpawn.Write(14);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(6);
                                RPCProcedure.monjaFestivalCheckItems(14);
                                break;
                            case 7: // Cyan base
                                checkSpawn.Write(34);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(34);
                                MessageWriter delivertoSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                delivertoSpawn.Write(2);
                                AmongUsClient.Instance.FinishRpcImmediately(delivertoSpawn);
                                RPCProcedure.monjaFestivalDeliver(2);
                                break;
                            case 8: // Little Monja
                                checkSpawn.Write(14);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(14);
                                MessageWriter destroyLittleMonja = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDestroyLittleMonja, Hazel.SendOption.Reliable, -1);
                                destroyLittleMonja.Write(MonjaFestival.cyanPlayer07currentSpawn.name);
                                AmongUsClient.Instance.FinishRpcImmediately(destroyLittleMonja);
                                RPCProcedure.monjaFestivalDestroyLittleMonja(MonjaFestival.cyanPlayer07currentSpawn.name);
                                break;
                            case 9: // Allul Monja
                                MessageWriter deliverAllul = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                deliverAllul.Write(5);
                                AmongUsClient.Instance.FinishRpcImmediately(deliverAllul);
                                RPCProcedure.monjaFestivalDeliver(5);
                                break;
                        }
                    }
                    cyanmonja07PickDeliverButton.Timer = cyanmonja07PickDeliverButton.MaxTimer;
                }
            );

            // Cyan Monja 07 button counter
            MonjaFestival.cyanPlayer07DeliverCount = GameObject.Instantiate(cyanmonja07PickDeliverButton.actionButton.cooldownTimerText, cyanmonja07PickDeliverButton.actionButton.cooldownTimerText.transform.parent);
            MonjaFestival.cyanPlayer07DeliverCount.enableWordWrapping = false;
            MonjaFestival.cyanPlayer07DeliverCount.transform.localScale = Vector3.one * 0.5f;
            MonjaFestival.cyanPlayer07DeliverCount.transform.localPosition += new Vector3(-0.07f, 0.7f, 0);

            // Big Monja find deliver button
            bigmonjaPickDeliverButton = new CustomButton(
                () => {

                    bigmonjaPickDeliverButton.HasEffect = true;
                    MonjaFestival.bigMonjaPlayerselectedSpawn = MonjaFestival.bigMonjaPlayercurrentSpawn;

                },
                () => { return MonjaFestival.bigMonjaPlayer != null && MonjaFestival.bigMonjaPlayer == PlayerInCache.LocalPlayer.PlayerControl; },
                () => {
                    if (MonjaFestival.localArrows.Count != 0) {
                        MonjaFestival.localArrows[2].Update(MonjaFestival.bigMonjaBase.transform.position);
                        if (GameOptionsManager.Instance.currentGameOptions.MapId == 5) {
                            MonjaFestival.localArrows[3].Update(MonjaFestival.bigMonjaBaseTwo.transform.position);
                        }
                    }

                    if (MonjaFestival.bigMonjaPlayerItems == 10) {
                        bigmonjaPickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreyDeliverButtonSprite();
                    }
                    else if (MonjaFestival.bigMonjaPlayerItems > 0 && MonjaFestival.bigMonjaPlayerItems < 10) {
                        bigmonjaPickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreyPickDeliverButtonSprite();
                    }
                    else {
                        bigmonjaPickDeliverButton.actionButton.graphic.sprite = MonjaFestival.getgreyPickButtonSprite();
                    }

                    if (bigmonjaPickDeliverButton.isEffectActive && MonjaFestival.bigMonjaPlayerselectedSpawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, MonjaFestival.bigMonjaPlayerselectedSpawn.transform.position) > 0.75f) {
                        MonjaFestival.bigMonjaPlayerselectedSpawn = null;
                        bigmonjaPickDeliverButton.Timer = 0f;
                        bigmonjaPickDeliverButton.isEffectActive = false;
                    }

                    bool CanUse = false;
                    if (MonjaFestival.bigMonjaSpawns.Count != 0) {
                        foreach (GameObject spawn in MonjaFestival.bigMonjaSpawns) {
                            if (spawn != null && Vector2.Distance(PlayerInCache.LocalPlayer.PlayerControl.transform.position, spawn.transform.position) < 0.75f) {
                                MonjaFestival.bigMonjaPlayercurrentSpawn = spawn;
                                CanUse = true;
                                if (spawn.name.StartsWith("littleMonja")) {
                                    CanUse = MonjaFestival.bigMonjaPlayerItems < 10;
                                    MonjaFestival.bigMonjaPlayerfoundspawn = 8;
                                }
                                else {
                                    switch (spawn.name) {
                                        case "bigSpawnOne":
                                            CanUse = MonjaFestival.bigSpawnOnePoints > 0 && MonjaFestival.bigMonjaPlayerItems < 10;
                                            MonjaFestival.bigMonjaPlayerfoundspawn = 1;
                                            break;
                                        case "bigSpawnTwo":
                                            CanUse = MonjaFestival.bigSpawnTwoPoints > 0 && MonjaFestival.bigMonjaPlayerItems < 10;
                                            MonjaFestival.bigMonjaPlayerfoundspawn = 2;
                                            break;
                                        case "littleSpawnOne":
                                            CanUse = MonjaFestival.littleSpawnOnePoints > 0 && MonjaFestival.bigMonjaPlayerItems < 10;
                                            MonjaFestival.bigMonjaPlayerfoundspawn = 3;
                                            break;
                                        case "littleSpawnTwo":
                                            CanUse = MonjaFestival.littleSpawnTwoPoints > 0 && MonjaFestival.bigMonjaPlayerItems < 10;
                                            MonjaFestival.bigMonjaPlayerfoundspawn = 4;
                                            break;
                                        case "littleSpawnThree":
                                            CanUse = MonjaFestival.littleSpawnThreePoints > 0 && MonjaFestival.bigMonjaPlayerItems < 10;
                                            MonjaFestival.bigMonjaPlayerfoundspawn = 5;
                                            break;
                                        case "littleSpawnFour":
                                            CanUse = MonjaFestival.littleSpawnFourPoints > 0 && MonjaFestival.bigMonjaPlayerItems < 10;
                                            MonjaFestival.bigMonjaPlayerfoundspawn = 6;
                                            break;
                                        case "greenBase":
                                            CanUse = MonjaFestival.greenPoints > 0 && MonjaFestival.bigMonjaPlayerItems < 10;
                                            MonjaFestival.bigMonjaPlayerfoundspawn = 9;
                                            break;
                                        case "cyanBase":
                                            CanUse = MonjaFestival.cyanPoints > 0 && MonjaFestival.bigMonjaPlayerItems < 10;
                                            MonjaFestival.bigMonjaPlayerfoundspawn = 10;
                                            break;
                                        case "greyBase":
                                            CanUse = MonjaFestival.bigMonjaPlayerItems > 0;
                                            MonjaFestival.bigMonjaPlayerfoundspawn = 7;
                                            break;
                                        case "allulMonja":
                                            CanUse = MonjaFestival.allulMonja.activeSelf;
                                            MonjaFestival.bigMonjaPlayerfoundspawn = 11;
                                            break;
                                    }
                                }
                            }
                        }
                    }
                    return CanUse && PlayerInCache.LocalPlayer.PlayerControl.CanMove && !PlayerInCache.LocalPlayer.Data.IsDead && !MonjaFestival.bigMonjaIsReviving;
                },
                () => { bigmonjaPickDeliverButton.Timer = bigmonjaPickDeliverButton.MaxTimer; },
                MonjaFestival.getgreyPickButtonSprite(),
                CustomButton.ButtonPositions.lowerRowRight,
                __instance,
                KeyCode.F,
                false,
                3f,
                () => {
                    if (!MonjaFestival.bigMonjaPlayer.Data.IsDead) {
                        MessageWriter findSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalFindSpawns, Hazel.SendOption.Reliable, -1);
                        MessageWriter checkSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalCheckItems, Hazel.SendOption.Reliable, -1);
                        switch (MonjaFestival.bigMonjaPlayerfoundspawn) {
                            case 1: // Big Spawn one
                                findSpawn.Write(1);
                                checkSpawn.Write(15);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(1);
                                RPCProcedure.monjaFestivalCheckItems(15);
                                break;
                            case 2: // Big Spawn two
                                findSpawn.Write(2);
                                checkSpawn.Write(15);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(2);
                                RPCProcedure.monjaFestivalCheckItems(15);
                                break;
                            case 3: // Little spawn one
                                findSpawn.Write(3);
                                checkSpawn.Write(15);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(3);
                                RPCProcedure.monjaFestivalCheckItems(15);
                                break;
                            case 4: // Little spawn two
                                findSpawn.Write(4);
                                checkSpawn.Write(15);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(4);
                                RPCProcedure.monjaFestivalCheckItems(15);
                                break;
                            case 5: // Little spawn three
                                findSpawn.Write(5);
                                checkSpawn.Write(15);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(5);
                                RPCProcedure.monjaFestivalCheckItems(15);
                                break;
                            case 6: // Little spawn four
                                findSpawn.Write(6);
                                checkSpawn.Write(15);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(6);
                                RPCProcedure.monjaFestivalCheckItems(15);
                                break;
                            case 7: // Grey base
                                checkSpawn.Write(35);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(35);
                                MessageWriter delivertoSpawn = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                delivertoSpawn.Write(3);
                                AmongUsClient.Instance.FinishRpcImmediately(delivertoSpawn);
                                RPCProcedure.monjaFestivalDeliver(3);
                                break;
                            case 8: // Little Monja
                                checkSpawn.Write(15);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalCheckItems(15);
                                MessageWriter destroyLittleMonja = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDestroyLittleMonja, Hazel.SendOption.Reliable, -1);
                                destroyLittleMonja.Write(MonjaFestival.bigMonjaPlayerselectedSpawn.name);
                                AmongUsClient.Instance.FinishRpcImmediately(destroyLittleMonja);
                                RPCProcedure.monjaFestivalDestroyLittleMonja(MonjaFestival.bigMonjaPlayerselectedSpawn.name);
                                break;
                            case 9: // Steal from green
                                findSpawn.Write(7);
                                checkSpawn.Write(15);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(7);
                                RPCProcedure.monjaFestivalCheckItems(15);
                                break;
                            case 10: // Steal from cyan
                                findSpawn.Write(8);
                                checkSpawn.Write(15);
                                AmongUsClient.Instance.FinishRpcImmediately(findSpawn);
                                AmongUsClient.Instance.FinishRpcImmediately(checkSpawn);
                                RPCProcedure.monjaFestivalFindSpawns(8);
                                RPCProcedure.monjaFestivalCheckItems(15);
                                break;
                            case 11: // Allul Monja
                                MessageWriter deliverAllul = AmongUsClient.Instance.StartRpcImmediately(PlayerInCache.LocalPlayer.PlayerControl.NetId, (byte)CustomRPC.MonjaFestivalDeliver, Hazel.SendOption.Reliable, -1);
                                deliverAllul.Write(6);
                                AmongUsClient.Instance.FinishRpcImmediately(deliverAllul);
                                RPCProcedure.monjaFestivalDeliver(6);
                                break;
                        }
                    }
                    bigmonjaPickDeliverButton.Timer = bigmonjaPickDeliverButton.MaxTimer;
                }
            );

            // Green Monja button counter
            MonjaFestival.bigMonjaPlayerDeliverCount = GameObject.Instantiate(bigmonjaPickDeliverButton.actionButton.cooldownTimerText, bigmonjaPickDeliverButton.actionButton.cooldownTimerText.transform.parent);
            MonjaFestival.bigMonjaPlayerDeliverCount.enableWordWrapping = false;
            MonjaFestival.bigMonjaPlayerDeliverCount.transform.localScale = Vector3.one * 0.5f;
            MonjaFestival.bigMonjaPlayerDeliverCount.transform.localPosition += new Vector3(-0.05f, 0.7f, 0); 

            setCustomButtonCooldowns();
        }
    }
}